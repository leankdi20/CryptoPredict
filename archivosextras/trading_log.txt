
==== 2025-10-09 21:23:56 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-09 21:23:58 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,875 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-09 21:24:00 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 134, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 55, in main
    model_path = resolve_model_path()
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 15, in resolve_model_path
    meta = json.loads(META_PATH.read_text(encoding="utf-8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 338, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 354, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 131 column 34 (char 2561)
---- EXIT CODE 1 (src.inference.update_and_predict) ----

==== 2025-10-09 21:31:18 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-09 21:31:19 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,875 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-09 21:31:22 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 134, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 55, in main
    model_path = resolve_model_path()
                 ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 15, in resolve_model_path
    meta = json.loads(META_PATH.read_text(encoding="utf-8"))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\json\__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 338, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\json\decoder.py", line 354, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting ',' delimiter: line 146 column 2 (char 2921)
---- EXIT CODE 1 (src.inference.update_and_predict) ----

==== 2025-10-09 21:33:44 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-09 21:33:45 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,875 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-09 21:33:48 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 02:00:00+00:00
Score base (sin calib): 0.664 | Calibrada: 0.546 | Usada(CAL): 0.546
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200     2.36
vol_72      1.91
vol_24      1.77
atr14       1.55
cos_dow     1.29
ema_50      1.24
logret_1    1.23
ret_1       1.23
Últimas 200 → min:0.312 max:0.648 mean:0.438
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-09 21:33:50 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.546 | Prob BAJA: 0.454
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 02:00:00+00:00 | Close: 121,332.12 USDT
Prob SUBA: 0.546 | Prob BAJA: 0.454
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0297 | EV_DOWN: -0.0335
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.546
   • Kelly raw: 0.033 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-09 21:36:45 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-09 21:36:46 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,875 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-09 21:36:49 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 02:00:00+00:00
Score base (sin calib): 0.664 | Calibrada: 0.546 | Usada(CAL): 0.546
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200     2.36
vol_72      1.91
vol_24      1.77
atr14       1.55
cos_dow     1.29
ema_50      1.24
logret_1    1.23
ret_1       1.23
Últimas 200 → min:0.312 max:0.648 mean:0.438
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-09 21:36:51 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.546 | Prob BAJA: 0.454
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 02:00:00+00:00 | Close: 121,332.12 USDT
Prob SUBA: 0.546 | Prob BAJA: 0.454
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0297 | EV_DOWN: -0.0335
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.546
   • Kelly raw: 0.033 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-09 21:45:01 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-09 21:45:03 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,875 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-09 21:45:06 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 02:00:00+00:00
Score base (sin calib): 0.664 | Calibrada: 0.546 | Usada(CAL): 0.546
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200     2.36
vol_72      1.91
vol_24      1.77
atr14       1.55
cos_dow     1.29
ema_50      1.24
logret_1    1.23
ret_1       1.23
Últimas 200 → min:0.312 max:0.648 mean:0.438
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-09 21:45:08 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.546 | Prob BAJA: 0.454
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 02:00:00+00:00 | Close: 121,332.12 USDT
Prob SUBA: 0.546 | Prob BAJA: 0.454
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0297 | EV_DOWN: -0.0335
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.546
   • Kelly raw: 0.033 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-09 22:45:01 :: RUN src.data.pipeline_csv  ====
✅ data\raw\BTCUSDT\ohlcv_spot_1h.csv actualizado | filas totales: 33,076
⏱️ Última vela: 2025-10-10 04:00:00+00:00
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-09 22:45:03 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,876 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-09 22:45:06 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 03:00:00+00:00
Score base (sin calib): 0.603 | Calibrada: 0.522 | Usada(CAL): 0.522
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200           2.35
vol_72            1.91
vol_24            1.74
ret_2             1.57
cos_dow           1.29
range_over_atr    1.28
ret_1_lag1        1.23
ema_50            1.23
Últimas 200 → min:0.312 max:0.648 mean:0.439
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-09 22:45:08 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.522 | Prob BAJA: 0.478
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 03:00:00+00:00 | Close: 120,946.74 USDT
Prob SUBA: 0.522 | Prob BAJA: 0.478
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: -0.0142 | EV_DOWN: 0.0160
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 08:45:01 :: RUN src.data.pipeline_csv  ====
✅ data\raw\BTCUSDT\ohlcv_spot_1h.csv actualizado | filas totales: 33,086
⏱️ Última vela: 2025-10-10 14:00:00+00:00
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 08:45:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,886 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 08:45:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 13:00:00+00:00
Score base (sin calib): 0.090 | Calibrada: 0.331 | Usada(CAL): 0.331
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick        5.44
upper_wick_pct    5.29
vol_z20           2.57
range_over_atr    2.42
sma_200           2.24
range             1.85
true_range        1.85
vol_72            1.73
Últimas 200 → min:0.314 max:0.648 mean:0.439
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 08:45:18 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.331 | Prob BAJA: 0.669
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 13:00:00+00:00 | Close: 121,684.20 USDT
Prob SUBA: 0.331 | Prob BAJA: 0.669
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: -0.3754 | EV_DOWN: 0.4233
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.669
   • Kelly raw: 0.375 | Kelly sugerido (25%): 0.094
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 09:45:01 :: RUN src.data.pipeline_csv  ====
✅ data\raw\BTCUSDT\ohlcv_spot_1h.csv actualizado | filas totales: 33,087
⏱️ Última vela: 2025-10-10 15:00:00+00:00
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 09:45:03 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,887 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 09:45:06 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 14:00:00+00:00
Score base (sin calib): 0.558 | Calibrada: 0.505 | Usada(CAL): 0.505
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200           2.23
upper_wick        1.92
upper_wick_pct    1.84
vol_72            1.55
cos_dow           1.29
range_over_atr    1.25
cos_hour          1.22
vol_regime        1.22
Últimas 200 → min:0.314 max:0.648 mean:0.440
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 09:45:08 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.505 | Prob BAJA: 0.495
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 14:00:00+00:00 | Close: 121,297.74 USDT
Prob SUBA: 0.505 | Prob BAJA: 0.495
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: -0.0470 | EV_DOWN: 0.0530
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 10:45:01 :: RUN src.data.pipeline_csv  ====
✅ data\raw\BTCUSDT\ohlcv_spot_1h.csv actualizado | filas totales: 33,088
⏱️ Última vela: 2025-10-10 16:00:00+00:00
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 10:45:03 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,888 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 10:45:06 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 15:00:00+00:00
Score base (sin calib): 0.621 | Calibrada: 0.529 | Usada(CAL): 0.529
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
lower_wick          6.78
lower_wick_pct      6.62
true_range          6.16
quote_volume_usd    5.87
range               4.44
logret_1            4.29
ret_1               4.27
ret_2               3.73
Últimas 200 → min:0.314 max:0.648 mean:0.440
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 10:45:08 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.529 | Prob BAJA: 0.471
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 15:00:00+00:00 | Close: 119,587.03 USDT
Prob SUBA: 0.529 | Prob BAJA: 0.471
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: -0.0016 | EV_DOWN: 0.0017
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 12:45:01 :: RUN src.data.pipeline_csv  ====
✅ data\raw\BTCUSDT\ohlcv_spot_1h.csv actualizado | filas totales: 33,090
⏱️ Última vela: 2025-10-10 18:00:00+00:00
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 12:45:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,890 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 12:45:09 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 17:00:00+00:00
Score base (sin calib): 0.663 | Calibrada: 0.545 | Usada(CAL): 0.545
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3        5.14
ret_4        5.02
ret_6        4.16
ret_8        3.44
ret_2        3.43
logret_1     3.14
ret_1        3.13
macd_hist    2.77
Últimas 200 → min:0.314 max:0.648 mean:0.442
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 12:45:17 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.545 | Prob BAJA: 0.455
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 17:00:00+00:00 | Close: 117,623.80 USDT
Prob SUBA: 0.545 | Prob BAJA: 0.455
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0290 | EV_DOWN: -0.0328
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.545
   • Kelly raw: 0.033 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 12:51:55 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 12:51:57 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,890 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 12:52:00 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 17:00:00+00:00
Score base (sin calib): 0.663 | Calibrada: 0.545 | Usada(CAL): 0.545
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3        5.14
ret_4        5.02
ret_6        4.16
ret_8        3.44
ret_2        3.43
logret_1     3.14
ret_1        3.13
macd_hist    2.77
Últimas 200 → min:0.314 max:0.648 mean:0.442
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 12:52:03 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.545 | Prob BAJA: 0.455
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 17:00:00+00:00 | Close: 117,623.80 USDT
Prob SUBA: 0.545 | Prob BAJA: 0.455
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0290 | EV_DOWN: -0.0328
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.545
   • Kelly raw: 0.033 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 12:58:05 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 12:58:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,890 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 12:58:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 17:00:00+00:00
Score base (sin calib): 0.663 | Calibrada: 0.545 | Usada(CAL): 0.545
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3        5.14
ret_4        5.02
ret_6        4.16
ret_8        3.44
ret_2        3.43
logret_1     3.14
ret_1        3.13
macd_hist    2.77
Últimas 200 → min:0.314 max:0.648 mean:0.442
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 12:58:12 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.545 | Prob BAJA: 0.455
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 17:00:00+00:00 | Close: 117,623.80 USDT
Prob SUBA: 0.545 | Prob BAJA: 0.455
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0290 | EV_DOWN: -0.0328
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.545
   • Kelly raw: 0.033 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 12:59:16 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 12:59:18 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,890 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 12:59:21 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 17:00:00+00:00
Score base (sin calib): 0.663 | Calibrada: 0.545 | Usada(CAL): 0.545
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3        5.14
ret_4        5.02
ret_6        4.16
ret_8        3.44
ret_2        3.43
logret_1     3.14
ret_1        3.13
macd_hist    2.77
Últimas 200 → min:0.314 max:0.648 mean:0.442
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 12:59:23 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.545 | Prob BAJA: 0.455
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 17:00:00+00:00 | Close: 117,623.80 USDT
Prob SUBA: 0.545 | Prob BAJA: 0.455
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0290 | EV_DOWN: -0.0328
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.545
   • Kelly raw: 0.033 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 13:02:33 :: RUN src.data.pipeline_csv  ====
✅ data\raw\BTCUSDT\ohlcv_spot_1h.csv actualizado | filas totales: 33,091
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 18:00:00+00:00 | Ahora UTC: 2025-10-10 19:02:35.702437+00:00
  • Siguiente cierre esperado: 2025-10-10 20:00:00+00:00
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 13:02:35 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,891 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 13:02:39 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 18:00:00+00:00
Score base (sin calib): 0.738 | Calibrada: 0.574 | Usada(CAL): 0.574
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4              4.63
ret_6              4.27
ret_8              3.67
macd_hist          3.38
ret_1_lag1         3.13
ret_3              2.97
slope_sma20        2.54
close_sma20_atr    2.52
Últimas 200 → min:0.314 max:0.648 mean:0.443
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 13:02:42 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.574 | Prob BAJA: 0.426
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 18:00:00+00:00 | Close: 117,481.01 USDT
Prob SUBA: 0.574 | Prob BAJA: 0.426
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0829 | EV_DOWN: -0.0935
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.574
   • Kelly raw: 0.093 | Kelly sugerido (25%): 0.023
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 13:45:01 :: RUN src.data.pipeline_csv  ====
No hay nuevas velas.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 13:45:03 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,891 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 13:45:07 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 13:45:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 18:00:00+00:00
Score base (sin calib): 0.738 | Calibrada: 0.574 | Usada(CAL): 0.574
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4              4.63
ret_6              4.27
ret_8              3.67
macd_hist          3.38
ret_1_lag1         3.13
ret_3              2.97
slope_sma20        2.54
close_sma20_atr    2.52
Últimas 200 → min:0.314 max:0.648 mean:0.443
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 13:45:13 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.574 | Prob BAJA: 0.426
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 18:00:00+00:00 | Close: 117,481.01 USDT
Prob SUBA: 0.574 | Prob BAJA: 0.426
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0829 | EV_DOWN: -0.0935
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.574
   • Kelly raw: 0.093 | Kelly sugerido (25%): 0.023
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 13:49:31 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 19:00:00+00:00 | Ahora UTC: 2025-10-10 19:49:32.592374+00:00
  • Siguiente cierre esperado (UTC): 2025-10-10 20:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 13:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 13:49:32.592374-06:00
      - Próximo cierre (CR):     2025-10-10 14:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 13:49:32 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,891 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 13:49:35 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 13:49:38 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 18:00:00+00:00
Score base (sin calib): 0.738 | Calibrada: 0.574 | Usada(CAL): 0.574
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4              4.63
ret_6              4.27
ret_8              3.67
macd_hist          3.38
ret_1_lag1         3.13
ret_3              2.97
slope_sma20        2.54
close_sma20_atr    2.52
Últimas 200 → min:0.314 max:0.648 mean:0.443
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 13:49:41 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.574 | Prob BAJA: 0.426
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 18:00:00+00:00 | Close: 117,481.01 USDT
Prob SUBA: 0.574 | Prob BAJA: 0.426
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0829 | EV_DOWN: -0.0935
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.574
   • Kelly raw: 0.093 | Kelly sugerido (25%): 0.023
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 13:55:37 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 19:00:00+00:00 | Ahora UTC: 2025-10-10 19:55:37.981982+00:00
  • Siguiente cierre esperado (UTC): 2025-10-10 20:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 13:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 13:55:37.981982-06:00
      - Próximo cierre (CR):     2025-10-10 14:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 13:55:38 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,891 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 13:55:41 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 13:55:44 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 18:00:00+00:00
Score base (sin calib): 0.738 | Calibrada: 0.574 | Usada(CAL): 0.574
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4              4.63
ret_6              4.27
ret_8              3.67
macd_hist          3.38
ret_1_lag1         3.13
ret_3              2.97
slope_sma20        2.54
close_sma20_atr    2.52
Últimas 200 → min:0.314 max:0.648 mean:0.443
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 13:55:46 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.574 | Prob BAJA: 0.426
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 18:00:00+00:00 | Close: 117,481.01 USDT
Prob SUBA: 0.574 | Prob BAJA: 0.426
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0829 | EV_DOWN: -0.0935
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.574
   • Kelly raw: 0.093 | Kelly sugerido (25%): 0.023
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 163, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 149, in main
    now_utc = pd.Timestamp.utcnow().tz_localize("UTC").to_pydatetime()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "timestamps.pyx", line 2299, in pandas._libs.tslibs.timestamps.Timestamp.tz_localize
TypeError: Cannot localize tz-aware Timestamp, use tz_convert for conversions
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----

==== 2025-10-10 13:58:05 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 19:00:00+00:00 | Ahora UTC: 2025-10-10 19:58:05.797574+00:00
  • Siguiente cierre esperado (UTC): 2025-10-10 20:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 13:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 13:58:05.797574-06:00
      - Próximo cierre (CR):     2025-10-10 14:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 13:58:05 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,891 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 13:58:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 13:58:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 18:00:00+00:00
Score base (sin calib): 0.738 | Calibrada: 0.574 | Usada(CAL): 0.574
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4              4.63
ret_6              4.27
ret_8              3.67
macd_hist          3.38
ret_1_lag1         3.13
ret_3              2.97
slope_sma20        2.54
close_sma20_atr    2.52
Últimas 200 → min:0.314 max:0.648 mean:0.443
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 13:58:14 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.574 | Prob BAJA: 0.426
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 18:00:00+00:00 | Close: 117,481.01 USDT
Prob SUBA: 0.574 | Prob BAJA: 0.426
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.0829 | EV_DOWN: -0.0935
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.574
   • Kelly raw: 0.093 | Kelly sugerido (25%): 0.023
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 170, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 160, in main
    f"{et_start:%-I%p}–{et_end:%-I%p} ET | "
      ^^^^^^^^^^^^^^^^
ValueError: Invalid format string
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----

==== 2025-10-10 14:00:50 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,092
⏱️ Última vela: 2025-10-10 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-10 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-10 17:00:00-04:00
    = UTC:       2025-10-10 21:00:00+00:00
    = Costa Rica:2025-10-10 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 14:01:00 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,892 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 14:01:04 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 14:01:07 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 19:00:00+00:00
Score base (sin calib): 0.850 | Calibrada: 0.616 | Usada(CAL): 0.616
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              4.45
ret_8              3.83
macd_hist          3.63
ret_4              2.82
slope_sma20        2.62
close_sma20_atr    2.57
ret_3              2.24
macd               2.20
Últimas 200 → min:0.314 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 14:01:09 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.616 | Prob BAJA: 0.384
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 19:00:00+00:00 | Close: 117,283.57 USDT
Prob SUBA: 0.616 | Prob BAJA: 0.384
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.1620 | EV_DOWN: -0.1827
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.616
   • Kelly raw: 0.183 | Kelly sugerido (25%): 0.046
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-10 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 14:45:01 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 20:00:00+00:00 | Ahora UTC: 2025-10-10 20:45:02.572277+00:00
  • Siguiente cierre esperado (UTC): 2025-10-10 21:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 14:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 14:45:02.572277-06:00
      - Próximo cierre (CR):     2025-10-10 15:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 14:45:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,892 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 14:45:07 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 14:45:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 19:00:00+00:00
Score base (sin calib): 0.850 | Calibrada: 0.616 | Usada(CAL): 0.616
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              4.45
ret_8              3.83
macd_hist          3.63
ret_4              2.82
slope_sma20        2.62
close_sma20_atr    2.57
ret_3              2.24
macd               2.20
Últimas 200 → min:0.314 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 14:45:13 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.616 | Prob BAJA: 0.384
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 19:00:00+00:00 | Close: 117,283.57 USDT
Prob SUBA: 0.616 | Prob BAJA: 0.384
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.540 | DOWN≥0.540
EV_UP: 0.1620 | EV_DOWN: -0.1827
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.616
   • Kelly raw: 0.183 | Kelly sugerido (25%): 0.046
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-10 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 15:14:41 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,093
⏱️ Última vela: 2025-10-10 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-10 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-10 18:00:00-04:00
    = UTC:       2025-10-10 22:00:00+00:00
    = Costa Rica:2025-10-10 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 15:14:47 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,893 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 15:14:52 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 15:14:55 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 20:00:00+00:00
Score base (sin calib): 0.794 | Calibrada: 0.595 | Usada(CAL): 0.595
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              4.53
ret_8              4.27
macd_hist          3.81
slope_sma20        2.96
close_sma20_atr    2.73
ret_4              2.61
macd               2.51
ret_24             2.30
Últimas 200 → min:0.317 max:0.648 mean:0.446
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 15:14:58 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.595 | Prob BAJA: 0.405
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 20:00:00+00:00 | Close: 116,734.01 USDT
Prob SUBA: 0.595 | Prob BAJA: 0.405
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1228 | EV_DOWN: -0.1385
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.595
   • Kelly raw: 0.139 | Kelly sugerido (25%): 0.035
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-10 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 15:39:35 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 21:00:00+00:00 | Ahora UTC: 2025-10-10 21:39:35.875655+00:00
  • Siguiente cierre esperado (UTC): 2025-10-10 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 15:39:35.875655-06:00
      - Próximo cierre (CR):     2025-10-10 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 15:39:35 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,893 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 15:39:39 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 15:39:43 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 20:00:00+00:00
Score base (sin calib): 0.794 | Calibrada: 0.595 | Usada(CAL): 0.595
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              4.53
ret_8              4.27
macd_hist          3.81
slope_sma20        2.96
close_sma20_atr    2.73
ret_4              2.61
macd               2.51
ret_24             2.30
Últimas 200 → min:0.317 max:0.648 mean:0.446
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 15:39:46 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.595 | Prob BAJA: 0.405
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 20:00:00+00:00 | Close: 116,734.01 USDT
Prob SUBA: 0.595 | Prob BAJA: 0.405
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1228 | EV_DOWN: -0.1385
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.595
   • Kelly raw: 0.139 | Kelly sugerido (25%): 0.035
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-10 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 16:00:39 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,094
⏱️ Última vela: 2025-10-10 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-10 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-10 19:00:00-04:00
    = UTC:       2025-10-10 23:00:00+00:00
    = Costa Rica:2025-10-10 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 16:00:45 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,894 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 16:00:49 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 16:00:52 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 21:00:00+00:00
Score base (sin calib): 0.659 | Calibrada: 0.544 | Usada(CAL): 0.544
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
true_range        13.52
logret_1          12.04
ret_1             11.84
range             11.19
ret_2              9.60
ret_8              8.43
ret_3              8.23
lower_wick_pct     8.11
Últimas 200 → min:0.317 max:0.648 mean:0.447
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 16:00:55 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.544 | Prob BAJA: 0.456
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 21:00:00+00:00 | Close: 111,221.21 USDT
Prob SUBA: 0.544 | Prob BAJA: 0.456
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0266 | EV_DOWN: -0.0300
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.544
   • Kelly raw: 0.030 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-10 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 16:14:08 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 22:00:00+00:00 | Ahora UTC: 2025-10-10 22:14:09.430716+00:00
  • Siguiente cierre esperado (UTC): 2025-10-10 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 16:14:09.430716-06:00
      - Próximo cierre (CR):     2025-10-10 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 16:14:09 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,894 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 16:14:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 16:14:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 21:00:00+00:00
Score base (sin calib): 0.659 | Calibrada: 0.544 | Usada(CAL): 0.544
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
true_range        13.52
logret_1          12.04
ret_1             11.84
range             11.19
ret_2              9.60
ret_8              8.43
ret_3              8.23
lower_wick_pct     8.11
Últimas 200 → min:0.317 max:0.648 mean:0.447
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 16:14:19 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.544 | Prob BAJA: 0.456
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 21:00:00+00:00 | Close: 111,221.21 USDT
Prob SUBA: 0.544 | Prob BAJA: 0.456
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0266 | EV_DOWN: -0.0300
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.544
   • Kelly raw: 0.030 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-10 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 16:47:37 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 22:00:00+00:00 | Ahora UTC: 2025-10-10 22:47:38.241423+00:00
  • Siguiente cierre esperado (UTC): 2025-10-10 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 16:47:38.241423-06:00
      - Próximo cierre (CR):     2025-10-10 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 16:47:38 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,894 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 16:47:42 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 16:47:45 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 21:00:00+00:00
Score base (sin calib): 0.659 | Calibrada: 0.544 | Usada(CAL): 0.544
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
true_range        13.52
logret_1          12.04
ret_1             11.84
range             11.19
ret_2              9.60
ret_8              8.43
ret_3              8.23
lower_wick_pct     8.11
Últimas 200 → min:0.317 max:0.648 mean:0.447
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 16:47:49 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.544 | Prob BAJA: 0.456
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 21:00:00+00:00 | Close: 111,221.21 USDT
Prob SUBA: 0.544 | Prob BAJA: 0.456
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0266 | EV_DOWN: -0.0300
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.544
   • Kelly raw: 0.030 | Kelly sugerido (25%): 0.008
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-10 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 17:01:30 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,095
⏱️ Última vela: 2025-10-10 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-10 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-10 20:00:00-04:00
    = UTC:       2025-10-11 00:00:00+00:00
    = Costa Rica:2025-10-10 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 17:01:37 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,895 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 17:01:42 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 17:01:45 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 22:00:00+00:00
Score base (sin calib): 0.864 | Calibrada: 0.621 | Usada(CAL): 0.621
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1    11.84
vol_24         6.62
macd_hist      6.12
ret_8          6.03
vol_72         5.71
ret_1          5.11
logret_1       5.03
ret_2          4.94
Últimas 200 → min:0.317 max:0.648 mean:0.447
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 17:01:47 :: RUN src.decision.decide_and_recommend  ====
────────────────────────────────────────────────────────
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 176, in <module>
    print(f"🕒 Polymarket (ET): {start_et.strftime('%-I%p')}–{end_et.strftime('%-I%p')} ET | "
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: Invalid format string
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----

==== 2025-10-10 17:02:33 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 23:00:00+00:00 | Ahora UTC: 2025-10-10 23:02:34.040587+00:00
  • Siguiente cierre esperado (UTC): 2025-10-11 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 17:02:34.040587-06:00
      - Próximo cierre (CR):     2025-10-10 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 17:02:34 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,895 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 17:02:38 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 17:02:42 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 22:00:00+00:00
Score base (sin calib): 0.864 | Calibrada: 0.621 | Usada(CAL): 0.621
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1    11.84
vol_24         6.62
macd_hist      6.12
ret_8          6.03
vol_72         5.71
ret_1          5.11
logret_1       5.03
ret_2          4.94
Últimas 200 → min:0.317 max:0.648 mean:0.447
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 17:02:44 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.621 | Prob BAJA: 0.379
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 22:00:00+00:00 | Close: 113,541.53 USDT
Prob SUBA: 0.621 | Prob BAJA: 0.379
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1712 | EV_DOWN: -0.1931
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.621
   • Kelly raw: 0.193 | Kelly sugerido (25%): 0.048
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-10 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 17:05:05 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 23:00:00+00:00 | Ahora UTC: 2025-10-10 23:05:06.160193+00:00
  • Siguiente cierre esperado (UTC): 2025-10-11 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 17:05:06.160193-06:00
      - Próximo cierre (CR):     2025-10-10 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 17:05:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,895 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 17:05:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 17:05:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 22:00:00+00:00
Score base (sin calib): 0.864 | Calibrada: 0.621 | Usada(CAL): 0.621
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1    11.84
vol_24         6.62
macd_hist      6.12
ret_8          6.03
vol_72         5.71
ret_1          5.11
logret_1       5.03
ret_2          4.94
Últimas 200 → min:0.317 max:0.648 mean:0.447
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 17:05:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.621 | Prob BAJA: 0.379
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 22:00:00+00:00 | Close: 113,541.53 USDT
Prob SUBA: 0.621 | Prob BAJA: 0.379
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1712 | EV_DOWN: -0.1931
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.621
   • Kelly raw: 0.193 | Kelly sugerido (25%): 0.048
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-10 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 17:49:35 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-10 23:00:00+00:00 | Ahora UTC: 2025-10-10 23:49:36.136718+00:00
  • Siguiente cierre esperado (UTC): 2025-10-11 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 17:49:36.136718-06:00
      - Próximo cierre (CR):     2025-10-10 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 17:49:36 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,895 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 17:49:40 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 17:49:43 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 22:00:00+00:00
Score base (sin calib): 0.864 | Calibrada: 0.621 | Usada(CAL): 0.621
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1    11.84
vol_24         6.62
macd_hist      6.12
ret_8          6.03
vol_72         5.71
ret_1          5.11
logret_1       5.03
ret_2          4.94
Últimas 200 → min:0.317 max:0.648 mean:0.447
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 17:49:46 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.621 | Prob BAJA: 0.379
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 22:00:00+00:00 | Close: 113,541.53 USDT
Prob SUBA: 0.621 | Prob BAJA: 0.379
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1712 | EV_DOWN: -0.1931
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.621
   • Kelly raw: 0.193 | Kelly sugerido (25%): 0.048
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-10 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 18:02:48 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,096
⏱️ Última vela: 2025-10-11 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-10 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-10 21:00:00-04:00
    = UTC:       2025-10-11 01:00:00+00:00
    = Costa Rica:2025-10-10 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 18:02:56 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,896 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 18:03:01 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 18:03:05 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 23:00:00+00:00
Score base (sin calib): 0.694 | Calibrada: 0.557 | Usada(CAL): 0.557
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24        6.36
macd_hist     5.53
vol_72        5.51
ret_1_lag1    5.11
ret_8         4.53
macd          4.25
atr14         4.08
ret_2         4.00
Últimas 200 → min:0.317 max:0.648 mean:0.449
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 18:03:08 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.557 | Prob BAJA: 0.443
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 23:00:00+00:00 | Close: 113,711.76 USDT
Prob SUBA: 0.557 | Prob BAJA: 0.443
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0518 | EV_DOWN: -0.0584
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.557
   • Kelly raw: 0.058 | Kelly sugerido (25%): 0.015
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-10 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 18:45:01 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-11 00:00:00+00:00 | Ahora UTC: 2025-10-11 00:45:02.678655+00:00
  • Siguiente cierre esperado (UTC): 2025-10-11 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-10 18:00:00-06:00
      - Ahora (Costa Rica):      2025-10-10 18:45:02.678655-06:00
      - Próximo cierre (CR):     2025-10-10 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 18:45:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,896 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 18:45:07 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 18:45:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-10 23:00:00+00:00
Score base (sin calib): 0.694 | Calibrada: 0.557 | Usada(CAL): 0.557
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24        6.36
macd_hist     5.53
vol_72        5.51
ret_1_lag1    5.11
ret_8         4.53
macd          4.25
atr14         4.08
ret_2         4.00
Últimas 200 → min:0.317 max:0.648 mean:0.449
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 18:45:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.557 | Prob BAJA: 0.443
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-10 23:00:00+00:00 | Close: 113,711.76 USDT
Prob SUBA: 0.557 | Prob BAJA: 0.443
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0518 | EV_DOWN: -0.0584
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.557
   • Kelly raw: 0.058 | Kelly sugerido (25%): 0.015
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-10 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 19:57:08 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,097
⏱️ Última vela: 2025-10-11 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-10 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-10 22:00:00-04:00
    = UTC:       2025-10-11 02:00:00+00:00
    = Costa Rica:2025-10-10 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 19:57:14 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,897 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 19:57:19 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 19:57:22 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-11 00:00:00+00:00
Score base (sin calib): 0.701 | Calibrada: 0.560 | Usada(CAL): 0.560
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24         6.20
vol_72         5.44
macd_hist      5.37
ret_8          4.94
ret_4          4.81
slope_sma20    4.66
ret_6          4.61
macd           4.55
Últimas 200 → min:0.317 max:0.648 mean:0.449
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 19:57:25 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.560 | Prob BAJA: 0.440
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-11 00:00:00+00:00 | Close: 112,323.18 USDT
Prob SUBA: 0.560 | Prob BAJA: 0.440
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0562 | EV_DOWN: -0.0634
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.560
   • Kelly raw: 0.063 | Kelly sugerido (25%): 0.016
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-10 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-10 20:01:30 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,098
⏱️ Última vela: 2025-10-11 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-10 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-10 23:00:00-04:00
    = UTC:       2025-10-11 03:00:00+00:00
    = Costa Rica:2025-10-10 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-10 20:01:36 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,898 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-10 20:01:40 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-10 20:01:43 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-11 01:00:00+00:00
Score base (sin calib): 0.733 | Calibrada: 0.572 | Usada(CAL): 0.572
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24         6.01
macd_hist      5.37
vol_72         5.36
ret_6          5.34
slope_sma20    5.34
macd           4.88
ret_24         4.87
ret_8          4.82
Últimas 200 → min:0.317 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-10 20:01:46 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.572 | Prob BAJA: 0.428
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-11 01:00:00+00:00 | Close: 111,131.68 USDT
Prob SUBA: 0.572 | Prob BAJA: 0.428
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0796 | EV_DOWN: -0.0898
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.572
   • Kelly raw: 0.090 | Kelly sugerido (25%): 0.022
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-10 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 16:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,118
⏱️ Última vela: 2025-10-11 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-11 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-11 19:00:00-04:00
    = UTC:       2025-10-11 23:00:00+00:00
    = Costa Rica:2025-10-11 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 16:45:11 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,918 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 16:45:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 16:45:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-11 21:00:00+00:00
Score base (sin calib): 0.669 | Calibrada: 0.548 | Usada(CAL): 0.548
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
lower_wick_pct     3.73
vol_72             3.71
lower_wick         3.44
sma_ratio_20_50    3.40
macd_signal        2.46
range              2.04
macd               2.01
ret_1_lag1         1.93
Últimas 200 → min:0.316 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 16:45:22 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.548 | Prob BAJA: 0.452
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-11 21:00:00+00:00 | Close: 110,893.54 USDT
Prob SUBA: 0.548 | Prob BAJA: 0.452
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0332 | EV_DOWN: -0.0374
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.548
   • Kelly raw: 0.037 | Kelly sugerido (25%): 0.009
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-11 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 17:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,119
⏱️ Última vela: 2025-10-11 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-11 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-11 20:00:00-04:00
    = UTC:       2025-10-12 00:00:00+00:00
    = Costa Rica:2025-10-11 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 17:45:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,919 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 17:45:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 17:45:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-11 22:00:00+00:00
Score base (sin calib): 0.320 | Calibrada: 0.414 | Usada(CAL): 0.414
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              3.67
sma_ratio_20_50     3.22
macd_signal         2.37
macd                1.91
sma_ratio_50_200    1.72
sma_200             1.56
sin_dow             1.39
ret_1_lag1          1.38
Últimas 200 → min:0.316 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 17:45:13 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.414 | Prob BAJA: 0.586
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-11 22:00:00+00:00 | Close: 111,089.14 USDT
Prob SUBA: 0.414 | Prob BAJA: 0.586
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.2191 | EV_DOWN: 0.2471
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.586
   • Kelly raw: 0.219 | Kelly sugerido (25%): 0.055
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-11 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 18:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,120
⏱️ Última vela: 2025-10-12 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-11 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-11 21:00:00-04:00
    = UTC:       2025-10-12 01:00:00+00:00
    = Costa Rica:2025-10-11 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 18:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,920 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 18:45:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 18:45:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-11 23:00:00+00:00
Score base (sin calib): 0.656 | Calibrada: 0.543 | Usada(CAL): 0.543
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              3.61
sma_ratio_20_50     3.08
macd_signal         2.27
macd                1.84
sma_ratio_50_200    1.76
sma_200             1.54
sin_dow             1.39
cos_hour            1.38
Últimas 200 → min:0.316 max:0.648 mean:0.451
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 18:45:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.543 | Prob BAJA: 0.457
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-11 23:00:00+00:00 | Close: 110,859.51 USDT
Prob SUBA: 0.543 | Prob BAJA: 0.457
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0240 | EV_DOWN: -0.0271
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-11 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 19:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,121
⏱️ Última vela: 2025-10-12 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-11 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-11 22:00:00-04:00
    = UTC:       2025-10-12 02:00:00+00:00
    = Costa Rica:2025-10-11 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 19:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,921 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 19:45:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 19:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-12 00:00:00+00:00
Score base (sin calib): 0.869 | Calibrada: 0.623 | Usada(CAL): 0.623
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72             3.61
sma_ratio_20_50    2.99
ret_1              2.23
logret_1           2.23
macd_signal        2.21
body_pct           2.09
body               1.98
ret_2              1.94
Últimas 200 → min:0.316 max:0.648 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 19:45:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.623 | Prob BAJA: 0.377
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-12 00:00:00+00:00 | Close: 109,778.18 USDT
Prob SUBA: 0.623 | Prob BAJA: 0.377
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1747 | EV_DOWN: -0.1971
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.623
   • Kelly raw: 0.197 | Kelly sugerido (25%): 0.049
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-11 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 20:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,122
⏱️ Última vela: 2025-10-12 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-11 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-11 23:00:00-04:00
    = UTC:       2025-10-12 03:00:00+00:00
    = Costa Rica:2025-10-11 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 20:45:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,922 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 20:45:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 20:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-12 01:00:00+00:00
Score base (sin calib): 0.712 | Calibrada: 0.564 | Usada(CAL): 0.564
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              3.56
sma_ratio_20_50     2.88
ret_1_lag1          2.23
macd_signal         2.16
macd                1.87
sma_ratio_50_200    1.84
sma_200             1.49
ret_8               1.42
Últimas 200 → min:0.316 max:0.648 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 20:45:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.564 | Prob BAJA: 0.436
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-12 01:00:00+00:00 | Close: 110,001.84 USDT
Prob SUBA: 0.564 | Prob BAJA: 0.436
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0645 | EV_DOWN: -0.0727
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.564
   • Kelly raw: 0.073 | Kelly sugerido (25%): 0.018
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-11 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 21:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,123
⏱️ Última vela: 2025-10-12 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-11 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-12 00:00:00-04:00
    = UTC:       2025-10-12 04:00:00+00:00
    = Costa Rica:2025-10-11 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 21:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,923 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 21:45:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 21:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-12 02:00:00+00:00
Score base (sin calib): 0.180 | Calibrada: 0.363 | Usada(CAL): 0.363
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              3.50
sma_ratio_20_50     2.76
upper_wick_pct      2.61
upper_wick          2.37
macd_signal         2.10
sma_ratio_50_200    1.88
macd                1.81
sma_200             1.46
Últimas 200 → min:0.316 max:0.648 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 21:45:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.363 | Prob BAJA: 0.637
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-12 02:00:00+00:00 | Close: 110,239.99 USDT
Prob SUBA: 0.363 | Prob BAJA: 0.637
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3159 | EV_DOWN: 0.3563
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.637
   • Kelly raw: 0.316 | Kelly sugerido (25%): 0.079
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-12 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 22:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,124
⏱️ Última vela: 2025-10-12 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-12 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-12 01:00:00-04:00
    = UTC:       2025-10-12 05:00:00+00:00
    = Costa Rica:2025-10-11 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 22:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,924 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 22:45:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 22:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-12 03:00:00+00:00
Score base (sin calib): 0.100 | Calibrada: 0.334 | Usada(CAL): 0.334
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              3.48
sma_ratio_20_50     2.56
upper_wick_pct      2.46
upper_wick          2.24
macd_signal         2.03
body_pct            1.95
sma_ratio_50_200    1.91
range               1.85
Últimas 200 → min:0.316 max:0.648 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 22:45:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.334 | Prob BAJA: 0.666
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-12 03:00:00+00:00 | Close: 110,915.16 USDT
Prob SUBA: 0.334 | Prob BAJA: 0.666
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3690 | EV_DOWN: 0.4162
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.666
   • Kelly raw: 0.369 | Kelly sugerido (25%): 0.092
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-12 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-11 23:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,125
⏱️ Última vela: 2025-10-12 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-12 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-12 02:00:00-04:00
    = UTC:       2025-10-12 06:00:00+00:00
    = Costa Rica:2025-10-12 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-11 23:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,925 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-11 23:45:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-11 23:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-12 04:00:00+00:00
Score base (sin calib): 0.234 | Calibrada: 0.382 | Usada(CAL): 0.382
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              3.46
sma_ratio_20_50     2.40
ret_4               1.95
sma_ratio_50_200    1.94
body_pct            1.94
macd_signal         1.92
ret_3               1.90
ret_2               1.89
Últimas 200 → min:0.316 max:0.648 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-11 23:45:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.382 | Prob BAJA: 0.618
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-12 04:00:00+00:00 | Close: 111,480.01 USDT
Prob SUBA: 0.382 | Prob BAJA: 0.618
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.2792 | EV_DOWN: 0.3149
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.618
   • Kelly raw: 0.279 | Kelly sugerido (25%): 0.070
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-12 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-12 23:27:32 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,149
⏱️ Última vela: 2025-10-13 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-13 02:00:00-04:00
    = UTC:       2025-10-13 06:00:00+00:00
    = Costa Rica:2025-10-13 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-12 23:27:46 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,949 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-12 23:27:49 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-12 23:27:51 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 04:00:00+00:00
Score base (sin calib): 0.847 | Calibrada: 0.615 | Usada(CAL): 0.615
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              2.65
sma_ratio_50_200    1.99
atr14               1.54
cos_dow             1.43
slope_sma20         1.36
sin_hour            1.24
ret_24              1.24
macd                1.23
Últimas 200 → min:0.313 max:0.648 mean:0.442
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-12 23:28:00 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.615 | Prob BAJA: 0.385
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 04:00:00+00:00 | Close: 114,708.15 USDT
Prob SUBA: 0.615 | Prob BAJA: 0.385
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1600 | EV_DOWN: -0.1804
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.615
   • Kelly raw: 0.180 | Kelly sugerido (25%): 0.045
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-13 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 09:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,159
⏱️ Última vela: 2025-10-13 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 12:00:00-04:00
    = UTC:       2025-10-13 16:00:00+00:00
    = Costa Rica:2025-10-13 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 09:45:12 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,959 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 09:45:16 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 09:45:18 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 14:00:00+00:00
Score base (sin calib): 0.621 | Calibrada: 0.529 | Usada(CAL): 0.529
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
body_pct         2.97
body             2.94
ret_1            2.57
logret_1         2.57
vol_72           2.53
range            2.46
body_over_atr    2.33
true_range       2.15
Últimas 200 → min:0.313 max:0.648 mean:0.445
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 09:45:26 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.529 | Prob BAJA: 0.471
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 14:00:00+00:00 | Close: 114,036.63 USDT
Prob SUBA: 0.529 | Prob BAJA: 0.471
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.0011 | EV_DOWN: 0.0012
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-13 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 10:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,160
⏱️ Última vela: 2025-10-13 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 13:00:00-04:00
    = UTC:       2025-10-13 17:00:00+00:00
    = Costa Rica:2025-10-13 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 10:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,960 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 10:45:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 10:45:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 15:00:00+00:00
Score base (sin calib): 0.535 | Calibrada: 0.496 | Usada(CAL): 0.496
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1          2.57
vol_72              2.42
sma_ratio_50_200    1.63
ret_2               1.61
upper_wick_pct      1.61
upper_wick          1.54
cos_dow             1.43
vol_regime          1.40
Últimas 200 → min:0.313 max:0.648 mean:0.446
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 10:45:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.496 | Prob BAJA: 0.504
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 15:00:00+00:00 | Close: 114,217.83 USDT
Prob SUBA: 0.496 | Prob BAJA: 0.504
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.0639 | EV_DOWN: 0.0720
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-13 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 10:55:37 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-13 16:00:00+00:00 | Ahora UTC: 2025-10-13 16:55:37.901067+00:00
  • Siguiente cierre esperado (UTC): 2025-10-13 17:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-13 10:00:00-06:00
      - Ahora (Costa Rica):      2025-10-13 10:55:37.901067-06:00
      - Próximo cierre (CR):     2025-10-13 11:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 10:55:38 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,960 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 10:55:42 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 10:55:46 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 15:00:00+00:00
Score base (sin calib): 0.535 | Calibrada: 0.496 | Usada(CAL): 0.496
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1          2.57
vol_72              2.42
sma_ratio_50_200    1.63
ret_2               1.61
upper_wick_pct      1.61
upper_wick          1.54
cos_dow             1.43
vol_regime          1.40
Últimas 200 → min:0.313 max:0.648 mean:0.446
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 10:55:49 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.496 | Prob BAJA: 0.504
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 15:00:00+00:00 | Close: 114,217.83 USDT
Prob SUBA: 0.496 | Prob BAJA: 0.504
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.0639 | EV_DOWN: 0.0720
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-13 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 11:02:14 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,161
⏱️ Última vela: 2025-10-13 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 14:00:00-04:00
    = UTC:       2025-10-13 18:00:00+00:00
    = Costa Rica:2025-10-13 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 11:02:20 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,961 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 11:02:24 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 11:02:27 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 16:00:00+00:00
Score base (sin calib): 0.316 | Calibrada: 0.412 | Usada(CAL): 0.412
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct      4.20
upper_wick          4.07
vol_72              2.39
sma_ratio_50_200    1.60
cos_dow             1.43
vol_regime          1.40
sma_ratio_20_50     1.31
sin_hour            1.24
Últimas 200 → min:0.313 max:0.648 mean:0.445
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 11:02:30 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.412 | Prob BAJA: 0.588
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 16:00:00+00:00 | Close: 114,392.02 USDT
Prob SUBA: 0.412 | Prob BAJA: 0.588
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.2219 | EV_DOWN: 0.2502
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.588
   • Kelly raw: 0.222 | Kelly sugerido (25%): 0.055
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-13 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 11:13:37 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-13 17:00:00+00:00 | Ahora UTC: 2025-10-13 17:13:38.481113+00:00
  • Siguiente cierre esperado (UTC): 2025-10-13 18:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-13 11:00:00-06:00
      - Ahora (Costa Rica):      2025-10-13 11:13:38.481113-06:00
      - Próximo cierre (CR):     2025-10-13 12:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 11:13:38 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,961 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 11:13:42 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 11:13:45 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 16:00:00+00:00
Score base (sin calib): 0.316 | Calibrada: 0.412 | Usada(CAL): 0.412
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct      4.20
upper_wick          4.07
vol_72              2.39
sma_ratio_50_200    1.60
cos_dow             1.43
vol_regime          1.40
sma_ratio_20_50     1.31
sin_hour            1.24
Últimas 200 → min:0.313 max:0.648 mean:0.445
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 11:13:48 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.412 | Prob BAJA: 0.588
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 16:00:00+00:00 | Close: 114,392.02 USDT
Prob SUBA: 0.412 | Prob BAJA: 0.588
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.2219 | EV_DOWN: 0.2502
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.588
   • Kelly raw: 0.222 | Kelly sugerido (25%): 0.055
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-13 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 11:45:01 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-13 17:00:00+00:00 | Ahora UTC: 2025-10-13 17:45:02.532676+00:00
  • Siguiente cierre esperado (UTC): 2025-10-13 18:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-13 11:00:00-06:00
      - Ahora (Costa Rica):      2025-10-13 11:45:02.532676-06:00
      - Próximo cierre (CR):     2025-10-13 12:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 11:45:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,961 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 11:45:05 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 11:45:08 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 16:00:00+00:00
Score base (sin calib): 0.316 | Calibrada: 0.412 | Usada(CAL): 0.412
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct      4.20
upper_wick          4.07
vol_72              2.39
sma_ratio_50_200    1.60
cos_dow             1.43
vol_regime          1.40
sma_ratio_20_50     1.31
sin_hour            1.24
Últimas 200 → min:0.313 max:0.648 mean:0.445
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 11:45:11 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.412 | Prob BAJA: 0.588
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 16:00:00+00:00 | Close: 114,392.02 USDT
Prob SUBA: 0.412 | Prob BAJA: 0.588
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.2219 | EV_DOWN: 0.2502
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.588
   • Kelly raw: 0.222 | Kelly sugerido (25%): 0.055
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-13 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 12:17:11 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,162
⏱️ Última vela: 2025-10-13 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 15:00:00-04:00
    = UTC:       2025-10-13 19:00:00+00:00
    = Costa Rica:2025-10-13 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 12:17:17 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,962 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 12:17:21 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 12:17:24 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 17:00:00+00:00
Score base (sin calib): 0.440 | Calibrada: 0.460 | Usada(CAL): 0.460
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              2.33
vol_z20             1.88
sma_ratio_50_200    1.57
cos_dow             1.43
vol_regime          1.39
sin_hour            1.38
range_over_atr      1.31
sma_ratio_20_50     1.26
Últimas 200 → min:0.313 max:0.648 mean:0.445
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 12:17:27 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.460 | Prob BAJA: 0.540
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 17:00:00+00:00 | Close: 114,757.19 USDT
Prob SUBA: 0.460 | Prob BAJA: 0.540
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.1330 | EV_DOWN: 0.1499
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.540
   • Kelly raw: 0.133 | Kelly sugerido (25%): 0.033
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-13 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 12:45:01 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-13 18:00:00+00:00 | Ahora UTC: 2025-10-13 18:45:02.392069+00:00
  • Siguiente cierre esperado (UTC): 2025-10-13 19:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-13 12:00:00-06:00
      - Ahora (Costa Rica):      2025-10-13 12:45:02.392069-06:00
      - Próximo cierre (CR):     2025-10-13 13:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 12:45:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,962 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 12:45:06 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 12:45:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 17:00:00+00:00
Score base (sin calib): 0.440 | Calibrada: 0.460 | Usada(CAL): 0.460
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              2.33
vol_z20             1.88
sma_ratio_50_200    1.57
cos_dow             1.43
vol_regime          1.39
sin_hour            1.38
range_over_atr      1.31
sma_ratio_20_50     1.26
Últimas 200 → min:0.313 max:0.648 mean:0.445
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 12:45:13 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.460 | Prob BAJA: 0.540
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 17:00:00+00:00 | Close: 114,757.19 USDT
Prob SUBA: 0.460 | Prob BAJA: 0.540
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.1330 | EV_DOWN: 0.1499
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.540
   • Kelly raw: 0.133 | Kelly sugerido (25%): 0.033
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-13 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 13:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,163
⏱️ Última vela: 2025-10-13 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 16:00:00-04:00
    = UTC:       2025-10-13 20:00:00+00:00
    = Costa Rica:2025-10-13 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 13:45:12 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,963 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 13:45:16 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 13:45:20 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 18:00:00+00:00
Score base (sin calib): 0.330 | Calibrada: 0.418 | Usada(CAL): 0.418
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              2.31
sma_ratio_50_200    1.54
cos_dow             1.43
sin_hour            1.42
vol_regime          1.39
vol_z20             1.30
sma_ratio_20_50     1.19
trend_flag          0.84
Últimas 200 → min:0.313 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 13:45:27 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.418 | Prob BAJA: 0.582
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 18:00:00+00:00 | Close: 114,806.17 USDT
Prob SUBA: 0.418 | Prob BAJA: 0.582
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.2122 | EV_DOWN: 0.2392
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.582
   • Kelly raw: 0.212 | Kelly sugerido (25%): 0.053
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-13 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 14:16:53 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,164
⏱️ Última vela: 2025-10-13 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 17:00:00-04:00
    = UTC:       2025-10-13 21:00:00+00:00
    = Costa Rica:2025-10-13 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 14:16:59 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,964 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 14:17:03 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 14:17:06 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 19:00:00+00:00
Score base (sin calib): 0.149 | Calibrada: 0.352 | Usada(CAL): 0.352
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              2.33
ret_1               1.76
logret_1            1.75
ret_4               1.55
ret_3               1.55
sma_ratio_50_200    1.51
cos_dow             1.43
vol_regime          1.38
Últimas 200 → min:0.313 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 14:17:09 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.352 | Prob BAJA: 0.648
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 19:00:00+00:00 | Close: 115,709.20 USDT
Prob SUBA: 0.352 | Prob BAJA: 0.648
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3366 | EV_DOWN: 0.3796
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.648
   • Kelly raw: 0.337 | Kelly sugerido (25%): 0.084
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-13 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 15:26:46 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,165
⏱️ Última vela: 2025-10-13 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 18:00:00-04:00
    = UTC:       2025-10-13 22:00:00+00:00
    = Costa Rica:2025-10-13 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 15:26:52 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,965 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 15:26:56 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 15:26:58 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 20:00:00+00:00
Score base (sin calib): 0.508 | Calibrada: 0.486 | Usada(CAL): 0.486
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_72              2.30
ret_1_lag1          1.76
sma_ratio_50_200    1.47
cos_dow             1.43
vol_regime          1.37
vol_z20             1.28
ret_6               1.25
sin_hour            1.22
Últimas 200 → min:0.313 max:0.648 mean:0.443
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 15:27:01 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.486 | Prob BAJA: 0.514
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 20:00:00+00:00 | Close: 115,556.01 USDT
Prob SUBA: 0.486 | Prob BAJA: 0.514
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.0837 | EV_DOWN: 0.0944
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.514
   • Kelly raw: 0.084 | Kelly sugerido (25%): 0.021
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-13 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 18:00:04 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,168
⏱️ Última vela: 2025-10-14 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 21:00:00-04:00
    = UTC:       2025-10-14 01:00:00+00:00
    = Costa Rica:2025-10-13 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 18:00:10 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,968 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 18:00:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 18:00:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-13 23:00:00+00:00
Score base (sin calib): 0.687 | Calibrada: 0.555 | Usada(CAL): 0.555
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
cos_dow             1.42
cos_hour            1.38
sma_ratio_50_200    1.37
vol_regime          1.36
upper_wick_pct      0.95
upper_wick          0.95
sma_ratio_20_50     0.92
trend_flag          0.83
Últimas 200 → min:0.313 max:0.648 mean:0.443
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 18:00:19 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.555 | Prob BAJA: 0.445
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-13 23:00:00+00:00 | Close: 115,166.00 USDT
Prob SUBA: 0.555 | Prob BAJA: 0.445
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.0466 | EV_DOWN: -0.0525
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.555
   • Kelly raw: 0.053 | Kelly sugerido (25%): 0.013
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-13 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 20:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,170
⏱️ Última vela: 2025-10-14 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-13 23:00:00-04:00
    = UTC:       2025-10-14 03:00:00+00:00
    = Costa Rica:2025-10-13 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 20:45:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,970 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 20:45:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 20:45:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 01:00:00+00:00
Score base (sin calib): 0.917 | Calibrada: 0.640 | Usada(CAL): 0.640
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1            1.72
logret_1         1.71
body_pct         1.56
body             1.54
ret_3            1.47
body_over_atr    1.46
ret_4            1.45
cos_hour         1.37
Últimas 200 → min:0.313 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 20:45:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.640 | Prob BAJA: 0.360
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 01:00:00+00:00 | Close: 114,274.57 USDT
Prob SUBA: 0.640 | Prob BAJA: 0.360
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.2074 | EV_DOWN: -0.2339
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.640
   • Kelly raw: 0.234 | Kelly sugerido (25%): 0.058
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-13 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 21:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,171
⏱️ Última vela: 2025-10-14 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-13 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-14 00:00:00-04:00
    = UTC:       2025-10-14 04:00:00+00:00
    = Costa Rica:2025-10-13 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 21:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,971 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 21:45:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 21:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 02:00:00+00:00
Score base (sin calib): 0.930 | Calibrada: 0.645 | Usada(CAL): 0.645
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_2               1.78
ret_1_lag1          1.72
ret_4               1.69
ret_3               1.52
bb_pos              1.44
ret_6               1.40
vol_regime          1.34
sma_ratio_50_200    1.27
Últimas 200 → min:0.313 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 21:45:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.645 | Prob BAJA: 0.355
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 02:00:00+00:00 | Close: 113,894.41 USDT
Prob SUBA: 0.645 | Prob BAJA: 0.355
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.2160 | EV_DOWN: -0.2436
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.645
   • Kelly raw: 0.244 | Kelly sugerido (25%): 0.061
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-14 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 22:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,172
⏱️ Última vela: 2025-10-14 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-14 01:00:00-04:00
    = UTC:       2025-10-14 05:00:00+00:00
    = Costa Rica:2025-10-13 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 22:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,972 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 22:45:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 22:45:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 03:00:00+00:00
Score base (sin calib): 0.891 | Calibrada: 0.630 | Usada(CAL): 0.630
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3              1.94
ret_6              1.79
ret_4              1.74
bb_pos             1.65
ret_8              1.55
vol_regime         1.33
close_sma20_atr    1.33
macd_hist          1.28
Últimas 200 → min:0.313 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 22:45:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.630 | Prob BAJA: 0.370
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 03:00:00+00:00 | Close: 113,504.88 USDT
Prob SUBA: 0.630 | Prob BAJA: 0.370
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.1896 | EV_DOWN: -0.2138
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.630
   • Kelly raw: 0.214 | Kelly sugerido (25%): 0.053
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-14 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-13 23:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,173
⏱️ Última vela: 2025-10-14 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-14 02:00:00-04:00
    = UTC:       2025-10-14 06:00:00+00:00
    = Costa Rica:2025-10-14 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-13 23:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,973 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-13 23:45:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-13 23:45:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 04:00:00+00:00
Score base (sin calib): 0.916 | Calibrada: 0.640 | Usada(CAL): 0.640
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4              2.07
ret_6              1.95
close_sma20_atr    1.76
bb_pos             1.72
ret_8              1.68
macd_hist          1.56
ret_3              1.33
vol_regime         1.33
Últimas 200 → min:0.313 max:0.648 mean:0.444
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-13 23:45:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.640 | Prob BAJA: 0.360
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 04:00:00+00:00 | Close: 113,156.00 USDT
Prob SUBA: 0.640 | Prob BAJA: 0.360
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: 0.2067 | EV_DOWN: -0.2331
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.640
   • Kelly raw: 0.233 | Kelly sugerido (25%): 0.058
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-14 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 09:28:03 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,183
⏱️ Última vela: 2025-10-14 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 12:00:00-04:00
    = UTC:       2025-10-14 16:00:00+00:00
    = Costa Rica:2025-10-14 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 09:28:16 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,983 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 09:28:20 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 09:28:22 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 14:00:00+00:00
Score base (sin calib): 0.117 | Calibrada: 0.340 | Usada(CAL): 0.340
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct      4.10
upper_wick          3.85
quote_volume_usd    1.87
range               1.55
vol_z20             1.39
macd                1.39
atr14               1.35
true_range          1.34
Últimas 200 → min:0.313 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 09:28:32 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.340 | Prob BAJA: 0.660
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 14:00:00+00:00 | Close: 111,435.21 USDT
Prob SUBA: 0.340 | Prob BAJA: 0.660
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3578 | EV_DOWN: 0.4035
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.660
   • Kelly raw: 0.358 | Kelly sugerido (25%): 0.089
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-14 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 09:45:01 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-14 15:00:00+00:00 | Ahora UTC: 2025-10-14 15:45:02.347900+00:00
  • Siguiente cierre esperado (UTC): 2025-10-14 16:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-14 09:00:00-06:00
      - Ahora (Costa Rica):      2025-10-14 09:45:02.347900-06:00
      - Próximo cierre (CR):     2025-10-14 10:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 09:45:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,983 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 09:45:05 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 09:45:08 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 14:00:00+00:00
Score base (sin calib): 0.117 | Calibrada: 0.340 | Usada(CAL): 0.340
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct      4.10
upper_wick          3.85
quote_volume_usd    1.87
range               1.55
vol_z20             1.39
macd                1.39
atr14               1.35
true_range          1.34
Últimas 200 → min:0.313 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 09:45:10 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.340 | Prob BAJA: 0.660
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 14:00:00+00:00 | Close: 111,435.21 USDT
Prob SUBA: 0.340 | Prob BAJA: 0.660
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3578 | EV_DOWN: 0.4035
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.660
   • Kelly raw: 0.358 | Kelly sugerido (25%): 0.089
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-14 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 10:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,184
⏱️ Última vela: 2025-10-14 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 13:00:00-04:00
    = UTC:       2025-10-14 17:00:00+00:00
    = Costa Rica:2025-10-14 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 10:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,984 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 10:45:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 10:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 15:00:00+00:00
Score base (sin calib): 0.063 | Calibrada: 0.322 | Usada(CAL): 0.322
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
slope_sma20       1.66
lower_wick_pct    1.51
lower_wick        1.40
macd              1.33
atr14             1.26
trend_flag        1.25
macd_signal       1.20
sin_dow           1.11
Últimas 200 → min:0.313 max:0.648 mean:0.449
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 10:45:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.322 | Prob BAJA: 0.678
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 15:00:00+00:00 | Close: 111,470.93 USDT
Prob SUBA: 0.322 | Prob BAJA: 0.678
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3929 | EV_DOWN: 0.4431
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.678
   • Kelly raw: 0.393 | Kelly sugerido (25%): 0.098
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-14 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 11:45:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,185
⏱️ Última vela: 2025-10-14 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 14:00:00-04:00
    = UTC:       2025-10-14 18:00:00+00:00
    = Costa Rica:2025-10-14 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 11:45:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,985 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 11:45:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 11:45:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 16:00:00+00:00
Score base (sin calib): 0.129 | Calibrada: 0.345 | Usada(CAL): 0.345
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1             2.52
logret_1          2.49
lower_wick_pct    2.35
lower_wick        2.19
true_range        2.17
ret_3             2.06
ret_4             2.03
ret_2             1.86
Últimas 200 → min:0.313 max:0.648 mean:0.449
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 11:45:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.345 | Prob BAJA: 0.655
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 16:00:00+00:00 | Close: 112,734.57 USDT
Prob SUBA: 0.345 | Prob BAJA: 0.655
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3499 | EV_DOWN: 0.3946
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.655
   • Kelly raw: 0.350 | Kelly sugerido (25%): 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-14 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 12:45:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,186
⏱️ Última vela: 2025-10-14 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 15:00:00-04:00
    = UTC:       2025-10-14 19:00:00+00:00
    = Costa Rica:2025-10-14 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 12:45:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,986 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 12:45:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 12:45:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 17:00:00+00:00
Score base (sin calib): 0.056 | Calibrada: 0.320 | Usada(CAL): 0.320
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
lower_wick_pct    3.10
lower_wick        2.96
ret_1_lag1        2.52
ret_4             1.78
ret_2             1.77
atr14             1.76
ret_3             1.52
range             1.39
Últimas 200 → min:0.313 max:0.648 mean:0.449
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 12:45:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.320 | Prob BAJA: 0.680
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 17:00:00+00:00 | Close: 112,713.82 USDT
Prob SUBA: 0.320 | Prob BAJA: 0.680
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3969 | EV_DOWN: 0.4476
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.680
   • Kelly raw: 0.397 | Kelly sugerido (25%): 0.099
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-14 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 13:18:40 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,187
⏱️ Última vela: 2025-10-14 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 16:00:00-04:00
    = UTC:       2025-10-14 20:00:00+00:00
    = Costa Rica:2025-10-14 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 13:18:53 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,987 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 13:18:56 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 13:18:59 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 18:00:00+00:00
Score base (sin calib): 0.118 | Calibrada: 0.341 | Usada(CAL): 0.341
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct    2.92
upper_wick        2.79
atr14             1.82
ret_6             1.69
ret_3             1.63
ret_8             1.54
ret_4             1.47
sin_hour          1.42
Últimas 200 → min:0.313 max:0.648 mean:0.449
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 13:19:07 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.341 | Prob BAJA: 0.659
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 18:00:00+00:00 | Close: 112,849.05 USDT
Prob SUBA: 0.341 | Prob BAJA: 0.659
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.3571 | EV_DOWN: 0.4026
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.659
   • Kelly raw: 0.357 | Kelly sugerido (25%): 0.089
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-14 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 16:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,190
⏱️ Última vela: 2025-10-14 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 19:00:00-04:00
    = UTC:       2025-10-14 23:00:00+00:00
    = Costa Rica:2025-10-14 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 16:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,990 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 16:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 16:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 21:00:00+00:00
Score base (sin calib): 0.597 | Calibrada: 0.520 | Usada(CAL): 0.520
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
atr14              1.44
ret_8              1.44
macd_hist          1.42
ret_6              1.35
trend_flag         1.25
sma_ratio_20_50    1.18
sin_dow            1.12
lower_wick_pct     1.04
Últimas 200 → min:0.313 max:0.648 mean:0.451
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 16:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:113: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.520 | Prob BAJA: 0.480
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 21:00:00+00:00 | Close: 113,128.70 USDT
Prob SUBA: 0.520 | Prob BAJA: 0.480
Break-even UP: 0.530 | DOWN: 0.470
Política thresholds → UP≥0.530 | DOWN≥0.510 | min_EV≥0.020 | min_Kelly≥0.030
EV_UP: -0.0190 | EV_DOWN: 0.0214
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-14 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 17:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,191
⏱️ Última vela: 2025-10-14 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 20:00:00-04:00
    = UTC:       2025-10-15 00:00:00+00:00
    = Costa Rica:2025-10-14 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 17:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,991 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 17:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 17:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 22:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.340 | Usada(CAL): 0.340
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_z20            1.62
macd_hist          1.48
atr14              1.32
range_over_atr     1.30
ret_8              1.29
trend_flag         1.25
cos_hour           1.24
sma_ratio_20_50    1.18
Últimas 200 → min:0.313 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 17:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.340 | Prob BAJA: 0.660
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 22:00:00+00:00 | Close: 113,338.00 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.3589 | DOWN=0.4047
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.660
   • Kelly raw: 0.359 | Kelly sugerido (25%): 0.090
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-14 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 17:49:43 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-14 23:00:00+00:00 | Ahora UTC: 2025-10-14 23:49:43.847523+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-14 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-14 17:49:43.847523-06:00
      - Próximo cierre (CR):     2025-10-14 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 17:49:43 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,991 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 17:49:46 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 17:49:49 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 147, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\inference\update_and_predict.py", line 64, in main
    meta = json.loads(META_PATH.read_text(encoding="utf-8"))
           ^^^^
UnboundLocalError: cannot access local variable 'json' where it is not associated with a value
---- EXIT CODE 1 (src.inference.update_and_predict) ----

==== 2025-10-14 17:50:28 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-14 23:00:00+00:00 | Ahora UTC: 2025-10-14 23:50:29.137954+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-14 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-14 17:50:29.137954-06:00
      - Próximo cierre (CR):     2025-10-14 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 17:50:29 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,991 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 17:50:32 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 17:50:35 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 22:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.340 | Usada(CAL): 0.340
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_z20            1.62
macd_hist          1.48
atr14              1.32
range_over_atr     1.30
ret_8              1.29
trend_flag         1.25
cos_hour           1.24
sma_ratio_20_50    1.18
Últimas 200 → min:0.313 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 17:50:37 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.340 | Prob BAJA: 0.660
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 22:00:00+00:00 | Close: 113,338.00 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.3589 | DOWN=0.4047
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.660
   • Kelly raw: 0.359 | Kelly sugerido (25%): 0.090
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-14 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 18:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,192
⏱️ Última vela: 2025-10-15 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 21:00:00-04:00
    = UTC:       2025-10-15 01:00:00+00:00
    = Costa Rica:2025-10-14 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 18:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,992 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 18:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 18:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-14 23:00:00+00:00
Score base (sin calib): 0.172 | Calibrada: 0.360 | Usada(CAL): 0.360
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr     1.56
vol_z20            1.47
macd_hist          1.41
cos_hour           1.38
trend_flag         1.25
range              1.24
ret_8              1.17
sma_ratio_20_50    1.16
Últimas 200 → min:0.313 max:0.648 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 18:01:18 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.360 | Prob BAJA: 0.640
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-14 23:00:00+00:00 | Close: 113,205.81 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.3216 | DOWN=0.3627
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.640
   • Kelly raw: 0.322 | Kelly sugerido (25%): 0.080
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-14 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 19:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,193
⏱️ Última vela: 2025-10-15 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 22:00:00-04:00
    = UTC:       2025-10-15 02:00:00+00:00
    = Costa Rica:2025-10-14 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 19:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,993 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 19:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 19:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 00:00:00+00:00
Score base (sin calib): 0.473 | Calibrada: 0.472 | Usada(CAL): 0.472
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr    1.56
cos_hour          1.42
sin_dow           1.39
vol_z20           1.34
vol_regime        1.28
range             1.26
trend_flag        1.25
macd_hist         1.25
Últimas 200 → min:0.313 max:0.648 mean:0.451
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 19:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.472 | Prob BAJA: 0.528
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 00:00:00+00:00 | Close: 113,000.33 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.1093 | DOWN=0.1233
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-14 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 20:02:36 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,194
⏱️ Última vela: 2025-10-15 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-14 23:00:00-04:00
    = UTC:       2025-10-15 03:00:00+00:00
    = Costa Rica:2025-10-14 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 20:02:42 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,994 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 20:02:46 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 20:02:48 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 01:00:00+00:00
Score base (sin calib): 0.614 | Calibrada: 0.527 | Usada(CAL): 0.527
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.42
sin_dow             1.39
cos_hour            1.37
vol_regime          1.27
trend_flag          1.25
vol_z20             1.21
quote_volume_usd    1.13
range               1.12
Últimas 200 → min:0.313 max:0.648 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 20:02:51 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.527 | Prob BAJA: 0.473
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 01:00:00+00:00 | Close: 112,904.00 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.0062 | DOWN=0.0070
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-14 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 21:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,195
⏱️ Última vela: 2025-10-15 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-14 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-15 00:00:00-04:00
    = UTC:       2025-10-15 04:00:00+00:00
    = Costa Rica:2025-10-14 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 21:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,995 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 21:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 21:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 02:00:00+00:00
Score base (sin calib): 0.734 | Calibrada: 0.572 | Usada(CAL): 0.572
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sin_dow             1.39
range_over_atr      1.38
vol_regime          1.27
trend_flag          1.25
cos_hour            1.22
quote_volume_usd    1.13
range               1.09
vol_z20             1.09
Últimas 200 → min:0.313 max:0.648 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 21:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.572 | Prob BAJA: 0.428
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 02:00:00+00:00 | Close: 112,719.00 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0800 | DOWN=-0.0902
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.572
   • Kelly raw: 0.090 | Kelly sugerido (25%): 0.023
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-15 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 22:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,196
⏱️ Última vela: 2025-10-15 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-15 01:00:00-04:00
    = UTC:       2025-10-15 05:00:00+00:00
    = Costa Rica:2025-10-14 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 22:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,996 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 22:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 22:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 03:00:00+00:00
Score base (sin calib): 0.358 | Calibrada: 0.428 | Usada(CAL): 0.428
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.46
sin_dow             1.39
vol_regime          1.26
trend_flag          1.25
range               1.20
quote_volume_usd    1.13
sin_hour            1.01
cos_hour            1.00
Últimas 200 → min:0.313 max:0.648 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 22:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.428 | Prob BAJA: 0.572
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 03:00:00+00:00 | Close: 112,830.65 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.1923 | DOWN=0.2168
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.572
   • Kelly raw: 0.192 | Kelly sugerido (25%): 0.048
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-15 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-14 23:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,197
⏱️ Última vela: 2025-10-15 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-15 02:00:00-04:00
    = UTC:       2025-10-15 06:00:00+00:00
    = Costa Rica:2025-10-15 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-14 23:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,997 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-14 23:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-14 23:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 04:00:00+00:00
Score base (sin calib): 0.882 | Calibrada: 0.628 | Usada(CAL): 0.628
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1             1.63
logret_1          1.62
sin_dow           1.39
range_over_atr    1.35
vol_regime        1.25
trend_flag        1.25
sin_hour          1.24
range             1.11
Últimas 200 → min:0.313 max:0.648 mean:0.454
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-14 23:01:18 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.628 | Prob BAJA: 0.372
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 04:00:00+00:00 | Close: 112,005.08 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.1840 | DOWN=-0.2075
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.628
   • Kelly raw: 0.207 | Kelly sugerido (25%): 0.052
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-15 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 00:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,198
⏱️ Última vela: 2025-10-15 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-15 03:00:00-04:00
    = UTC:       2025-10-15 07:00:00+00:00
    = Costa Rica:2025-10-15 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 00:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (32,998 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 00:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 00:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 05:00:00+00:00
Score base (sin calib): 0.478 | Calibrada: 0.474 | Usada(CAL): 0.474
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1          1.63
sin_dow             1.39
sin_hour            1.38
trend_flag          1.25
vol_regime          1.25
range_over_atr      1.22
quote_volume_usd    1.11
range               1.01
Últimas 200 → min:0.313 max:0.648 mean:0.454
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 00:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.474 | Prob BAJA: 0.526
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 05:00:00+00:00 | Close: 112,475.62 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.1054 | DOWN=0.1188
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2AM–3AM ET | cierra 2025-10-15 03:00:00 EDT (UTC 07:00, CR 01:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 09:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,207
⏱️ Última vela: 2025-10-15 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 12:00:00-04:00
    = UTC:       2025-10-15 16:00:00+00:00
    = Costa Rica:2025-10-15 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 09:01:16 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,007 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 09:01:19 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 09:01:21 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 14:00:00+00:00
Score base (sin calib): 0.586 | Calibrada: 0.516 | Usada(CAL): 0.516
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct    4.42
upper_wick        4.19
range_over_atr    2.02
range             1.84
bb_pos            1.81
vol_z20           1.79
true_range        1.59
ret_6             1.51
Últimas 200 → min:0.313 max:0.645 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 09:01:30 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.516 | Prob BAJA: 0.484
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 14:00:00+00:00 | Close: 111,059.76 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.0267 | DOWN=0.0301
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-15 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 09:42:02 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 15:00:00+00:00 | Ahora UTC: 2025-10-15 15:42:03.105033+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 16:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 09:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 09:42:03.105033-06:00
      - Próximo cierre (CR):     2025-10-15 10:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 09:42:03 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,007 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 09:42:07 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 09:42:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 14:00:00+00:00
Score base (sin calib): 0.586 | Calibrada: 0.516 | Usada(CAL): 0.516
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
upper_wick_pct    4.42
upper_wick        4.19
range_over_atr    2.02
range             1.84
bb_pos            1.81
vol_z20           1.79
true_range        1.59
ret_6             1.51
Últimas 200 → min:0.313 max:0.645 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 09:42:12 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.516 | Prob BAJA: 0.484
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 14:00:00+00:00 | Close: 111,059.76 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.0267 | DOWN=0.0301
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-15 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 10:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,208
⏱️ Última vela: 2025-10-15 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 13:00:00-04:00
    = UTC:       2025-10-15 17:00:00+00:00
    = Costa Rica:2025-10-15 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 10:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,008 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 10:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 10:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 15:00:00+00:00
Score base (sin calib): 0.883 | Calibrada: 0.628 | Usada(CAL): 0.628
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
bb_pos             1.73
rsi_14             1.47
close_sma20_atr    1.40
sin_dow            1.39
ret_6              1.39
trend_flag         1.23
vol_regime         1.21
ret_8              1.18
Últimas 200 → min:0.313 max:0.645 mean:0.450
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 10:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.628 | Prob BAJA: 0.372
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 15:00:00+00:00 | Close: 110,827.84 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.1842 | DOWN=-0.2078
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.628
   • Kelly raw: 0.208 | Kelly sugerido (25%): 0.052
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-15 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 11:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,209
⏱️ Última vela: 2025-10-15 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 14:00:00-04:00
    = UTC:       2025-10-15 18:00:00+00:00
    = Costa Rica:2025-10-15 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 11:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,009 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 11:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 11:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 16:00:00+00:00
Score base (sin calib): 0.875 | Calibrada: 0.625 | Usada(CAL): 0.625
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
bb_pos             1.43
sin_dow            1.39
rsi_14             1.38
ret_8              1.36
close_sma20_atr    1.26
sin_hour           1.24
trend_flag         1.23
vol_regime         1.21
Últimas 200 → min:0.313 max:0.645 mean:0.451
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 11:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.625 | Prob BAJA: 0.375
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 16:00:00+00:00 | Close: 110,894.30 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.1789 | DOWN=-0.2017
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.625
   • Kelly raw: 0.202 | Kelly sugerido (25%): 0.050
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-15 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 11:29:23 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 17:00:00+00:00 | Ahora UTC: 2025-10-15 17:29:24.376576+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 18:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 11:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 11:29:24.376576-06:00
      - Próximo cierre (CR):     2025-10-15 12:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 11:29:24 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,009 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 11:29:27 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 11:29:29 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 16:00:00+00:00
Score base (sin calib): 0.875 | Calibrada: 0.625 | Usada(CAL): 0.625
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
bb_pos             1.43
sin_dow            1.39
rsi_14             1.38
ret_8              1.36
close_sma20_atr    1.26
sin_hour           1.24
trend_flag         1.23
vol_regime         1.21
Últimas 200 → min:0.313 max:0.645 mean:0.451
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 11:29:31 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.625 | Prob BAJA: 0.375
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 16:00:00+00:00 | Close: 110,894.30 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.1789 | DOWN=-0.2017
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.625
   • Kelly raw: 0.202 | Kelly sugerido (25%): 0.050
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-15 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 12:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,210
⏱️ Última vela: 2025-10-15 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 15:00:00-04:00
    = UTC:       2025-10-15 19:00:00+00:00
    = Costa Rica:2025-10-15 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 12:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,010 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 12:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 12:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 17:00:00+00:00
Score base (sin calib): 0.912 | Calibrada: 0.638 | Usada(CAL): 0.638
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
rsi_14             1.56
bb_pos             1.49
sin_dow            1.39
close_sma20_atr    1.38
sin_hour           1.38
ret_8              1.33
trend_flag         1.22
vol_regime         1.21
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 12:01:14 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.638 | Prob BAJA: 0.362
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 17:00:00+00:00 | Close: 110,561.63 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.2040 | DOWN=-0.2300
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.638
   • Kelly raw: 0.230 | Kelly sugerido (25%): 0.058
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-15 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 13:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,211
⏱️ Última vela: 2025-10-15 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 16:00:00-04:00
    = UTC:       2025-10-15 20:00:00+00:00
    = Costa Rica:2025-10-15 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 13:01:11 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,011 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 13:01:15 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 13:01:18 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 18:00:00+00:00
Score base (sin calib): 0.770 | Calibrada: 0.586 | Usada(CAL): 0.586
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sin_hour            1.42
sin_dow             1.39
range_over_atr      1.32
trend_flag          1.22
vol_regime          1.21
quote_volume_usd    1.12
close_lag1          1.11
range               1.08
Últimas 200 → min:0.313 max:0.645 mean:0.454
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 13:01:25 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.586 | Prob BAJA: 0.414
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 18:00:00+00:00 | Close: 111,080.99 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.1057 | DOWN=-0.1192
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.586
   • Kelly raw: 0.119 | Kelly sugerido (25%): 0.030
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-15 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 14:02:53 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,212
⏱️ Última vela: 2025-10-15 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 17:00:00-04:00
    = UTC:       2025-10-15 21:00:00+00:00
    = Costa Rica:2025-10-15 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 14:02:59 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,012 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 14:03:02 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 14:03:04 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 19:00:00+00:00
Score base (sin calib): 0.534 | Calibrada: 0.496 | Usada(CAL): 0.496
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sin_dow             1.39
sin_hour            1.37
range_over_atr      1.31
trend_flag          1.21
vol_regime          1.21
ret_2               1.14
quote_volume_usd    1.12
range               1.08
Últimas 200 → min:0.313 max:0.645 mean:0.455
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 14:03:06 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.496 | Prob BAJA: 0.504
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 19:00:00+00:00 | Close: 111,349.33 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.0643 | DOWN=0.0725
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-15 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 14:08:43 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 20:00:00+00:00 | Ahora UTC: 2025-10-15 20:08:43.539083+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 21:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 14:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 14:08:43.539083-06:00
      - Próximo cierre (CR):     2025-10-15 15:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 14:08:43 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,012 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 14:08:46 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 14:08:48 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 19:00:00+00:00
Score base (sin calib): 0.534 | Calibrada: 0.496 | Usada(CAL): 0.496
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sin_dow             1.39
sin_hour            1.37
range_over_atr      1.31
trend_flag          1.21
vol_regime          1.21
ret_2               1.14
quote_volume_usd    1.12
range               1.08
Últimas 200 → min:0.313 max:0.645 mean:0.455
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 14:08:50 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.496 | Prob BAJA: 0.504
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 19:00:00+00:00 | Close: 111,349.33 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.0643 | DOWN=0.0725
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-15 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 15:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,213
⏱️ Última vela: 2025-10-15 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 18:00:00-04:00
    = UTC:       2025-10-15 22:00:00+00:00
    = Costa Rica:2025-10-15 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 15:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,013 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 15:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 15:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 20:00:00+00:00
Score base (sin calib): 0.411 | Calibrada: 0.449 | Usada(CAL): 0.449
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sin_dow             1.39
sin_hour            1.22
vol_regime          1.21
trend_flag          1.21
quote_volume_usd    1.09
ret_3               1.08
range_over_atr      1.05
close_lag1          0.95
Últimas 200 → min:0.313 max:0.645 mean:0.455
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 15:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.449 | Prob BAJA: 0.551
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 20:00:00+00:00 | Close: 111,460.71 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.1537 | DOWN=0.1733
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.551
   • Kelly raw: 0.154 | Kelly sugerido (25%): 0.038
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-15 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 16:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,214
⏱️ Última vela: 2025-10-15 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 19:00:00-04:00
    = UTC:       2025-10-15 23:00:00+00:00
    = Costa Rica:2025-10-15 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 16:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 16:01:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 16:01:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 16:01:13 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-15 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----

==== 2025-10-15 16:05:09 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-15 22:05:09.636250+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 16:05:09.636250-06:00
      - Próximo cierre (CR):     2025-10-15 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 16:05:09 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 16:05:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 16:05:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 16:05:22 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-15 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 16:05:23 :: RUN wallet_tracker.update_wallet()
2025-10-15 16:05:24 :: wallet_tracker: ERROR → ParserError('Error tokenizing data. C error: Expected 14 fields in line 27, saw 17\n')

==== 2025-10-15 16:08:40 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-15 22:08:41.392043+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 16:08:41.392043-06:00
      - Próximo cierre (CR):     2025-10-15 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 16:08:41 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 16:08:44 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 16:08:46 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 16:08:48 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-15 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 16:08:50 :: RUN wallet_tracker.update_wallet()
2025-10-15 16:08:50 :: wallet_tracker: OK

==== 2025-10-15 16:19:26 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-15 22:19:27.300243+00:00
  • Siguiente cierre esperado (UTC): 2025-10-15 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 16:19:27.300243-06:00
      - Próximo cierre (CR):     2025-10-15 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 16:19:27 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 16:19:30 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 16:19:33 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 16:19:35 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-15 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 16:19:38 :: RUN wallet_tracker.update_wallet()
2025-10-15 16:19:38 :: wallet_tracker: OK

==== 2025-10-15 16:59:59 :: RUN src.data.pipeline_csv  ====
⚠️ ccxt no está disponible (No module named 'ccxt'). No se descargan velas nuevas.
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-15 23:00:00.581854+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 17:00:00.581854-06:00
      - Próximo cierre (CR):     2025-10-15 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 17:00:00 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 17:00:05 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 17:00:09 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 17:00:12 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-15 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 17:00:15 :: RUN wallet_tracker.update_wallet()
2025-10-15 17:00:15 :: wallet_tracker: OK

==== 2025-10-15 17:10:24 :: RUN src.data.pipeline_csv  ====
⚠️ ccxt no está disponible (No module named 'ccxt'). No se descargan velas nuevas.
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-15 23:10:25.464290+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 17:10:25.464290-06:00
      - Próximo cierre (CR):     2025-10-15 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 17:10:25 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 17:10:29 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 17:10:32 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 17:10:35 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-15 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 17:10:38 :: RUN wallet_tracker.update_wallet()
2025-10-15 17:10:38 :: wallet_tracker: OK

==== 2025-10-15 17:59:59 :: RUN src.data.pipeline_csv  ====
⚠️ ccxt no está disponible (No module named 'ccxt'). No se descargan velas nuevas.
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-16 00:00:00.361906+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 18:00:00.361906-06:00
      - Próximo cierre (CR):     2025-10-15 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 18:00:00 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 18:00:03 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 18:00:05 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 18:00:07 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-15 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 18:00:10 :: RUN wallet_tracker.update_wallet()
2025-10-15 18:00:10 :: wallet_tracker: OK

==== 2025-10-15 18:03:45 :: RUN src.data.pipeline_csv  ====
⚠️ ccxt no está disponible (No module named 'ccxt'). No se descargan velas nuevas.
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-16 00:03:46.162135+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 18:03:46.162135-06:00
      - Próximo cierre (CR):     2025-10-15 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 18:03:46 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 18:03:49 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 18:03:51 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 18:03:53 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.542
   • Kelly raw: 0.026 | Kelly sugerido (25%): 0.006
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-15 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 18:03:55 :: RUN wallet_tracker.update_wallet()
2025-10-15 18:03:55 :: wallet_tracker: OK

==== 2025-10-15 18:04:50 :: RUN src.data.pipeline_csv  ====
⚠️ ccxt no está disponible (No module named 'ccxt'). No se descargan velas nuevas.
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-16 00:04:50.689786+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 18:04:50.689786-06:00
      - Próximo cierre (CR):     2025-10-15 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 18:04:50 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 18:04:53 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 18:04:56 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 18:04:57 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:129: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close= float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.542
   • Kelly raw: 0.026 | Kelly sugerido (25%): 0.006
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-15 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 18:04:59 :: RUN wallet_tracker.update_wallet()
2025-10-15 18:05:00 :: wallet_tracker: OK

==== 2025-10-15 18:28:25 :: RUN src.data.pipeline_csv  ====
⚠️ ccxt no está disponible (No module named 'ccxt'). No se descargan velas nuevas.
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-16 00:28:26.369506+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 18:28:26.369506-06:00
      - Próximo cierre (CR):     2025-10-15 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 18:28:26 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 18:28:29 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 18:28:32 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 18:28:34 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.542
   • Kelly raw: 0.026 | Kelly sugerido (25%): 0.006
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-15 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 18:28:37 :: RUN wallet_tracker.update_wallet()
2025-10-15 18:28:37 :: wallet_tracker: OK

==== 2025-10-15 18:29:25 :: RUN src.data.pipeline_csv  ====
⚠️ ccxt no está disponible (No module named 'ccxt'). No se descargan velas nuevas.
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-15 22:00:00+00:00 | Ahora UTC: 2025-10-16 00:29:25.722832+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 18:29:25.722832-06:00
      - Próximo cierre (CR):     2025-10-15 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 18:29:25 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,014 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 18:29:28 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 18:29:31 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 21:00:00+00:00
Score base (sin calib): 0.655 | Calibrada: 0.542 | Usada(CAL): 0.542
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.48
sin_dow             1.39
range               1.23
vol_regime          1.21
trend_flag          1.20
quote_volume_usd    1.11
cos_hour            1.01
sin_hour            1.00
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 18:29:33 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.542 | Prob BAJA: 0.458
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 21:00:00+00:00 | Close: 111,060.53 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0230 | DOWN=-0.0260
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.542
   • Kelly raw: 0.026 | Kelly sugerido (25%): 0.006
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-15 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 18:29:35 :: RUN wallet_tracker.update_wallet()
2025-10-15 18:29:36 :: wallet_tracker: OK

==== 2025-10-15 18:33:27 :: RUN src.data.pipeline_csv  ====

==== 2025-10-15 18:34:51 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,216
⏱️ Última vela: 2025-10-16 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 21:00:00-04:00
    = UTC:       2025-10-16 01:00:00+00:00
    = Costa Rica:2025-10-15 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 18:34:57 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,016 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 18:34:59 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 18:35:02 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 23:00:00+00:00
Score base (sin calib): 0.309 | Calibrada: 0.410 | Usada(CAL): 0.410
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sin_dow             1.38
cos_hour            1.38
vol_regime          1.20
trend_flag          1.19
rsi_14              1.08
close_lag1          1.04
ema_20              0.96
sma_ratio_50_200    0.94
Últimas 200 → min:0.313 max:0.645 mean:0.455
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 18:35:03 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.410 | Prob BAJA: 0.590
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 23:00:00+00:00 | Close: 110,763.28 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2268 | DOWN=0.2557
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.590
   • Kelly raw: 0.227 | Kelly sugerido (25%): 0.057
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-15 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 18:35:05 :: RUN wallet_tracker.update_wallet()
2025-10-15 18:35:06 :: wallet_tracker: OK

==== 2025-10-15 18:59:59 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 00:00:00+00:00 | Ahora UTC: 2025-10-16 00:59:59.763484+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 18:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 18:59:59.763484-06:00
      - Próximo cierre (CR):     2025-10-15 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 18:59:59 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,016 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 19:00:03 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 19:00:07 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-15 23:00:00+00:00
Score base (sin calib): 0.309 | Calibrada: 0.410 | Usada(CAL): 0.410
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sin_dow             1.38
cos_hour            1.38
vol_regime          1.20
trend_flag          1.19
rsi_14              1.08
close_lag1          1.04
ema_20              0.96
sma_ratio_50_200    0.94
Últimas 200 → min:0.313 max:0.645 mean:0.455
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 19:00:09 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.410 | Prob BAJA: 0.590
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-15 23:00:00+00:00 | Close: 110,763.28 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2268 | DOWN=0.2557
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.590
   • Kelly raw: 0.227 | Kelly sugerido (25%): 0.057
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-15 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 19:00:12 :: RUN wallet_tracker.update_wallet()
2025-10-15 19:00:12 :: wallet_tracker: OK

==== 2025-10-15 19:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,218
⏱️ Última vela: 2025-10-16 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-15 23:00:00-04:00
    = UTC:       2025-10-16 03:00:00+00:00
    = Costa Rica:2025-10-15 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 20:00:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,018 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 20:00:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 20:00:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 01:00:00+00:00
Score base (sin calib): 0.113 | Calibrada: 0.339 | Usada(CAL): 0.339
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
body_over_atr    2.16
body_pct         2.03
body             1.92
ret_1            1.39
logret_1         1.38
cos_hour         1.37
cos_dow          1.29
vol_regime       1.19
Últimas 200 → min:0.313 max:0.645 mean:0.454
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 20:00:18 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.339 | Prob BAJA: 0.661
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 01:00:00+00:00 | Close: 111,299.99 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3602 | DOWN=0.4062
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.661
   • Kelly raw: 0.360 | Kelly sugerido (25%): 0.090
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-15 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 20:00:22 :: RUN wallet_tracker.update_wallet()
2025-10-15 20:00:22 :: wallet_tracker: OK

==== 2025-10-15 20:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,219
⏱️ Última vela: 2025-10-16 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-15 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 00:00:00-04:00
    = UTC:       2025-10-16 04:00:00+00:00
    = Costa Rica:2025-10-15 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 21:00:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,019 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 21:00:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 21:00:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 02:00:00+00:00
Score base (sin calib): 0.287 | Calibrada: 0.402 | Usada(CAL): 0.402
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr    1.44
ret_1_lag1        1.39
cos_dow           1.29
cos_hour          1.22
range             1.22
vol_regime        1.18
trend_flag        1.18
true_range        1.14
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 21:00:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.402 | Prob BAJA: 0.598
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 02:00:00+00:00 | Close: 111,317.61 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2422 | DOWN=0.2731
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.598
   • Kelly raw: 0.242 | Kelly sugerido (25%): 0.061
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-16 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 21:00:17 :: RUN wallet_tracker.update_wallet()
2025-10-15 21:00:17 :: wallet_tracker: OK

==== 2025-10-15 21:01:02 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 03:00:00+00:00 | Ahora UTC: 2025-10-16 03:01:02.610245+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 04:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 21:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 21:01:02.610245-06:00
      - Próximo cierre (CR):     2025-10-15 22:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 21:01:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,019 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 21:01:05 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 21:01:08 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 02:00:00+00:00
Score base (sin calib): 0.287 | Calibrada: 0.402 | Usada(CAL): 0.402
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr    1.44
ret_1_lag1        1.39
cos_dow           1.29
cos_hour          1.22
range             1.22
vol_regime        1.18
trend_flag        1.18
true_range        1.14
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 21:01:10 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.402 | Prob BAJA: 0.598
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 02:00:00+00:00 | Close: 111,317.61 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2422 | DOWN=0.2731
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.598
   • Kelly raw: 0.242 | Kelly sugerido (25%): 0.061
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-16 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 21:01:12 :: RUN wallet_tracker.update_wallet()
2025-10-15 21:01:12 :: wallet_tracker: OK

==== 2025-10-15 21:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,220
⏱️ Última vela: 2025-10-16 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 01:00:00-04:00
    = UTC:       2025-10-16 05:00:00+00:00
    = Costa Rica:2025-10-15 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 22:00:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,020 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 22:00:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 22:00:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 03:00:00+00:00
Score base (sin calib): 0.369 | Calibrada: 0.432 | Usada(CAL): 0.432
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.58
range               1.32
cos_dow             1.29
vol_regime          1.18
trend_flag          1.17
quote_volume_usd    1.13
ret_3               1.08
sin_hour            1.01
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 22:00:19 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.432 | Prob BAJA: 0.568
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 03:00:00+00:00 | Close: 111,510.43 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1843 | DOWN=0.2079
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.568
   • Kelly raw: 0.184 | Kelly sugerido (25%): 0.046
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-16 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 22:00:22 :: RUN wallet_tracker.update_wallet()
2025-10-15 22:00:22 :: wallet_tracker: OK

==== 2025-10-15 22:01:02 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 04:00:00+00:00 | Ahora UTC: 2025-10-16 04:01:02.953243+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 05:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-15 22:00:00-06:00
      - Ahora (Costa Rica):      2025-10-15 22:01:02.953243-06:00
      - Próximo cierre (CR):     2025-10-15 23:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 22:01:03 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,020 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 22:01:07 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 22:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 03:00:00+00:00
Score base (sin calib): 0.369 | Calibrada: 0.432 | Usada(CAL): 0.432
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.58
range               1.32
cos_dow             1.29
vol_regime          1.18
trend_flag          1.17
quote_volume_usd    1.13
ret_3               1.08
sin_hour            1.01
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 22:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.432 | Prob BAJA: 0.568
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 03:00:00+00:00 | Close: 111,510.43 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1843 | DOWN=0.2079
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.568
   • Kelly raw: 0.184 | Kelly sugerido (25%): 0.046
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-16 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 22:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-15 22:01:18 :: wallet_tracker: OK

==== 2025-10-15 22:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,221
⏱️ Última vela: 2025-10-16 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 02:00:00-04:00
    = UTC:       2025-10-16 06:00:00+00:00
    = Costa Rica:2025-10-16 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-15 23:00:05 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,021 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-15 23:00:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-15 23:00:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 04:00:00+00:00
Score base (sin calib): 0.137 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.42
cos_dow             1.29
range               1.24
sin_hour            1.24
vol_regime          1.17
trend_flag          1.17
atr14               1.12
quote_volume_usd    1.12
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-15 23:00:14 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.347 | Prob BAJA: 0.653
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 04:00:00+00:00 | Close: 111,363.38 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3443 | DOWN=0.3883
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.653
   • Kelly raw: 0.344 | Kelly sugerido (25%): 0.086
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-16 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-15 23:00:16 :: RUN wallet_tracker.update_wallet()
2025-10-15 23:00:16 :: wallet_tracker: OK

==== 2025-10-15 23:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,222
⏱️ Última vela: 2025-10-16 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 03:00:00-04:00
    = UTC:       2025-10-16 07:00:00+00:00
    = Costa Rica:2025-10-16 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 00:00:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,022 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 00:00:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 00:00:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 05:00:00+00:00
Score base (sin calib): 0.290 | Calibrada: 0.403 | Usada(CAL): 0.403
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.40
sin_hour            1.38
cos_dow             1.29
range               1.23
vol_regime          1.17
trend_flag          1.16
quote_volume_usd    1.11
atr14               1.08
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 00:00:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.403 | Prob BAJA: 0.597
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 05:00:00+00:00 | Close: 110,989.61 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2404 | DOWN=0.2711
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.597
   • Kelly raw: 0.240 | Kelly sugerido (25%): 0.060
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2AM–3AM ET | cierra 2025-10-16 03:00:00 EDT (UTC 07:00, CR 01:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 00:00:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 00:00:20 :: wallet_tracker: OK

==== 2025-10-16 00:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,223
⏱️ Última vela: 2025-10-16 07:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 03:00 AM – 04:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 04:00:00-04:00
    = UTC:       2025-10-16 08:00:00+00:00
    = Costa Rica:2025-10-16 02:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 01:00:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,023 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 01:00:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 01:00:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 06:00:00+00:00
Score base (sin calib): 0.219 | Calibrada: 0.377 | Usada(CAL): 0.377
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr    1.45
sin_hour          1.42
cos_dow           1.29
range             1.26
vol_regime        1.16
trend_flag        1.16
true_range        1.16
atr14             1.12
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 01:00:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.377 | Prob BAJA: 0.623
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 06:00:00+00:00 | Close: 110,975.46 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2893 | DOWN=0.3263
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.623
   • Kelly raw: 0.289 | Kelly sugerido (25%): 0.072
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3AM–4AM ET | cierra 2025-10-16 04:00:00 EDT (UTC 08:00, CR 02:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 01:00:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 01:00:20 :: wallet_tracker: OK

==== 2025-10-16 01:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,224
⏱️ Última vela: 2025-10-16 08:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 04:00 AM – 05:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 05:00:00-04:00
    = UTC:       2025-10-16 09:00:00+00:00
    = Costa Rica:2025-10-16 03:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 02:00:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,024 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 02:00:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 02:00:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 07:00:00+00:00
Score base (sin calib): 0.132 | Calibrada: 0.346 | Usada(CAL): 0.346
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr    1.45
ret_1             1.41
logret_1          1.40
sin_hour          1.37
cos_dow           1.29
range             1.25
vol_regime        1.16
trend_flag        1.15
Últimas 200 → min:0.313 max:0.645 mean:0.451
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 02:00:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.346 | Prob BAJA: 0.654
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 07:00:00+00:00 | Close: 111,681.89 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3478 | DOWN=0.3922
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.654
   • Kelly raw: 0.348 | Kelly sugerido (25%): 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4AM–5AM ET | cierra 2025-10-16 05:00:00 EDT (UTC 09:00, CR 03:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 02:00:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 02:00:20 :: wallet_tracker: OK

==== 2025-10-16 02:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,225
⏱️ Última vela: 2025-10-16 09:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 05:00 AM – 06:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 06:00:00-04:00
    = UTC:       2025-10-16 10:00:00+00:00
    = Costa Rica:2025-10-16 04:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 03:00:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,025 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 03:00:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 03:00:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 08:00:00+00:00
Score base (sin calib): 0.356 | Calibrada: 0.427 | Usada(CAL): 0.427
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1             2.10
logret_1          2.09
ret_1_lag1        1.41
range_over_atr    1.40
cos_dow           1.29
sin_hour          1.22
range             1.22
bb_pos            1.17
Últimas 200 → min:0.313 max:0.645 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 03:00:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.427 | Prob BAJA: 0.573
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 08:00:00+00:00 | Close: 110,622.30 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1938 | DOWN=0.2185
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.573
   • Kelly raw: 0.194 | Kelly sugerido (25%): 0.048
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5AM–6AM ET | cierra 2025-10-16 06:00:00 EDT (UTC 10:00, CR 04:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 03:00:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 03:00:20 :: wallet_tracker: OK

==== 2025-10-16 03:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,226
⏱️ Última vela: 2025-10-16 10:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 06:00 AM – 07:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 07:00:00-04:00
    = UTC:       2025-10-16 11:00:00+00:00
    = Costa Rica:2025-10-16 05:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 04:00:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,026 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 04:00:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 04:00:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 09:00:00+00:00
Score base (sin calib): 0.554 | Calibrada: 0.503 | Usada(CAL): 0.503
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1          2.10
range_over_atr      1.49
cos_dow             1.29
range               1.27
ret_2               1.25
trend_flag          1.15
vol_regime          1.15
quote_volume_usd    1.10
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 04:00:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.503 | Prob BAJA: 0.497
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 09:00:00+00:00 | Close: 110,803.56 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0503 | DOWN=0.0567
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6AM–7AM ET | cierra 2025-10-16 07:00:00 EDT (UTC 11:00, CR 05:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 04:00:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 04:00:20 :: wallet_tracker: OK

==== 2025-10-16 04:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,227
⏱️ Última vela: 2025-10-16 11:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 07:00 AM – 08:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 08:00:00-04:00
    = UTC:       2025-10-16 12:00:00+00:00
    = Costa Rica:2025-10-16 06:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 05:00:14 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,027 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 05:00:19 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 05:00:22 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 10:00:00+00:00
Score base (sin calib): 0.197 | Calibrada: 0.369 | Usada(CAL): 0.369
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.39
cos_dow             1.29
cos_hour            1.24
range               1.21
trend_flag          1.15
vol_regime          1.15
quote_volume_usd    1.10
close_lag1          1.05
Últimas 200 → min:0.313 max:0.645 mean:0.453
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 05:00:31 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.369 | Prob BAJA: 0.631
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 10:00:00+00:00 | Close: 111,183.42 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3044 | DOWN=0.3433
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.631
   • Kelly raw: 0.304 | Kelly sugerido (25%): 0.076
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7AM–8AM ET | cierra 2025-10-16 08:00:00 EDT (UTC 12:00, CR 06:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 05:00:33 :: RUN wallet_tracker.update_wallet()
2025-10-16 05:00:34 :: wallet_tracker: OK

==== 2025-10-16 05:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,228
⏱️ Última vela: 2025-10-16 12:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 08:00 AM – 09:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 09:00:00-04:00
    = UTC:       2025-10-16 13:00:00+00:00
    = Costa Rica:2025-10-16 07:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 06:00:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,028 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 06:00:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 06:00:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 11:00:00+00:00
Score base (sin calib): 0.154 | Calibrada: 0.353 | Usada(CAL): 0.353
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.45
cos_hour            1.38
cos_dow             1.29
range               1.25
trend_flag          1.15
vol_regime          1.14
quote_volume_usd    1.10
sma_20              1.02
Últimas 200 → min:0.313 max:0.645 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 06:00:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.353 | Prob BAJA: 0.647
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 11:00:00+00:00 | Close: 111,449.92 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3332 | DOWN=0.3757
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.647
   • Kelly raw: 0.333 | Kelly sugerido (25%): 0.083
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8AM–9AM ET | cierra 2025-10-16 09:00:00 EDT (UTC 13:00, CR 07:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 06:00:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 06:00:20 :: wallet_tracker: OK

==== 2025-10-16 06:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,229
⏱️ Última vela: 2025-10-16 13:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 09:00 AM – 10:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-16 10:00:00-04:00
    = UTC:       2025-10-16 14:00:00+00:00
    = Costa Rica:2025-10-16 08:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 07:00:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,029 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 07:00:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 07:00:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 12:00:00+00:00
Score base (sin calib): 0.191 | Calibrada: 0.366 | Usada(CAL): 0.366
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.46
cos_hour            1.42
cos_dow             1.29
range               1.25
trend_flag          1.15
vol_regime          1.14
true_range          1.13
quote_volume_usd    1.09
Últimas 200 → min:0.313 max:0.645 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 07:00:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.366 | Prob BAJA: 0.634
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 12:00:00+00:00 | Close: 111,404.73 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3086 | DOWN=0.3480
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.634
   • Kelly raw: 0.309 | Kelly sugerido (25%): 0.077
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9AM–10AM ET | cierra 2025-10-16 10:00:00 EDT (UTC 14:00, CR 08:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 07:00:19 :: RUN wallet_tracker.update_wallet()
2025-10-16 07:00:20 :: wallet_tracker: OK

==== 2025-10-16 07:59:59 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 13:00:00+00:00 | Ahora UTC: 2025-10-16 13:59:59.780407+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 14:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 07:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 07:59:59.780407-06:00
      - Próximo cierre (CR):     2025-10-16 08:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 07:59:59 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,029 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 08:00:03 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 08:00:07 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 12:00:00+00:00
Score base (sin calib): 0.191 | Calibrada: 0.366 | Usada(CAL): 0.366
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr      1.46
cos_hour            1.42
cos_dow             1.29
range               1.25
trend_flag          1.15
vol_regime          1.14
true_range          1.13
quote_volume_usd    1.09
Últimas 200 → min:0.313 max:0.645 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 08:00:09 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.366 | Prob BAJA: 0.634
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 12:00:00+00:00 | Close: 111,404.73 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3086 | DOWN=0.3480
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.634
   • Kelly raw: 0.309 | Kelly sugerido (25%): 0.077
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10AM–11AM ET | cierra 2025-10-16 11:00:00 EDT (UTC 15:00, CR 09:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 08:00:12 :: RUN wallet_tracker.update_wallet()
2025-10-16 08:00:13 :: wallet_tracker: OK

==== 2025-10-16 08:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,231
⏱️ Última vela: 2025-10-16 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 12:00:00-04:00
    = UTC:       2025-10-16 16:00:00+00:00
    = Costa Rica:2025-10-16 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 09:00:05 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,031 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 09:00:08 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 09:00:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 14:00:00+00:00
Score base (sin calib): 0.229 | Calibrada: 0.380 | Usada(CAL): 0.380
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
range_over_atr    4.30
lower_wick_pct    4.12
lower_wick        3.90
vol_z20           3.62
upper_wick_pct    2.64
upper_wick        2.48
range             2.42
true_range        2.24
Últimas 200 → min:0.313 max:0.645 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 09:00:13 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.380 | Prob BAJA: 0.620
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 14:00:00+00:00 | Close: 110,529.34 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2825 | DOWN=0.3185
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.620
   • Kelly raw: 0.282 | Kelly sugerido (25%): 0.071
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-16 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 09:00:15 :: RUN wallet_tracker.update_wallet()
2025-10-16 09:00:16 :: wallet_tracker: OK

==== 2025-10-16 09:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,232
⏱️ Última vela: 2025-10-16 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 13:00:00-04:00
    = UTC:       2025-10-16 17:00:00+00:00
    = Costa Rica:2025-10-16 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 10:00:11 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,032 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 10:00:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 10:00:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 15:00:00+00:00
Score base (sin calib): 0.371 | Calibrada: 0.433 | Usada(CAL): 0.433
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1        1.93
range_over_atr    1.39
ret_2             1.35
cos_dow           1.29
bb_pos            1.23
range             1.22
true_range        1.16
trend_flag        1.15
Últimas 200 → min:0.313 max:0.645 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 10:00:24 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.433 | Prob BAJA: 0.567
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 15:00:00+00:00 | Close: 110,557.79 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1827 | DOWN=0.2060
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.567
   • Kelly raw: 0.183 | Kelly sugerido (25%): 0.046
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-16 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 10:00:26 :: RUN wallet_tracker.update_wallet()
2025-10-16 10:00:27 :: wallet_tracker: OK

==== 2025-10-16 10:01:03 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 16:00:00+00:00 | Ahora UTC: 2025-10-16 16:01:04.289980+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 17:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 10:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 10:01:04.289980-06:00
      - Próximo cierre (CR):     2025-10-16 11:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 10:01:04 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,032 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 10:01:07 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 10:01:09 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 15:00:00+00:00
Score base (sin calib): 0.371 | Calibrada: 0.433 | Usada(CAL): 0.433
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1        1.93
range_over_atr    1.39
ret_2             1.35
cos_dow           1.29
bb_pos            1.23
range             1.22
true_range        1.16
trend_flag        1.15
Últimas 200 → min:0.313 max:0.645 mean:0.452
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 10:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.433 | Prob BAJA: 0.567
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 15:00:00+00:00 | Close: 110,557.79 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1827 | DOWN=0.2060
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.567
   • Kelly raw: 0.183 | Kelly sugerido (25%): 0.046
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-16 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 10:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-16 10:01:17 :: wallet_tracker: OK

==== 2025-10-16 10:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,233
⏱️ Última vela: 2025-10-16 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 14:00:00-04:00
    = UTC:       2025-10-16 18:00:00+00:00
    = Costa Rica:2025-10-16 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 11:00:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,033 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 11:00:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 11:00:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 16:00:00+00:00
Score base (sin calib): 0.908 | Calibrada: 0.637 | Usada(CAL): 0.637
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
logret_1           4.19
ret_1              4.17
ret_3              3.58
ret_4              3.07
ret_2              2.98
true_range         2.86
bb_pos             2.84
close_sma20_atr    2.63
Últimas 200 → min:0.313 max:0.645 mean:0.454
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 11:00:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.637 | Prob BAJA: 0.363
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 16:00:00+00:00 | Close: 108,476.14 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2013 | DOWN=-0.2270
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.637
   • Kelly raw: 0.227 | Kelly sugerido (25%): 0.057
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-16 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 11:00:19 :: RUN wallet_tracker.update_wallet()
2025-10-16 11:00:19 :: wallet_tracker: OK

==== 2025-10-16 11:01:02 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 17:00:00+00:00 | Ahora UTC: 2025-10-16 17:01:02.549921+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 18:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 11:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 11:01:02.549921-06:00
      - Próximo cierre (CR):     2025-10-16 12:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 11:01:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,033 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 11:01:05 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 11:01:07 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 16:00:00+00:00
Score base (sin calib): 0.908 | Calibrada: 0.637 | Usada(CAL): 0.637
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
logret_1           4.19
ret_1              4.17
ret_3              3.58
ret_4              3.07
ret_2              2.98
true_range         2.86
bb_pos             2.84
close_sma20_atr    2.63
Últimas 200 → min:0.313 max:0.645 mean:0.454
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 11:01:09 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.637 | Prob BAJA: 0.363
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 16:00:00+00:00 | Close: 108,476.14 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2013 | DOWN=-0.2270
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.637
   • Kelly raw: 0.227 | Kelly sugerido (25%): 0.057
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-16 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 11:01:11 :: RUN wallet_tracker.update_wallet()
2025-10-16 11:01:12 :: wallet_tracker: OK

==== 2025-10-16 11:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,234
⏱️ Última vela: 2025-10-16 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 15:00:00-04:00
    = UTC:       2025-10-16 19:00:00+00:00
    = Costa Rica:2025-10-16 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 12:00:05 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,034 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 12:00:08 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 12:00:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 17:00:00+00:00
Score base (sin calib): 0.867 | Calibrada: 0.622 | Usada(CAL): 0.622
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1         4.17
ret_4              2.40
ret_2              2.01
ret_6              1.90
bb_pos             1.72
close_sma20_atr    1.71
ret_3              1.64
close_lag1         1.49
Últimas 200 → min:0.313 max:0.645 mean:0.455
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 12:00:12 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.622 | Prob BAJA: 0.378
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 17:00:00+00:00 | Close: 109,166.39 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1735 | DOWN=-0.1957
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.622
   • Kelly raw: 0.196 | Kelly sugerido (25%): 0.049
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-16 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 12:00:14 :: RUN wallet_tracker.update_wallet()
2025-10-16 12:00:14 :: wallet_tracker: OK

==== 2025-10-16 12:01:02 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 18:00:00+00:00 | Ahora UTC: 2025-10-16 18:01:02.625119+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 19:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 12:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 12:01:02.625119-06:00
      - Próximo cierre (CR):     2025-10-16 13:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 12:01:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,034 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 12:01:06 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 12:01:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 17:00:00+00:00
Score base (sin calib): 0.867 | Calibrada: 0.622 | Usada(CAL): 0.622
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1         4.17
ret_4              2.40
ret_2              2.01
ret_6              1.90
bb_pos             1.72
close_sma20_atr    1.71
ret_3              1.64
close_lag1         1.49
Últimas 200 → min:0.313 max:0.645 mean:0.455
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 12:01:13 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.622 | Prob BAJA: 0.378
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 17:00:00+00:00 | Close: 109,166.39 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1735 | DOWN=-0.1957
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.622
   • Kelly raw: 0.196 | Kelly sugerido (25%): 0.049
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-16 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 12:01:16 :: RUN wallet_tracker.update_wallet()
2025-10-16 12:01:16 :: wallet_tracker: OK

==== 2025-10-16 12:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,235
⏱️ Última vela: 2025-10-16 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 16:00:00-04:00
    = UTC:       2025-10-16 20:00:00+00:00
    = Costa Rica:2025-10-16 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 13:00:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,035 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 13:00:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 13:00:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 18:00:00+00:00
Score base (sin calib): 0.867 | Calibrada: 0.622 | Usada(CAL): 0.622
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3              2.71
ret_6              2.58
ret_4              2.34
close_sma20_atr    2.22
ret_8              2.02
bb_pos             1.98
ret_1              1.79
logret_1           1.79
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 13:00:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.622 | Prob BAJA: 0.378
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 18:00:00+00:00 | Close: 108,278.03 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1737 | DOWN=-0.1959
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.622
   • Kelly raw: 0.196 | Kelly sugerido (25%): 0.049
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-16 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 13:00:17 :: RUN wallet_tracker.update_wallet()
2025-10-16 13:00:17 :: wallet_tracker: OK

==== 2025-10-16 13:01:02 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 19:00:00+00:00 | Ahora UTC: 2025-10-16 19:01:02.603800+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 20:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 13:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 13:01:02.603800-06:00
      - Próximo cierre (CR):     2025-10-16 14:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 13:01:02 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,035 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 13:01:05 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 13:01:08 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 18:00:00+00:00
Score base (sin calib): 0.867 | Calibrada: 0.622 | Usada(CAL): 0.622
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3              2.71
ret_6              2.58
ret_4              2.34
close_sma20_atr    2.22
ret_8              2.02
bb_pos             1.98
ret_1              1.79
logret_1           1.79
Últimas 200 → min:0.313 max:0.645 mean:0.456
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 13:01:10 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.622 | Prob BAJA: 0.378
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 18:00:00+00:00 | Close: 108,278.03 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1737 | DOWN=-0.1959
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.622
   • Kelly raw: 0.196 | Kelly sugerido (25%): 0.049
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-16 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 13:01:12 :: RUN wallet_tracker.update_wallet()
2025-10-16 13:01:12 :: wallet_tracker: OK

==== 2025-10-16 13:59:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,236
⏱️ Última vela: 2025-10-16 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 17:00:00-04:00
    = UTC:       2025-10-16 21:00:00+00:00
    = Costa Rica:2025-10-16 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 14:00:11 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,036 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 14:00:15 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 14:00:17 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 19:00:00+00:00
Score base (sin calib): 0.704 | Calibrada: 0.561 | Usada(CAL): 0.561
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              2.35
ret_4              2.02
ret_8              1.96
close_sma20_atr    1.84
ret_1_lag1         1.79
close_lag1         1.53
bb_pos             1.49
macd_hist          1.45
Últimas 200 → min:0.313 max:0.645 mean:0.457
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 14:00:25 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.561 | Prob BAJA: 0.439
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 19:00:00+00:00 | Close: 108,609.92 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0587 | DOWN=-0.0662
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.561
   • Kelly raw: 0.066 | Kelly sugerido (25%): 0.017
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-16 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 14:00:27 :: RUN wallet_tracker.update_wallet()
2025-10-16 14:00:28 :: wallet_tracker: OK

==== 2025-10-16 14:01:03 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 20:00:00+00:00 | Ahora UTC: 2025-10-16 20:01:04.211357+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 21:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 14:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 14:01:04.211357-06:00
      - Próximo cierre (CR):     2025-10-16 15:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 14:01:04 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,036 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 14:01:07 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 14:01:09 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 19:00:00+00:00
Score base (sin calib): 0.704 | Calibrada: 0.561 | Usada(CAL): 0.561
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              2.35
ret_4              2.02
ret_8              1.96
close_sma20_atr    1.84
ret_1_lag1         1.79
close_lag1         1.53
bb_pos             1.49
macd_hist          1.45
Últimas 200 → min:0.313 max:0.645 mean:0.457
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 14:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.561 | Prob BAJA: 0.439
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 19:00:00+00:00 | Close: 108,609.92 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.530 | DOWN≥0.530 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0587 | DOWN=-0.0662
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.561
   • Kelly raw: 0.066 | Kelly sugerido (25%): 0.017
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-16 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 14:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-16 14:01:18 :: wallet_tracker: OK

==== 2025-10-16 14:56:50 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 20:00:00+00:00 | Ahora UTC: 2025-10-16 20:56:50.647631+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 21:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 14:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 14:56:50.647631-06:00
      - Próximo cierre (CR):     2025-10-16 15:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 14:56:50 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,036 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 14:56:53 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 14:56:55 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 19:00:00+00:00
Score base (sin calib): 0.556 | Calibrada: 0.511 | Usada(CAL): 0.511
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              2.35
ret_4              2.02
ret_8              1.96
close_sma20_atr    1.84
ret_1_lag1         1.79
close_lag1         1.53
bb_pos             1.49
macd_hist          1.45
Últimas 200 → min:0.315 max:0.671 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 14:56:57 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.511 | Prob BAJA: 0.489
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 19:00:00+00:00 | Close: 108,609.92 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.030
EV           → UP=-0.0354 | DOWN=0.0400
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-16 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 14:56:59 :: RUN wallet_tracker.update_wallet()
2025-10-16 14:56:59 :: wallet_tracker: OK

==== 2025-10-16 14:57:19 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 20:00:00+00:00 | Ahora UTC: 2025-10-16 20:57:20.079099+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 21:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 14:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 14:57:20.079099-06:00
      - Próximo cierre (CR):     2025-10-16 15:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 14:57:20 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,036 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 14:57:22 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 14:57:25 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 19:00:00+00:00
Score base (sin calib): 0.556 | Calibrada: 0.511 | Usada(CAL): 0.511
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              2.35
ret_4              2.02
ret_8              1.96
close_sma20_atr    1.84
ret_1_lag1         1.79
close_lag1         1.53
bb_pos             1.49
macd_hist          1.45
Últimas 200 → min:0.315 max:0.671 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 14:57:26 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:139: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.511 | Prob BAJA: 0.489
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 19:00:00+00:00 | Close: 108,609.92 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.0354 | DOWN=0.0400
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-16 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 14:57:28 :: RUN wallet_tracker.update_wallet()
2025-10-16 14:57:29 :: wallet_tracker: OK

==== 2025-10-16 15:17:13 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,237
⏱️ Última vela: 2025-10-16 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 18:00:00-04:00
    = UTC:       2025-10-16 22:00:00+00:00
    = Costa Rica:2025-10-16 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 15:17:19 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,037 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 15:17:21 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 15:17:24 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 20:00:00+00:00
Score base (sin calib): 0.682 | Calibrada: 0.566 | Usada(CAL): 0.566
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_8              2.17
close_sma20_atr    1.96
ret_6              1.87
bb_pos             1.50
macd_hist          1.49
rsi_14             1.47
close_lag1         1.46
range_over_atr     1.36
Últimas 200 → min:0.315 max:0.671 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 15:17:26 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.566 | Prob BAJA: 0.434
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 20:00:00+00:00 | Close: 108,251.81 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0677 | DOWN=-0.0764
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.566
   • Kelly raw: 0.076 | Kelly sugerido (25%): 0.019
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-16 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 15:17:28 :: RUN wallet_tracker.update_wallet()
2025-10-16 15:17:28 :: wallet_tracker: OK

==== 2025-10-16 15:24:13 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 21:00:00+00:00 | Ahora UTC: 2025-10-16 21:24:14.471122+00:00
  • Siguiente cierre esperado (UTC): 2025-10-16 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 15:24:14.471122-06:00
      - Próximo cierre (CR):     2025-10-16 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 15:24:14 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,037 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 15:24:17 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 15:24:19 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 20:00:00+00:00
Score base (sin calib): 0.682 | Calibrada: 0.566 | Usada(CAL): 0.566
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_8              2.17
close_sma20_atr    1.96
ret_6              1.87
bb_pos             1.50
macd_hist          1.49
rsi_14             1.47
close_lag1         1.46
range_over_atr     1.36
Últimas 200 → min:0.315 max:0.671 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 15:24:21 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.566 | Prob BAJA: 0.434
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 20:00:00+00:00 | Close: 108,251.81 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0677 | DOWN=-0.0764
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.566
   • Kelly raw: 0.076 | Kelly sugerido (25%): 0.019
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-16 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 15:24:22 :: RUN wallet_tracker.update_wallet()
2025-10-16 15:24:23 :: wallet_tracker: OK
2025-10-16 16:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-16 16:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,238
⏱️ Última vela: 2025-10-16 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 19:00:00-04:00
    = UTC:       2025-10-16 23:00:00+00:00
    = Costa Rica:2025-10-16 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 16:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,038 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 16:01:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 16:01:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 21:00:00+00:00
Score base (sin calib): 0.534 | Calibrada: 0.502 | Usada(CAL): 0.502
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_8              2.24
ret_6              1.93
close_sma20_atr    1.88
close_lag1         1.53
rsi_14             1.48
macd_hist          1.43
bb_pos             1.34
cos_dow            1.29
Últimas 200 → min:0.315 max:0.671 mean:0.486
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 16:01:13 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.502 | Prob BAJA: 0.498
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 21:00:00+00:00 | Close: 108,198.00 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=-0.0532 | DOWN=0.0600
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-16 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 16:01:15 :: RUN wallet_tracker.update_wallet()
2025-10-16 16:01:15 :: wallet_tracker: OK

==== 2025-10-16 17:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,239
⏱️ Última vela: 2025-10-16 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 20:00:00-04:00
    = UTC:       2025-10-17 00:00:00+00:00
    = Costa Rica:2025-10-16 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 17:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,039 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 17:01:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 17:01:17 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 22:00:00+00:00
Score base (sin calib): 0.652 | Calibrada: 0.553 | Usada(CAL): 0.553
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    1.72
close_lag1         1.54
ret_8              1.46
rsi_14             1.31
cos_dow            1.29
ema_20             1.28
range_over_atr     1.24
macd               1.24
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 17:01:21 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.553 | Prob BAJA: 0.447
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 22:00:00+00:00 | Close: 108,407.16 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.050
EV           → UP=0.0435 | DOWN=-0.0491
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-16 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 17:01:24 :: RUN wallet_tracker.update_wallet()
2025-10-16 17:01:25 :: wallet_tracker: OK

==== 2025-10-16 17:24:24 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-16 23:00:00+00:00 | Ahora UTC: 2025-10-16 23:24:24.930664+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-16 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-16 17:24:24.930664-06:00
      - Próximo cierre (CR):     2025-10-16 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 17:24:25 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,039 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 17:24:28 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 17:24:32 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 22:00:00+00:00
Score base (sin calib): 0.652 | Calibrada: 0.553 | Usada(CAL): 0.553
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    1.72
close_lag1         1.54
ret_8              1.46
rsi_14             1.31
cos_dow            1.29
ema_20             1.28
range_over_atr     1.24
macd               1.24
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 17:24:41 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.553 | Prob BAJA: 0.447
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 22:00:00+00:00 | Close: 108,407.16 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0435 | DOWN=-0.0491
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.553
   • Kelly raw: 0.049 | Kelly sugerido (25%): 0.012
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-16 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 17:24:44 :: RUN wallet_tracker.update_wallet()
2025-10-16 17:24:44 :: wallet_tracker: OK
2025-10-16 18:01:03 :: otro proceso en curso; salto este ciclo.

==== 2025-10-16 18:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,240
⏱️ Última vela: 2025-10-17 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 21:00:00-04:00
    = UTC:       2025-10-17 01:00:00+00:00
    = Costa Rica:2025-10-16 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 18:01:09 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,040 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 18:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 18:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-16 23:00:00+00:00
Score base (sin calib): 0.887 | Calibrada: 0.651 | Usada(CAL): 0.651
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    1.99
ret_8              1.89
rsi_14             1.55
close_lag1         1.50
slope_sma20        1.45
cos_hour           1.38
range_over_atr     1.33
macd               1.32
Últimas 200 → min:0.315 max:0.671 mean:0.488
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 18:01:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.651 | Prob BAJA: 0.349
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-16 23:00:00+00:00 | Close: 107,789.01 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2286 | DOWN=-0.2578
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.651
   • Kelly raw: 0.258 | Kelly sugerido (25%): 0.064
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-16 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 18:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 18:01:20 :: wallet_tracker: OK
2025-10-16 19:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-16 19:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,241
⏱️ Última vela: 2025-10-17 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 22:00:00-04:00
    = UTC:       2025-10-17 02:00:00+00:00
    = Costa Rica:2025-10-16 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 19:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,041 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 19:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 19:01:17 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 00:00:00+00:00
Score base (sin calib): 0.617 | Calibrada: 0.538 | Usada(CAL): 0.538
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_lag1         1.61
close_sma20_atr    1.58
cos_hour           1.42
ema_20             1.34
macd               1.33
rsi_14             1.30
cos_dow            1.29
slope_sma20        1.27
Últimas 200 → min:0.315 max:0.671 mean:0.488
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 19:01:19 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.538 | Prob BAJA: 0.462
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 00:00:00+00:00 | Close: 108,095.96 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0147 | DOWN=-0.0166
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-16 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 19:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-16 19:01:22 :: wallet_tracker: OK
2025-10-16 20:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-16 20:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,242
⏱️ Última vela: 2025-10-17 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-16 23:00:00-04:00
    = UTC:       2025-10-17 03:00:00+00:00
    = Costa Rica:2025-10-16 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 20:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,042 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 20:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 20:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 01:00:00+00:00
Score base (sin calib): 0.446 | Calibrada: 0.463 | Usada(CAL): 0.463
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_lag1        1.55
ret_2             1.54
ret_1             1.49
logret_1          1.48
cos_hour          1.37
ema_20            1.35
range_over_atr    1.31
cos_dow           1.29
Últimas 200 → min:0.315 max:0.671 mean:0.489
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 20:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.463 | Prob BAJA: 0.537
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 01:00:00+00:00 | Close: 108,829.74 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1258 | DOWN=0.1419
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.537
   • Kelly raw: 0.126 | Kelly sugerido (25%): 0.031
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-16 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 20:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-16 20:01:18 :: wallet_tracker: OK
2025-10-16 21:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-16 21:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,243
⏱️ Última vela: 2025-10-17 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-16 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 00:00:00-04:00
    = UTC:       2025-10-17 04:00:00+00:00
    = Costa Rica:2025-10-16 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 21:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,043 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 21:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 21:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 02:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.346 | Usada(CAL): 0.346
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1        1.49
close_lag1        1.41
ema_20            1.36
sma_20            1.29
cos_dow           1.29
cos_hour          1.22
range_over_atr    1.21
ema_50            1.20
Últimas 200 → min:0.315 max:0.671 mean:0.489
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 21:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.346 | Prob BAJA: 0.654
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 02:00:00+00:00 | Close: 108,732.11 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3463 | DOWN=0.3905
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.654
   • Kelly raw: 0.346 | Kelly sugerido (25%): 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-17 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 21:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-16 21:01:18 :: wallet_tracker: OK
2025-10-16 22:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-16 22:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,244
⏱️ Última vela: 2025-10-17 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 01:00:00-04:00
    = UTC:       2025-10-17 05:00:00+00:00
    = Costa Rica:2025-10-16 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 22:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,044 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 22:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 22:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 03:00:00+00:00
Score base (sin calib): 0.207 | Calibrada: 0.363 | Usada(CAL): 0.363
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_lag1        1.43
ema_20            1.37
sma_20            1.32
range_over_atr    1.30
cos_dow           1.29
ret_4             1.26
ema_50            1.22
trend_flag        1.15
Últimas 200 → min:0.315 max:0.671 mean:0.488
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 22:01:17 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.363 | Prob BAJA: 0.637
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 03:00:00+00:00 | Close: 108,980.01 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3157 | DOWN=0.3561
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.637
   • Kelly raw: 0.316 | Kelly sugerido (25%): 0.079
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-17 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 22:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-16 22:01:20 :: wallet_tracker: OK
2025-10-16 23:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-16 23:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,245
⏱️ Última vela: 2025-10-17 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 02:00:00-04:00
    = UTC:       2025-10-17 06:00:00+00:00
    = Costa Rica:2025-10-17 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-16 23:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,045 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-16 23:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-16 23:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 04:00:00+00:00
Score base (sin calib): 0.284 | Calibrada: 0.394 | Usada(CAL): 0.394
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_lag1        1.38
ema_20            1.37
range_over_atr    1.36
sma_20            1.33
cos_dow           1.29
sin_hour          1.24
ema_50            1.23
range             1.16
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-16 23:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.394 | Prob BAJA: 0.606
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 04:00:00+00:00 | Close: 109,140.01 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2566 | DOWN=0.2893
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.606
   • Kelly raw: 0.257 | Kelly sugerido (25%): 0.064
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-17 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-16 23:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-16 23:01:19 :: wallet_tracker: OK
2025-10-17 00:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 00:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,246
⏱️ Última vela: 2025-10-17 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 03:00:00-04:00
    = UTC:       2025-10-17 07:00:00+00:00
    = Costa Rica:2025-10-17 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 00:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,046 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 00:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 00:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 05:00:00+00:00
Score base (sin calib): 0.240 | Calibrada: 0.376 | Usada(CAL): 0.376
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ema_20            1.38
sin_hour          1.38
close_lag1        1.35
sma_20            1.35
cos_dow           1.29
ema_50            1.24
range_over_atr    1.16
trend_flag        1.15
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 00:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.376 | Prob BAJA: 0.624
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 05:00:00+00:00 | Close: 108,735.04 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2909 | DOWN=0.3281
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.624
   • Kelly raw: 0.291 | Kelly sugerido (25%): 0.073
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2AM–3AM ET | cierra 2025-10-17 03:00:00 EDT (UTC 07:00, CR 01:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 00:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-17 00:01:19 :: wallet_tracker: OK
2025-10-17 01:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 01:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,247
⏱️ Última vela: 2025-10-17 07:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 03:00 AM – 04:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 04:00:00-04:00
    = UTC:       2025-10-17 08:00:00+00:00
    = Costa Rica:2025-10-17 02:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 01:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,047 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 01:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 01:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 06:00:00+00:00
Score base (sin calib): 0.555 | Calibrada: 0.511 | Usada(CAL): 0.511
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_lag1        1.43
sin_hour          1.42
ema_20            1.40
sma_20            1.38
cos_dow           1.29
ema_50            1.26
range_over_atr    1.20
sma_50            1.17
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 01:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.511 | Prob BAJA: 0.489
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 06:00:00+00:00 | Close: 108,380.89 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0364 | DOWN=0.0411
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3AM–4AM ET | cierra 2025-10-17 04:00:00 EDT (UTC 08:00, CR 02:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 01:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 01:01:18 :: wallet_tracker: OK
2025-10-17 02:01:04 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 02:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,248
⏱️ Última vela: 2025-10-17 08:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 04:00 AM – 05:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 05:00:00-04:00
    = UTC:       2025-10-17 09:00:00+00:00
    = Costa Rica:2025-10-17 03:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 02:01:14 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,048 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 02:01:17 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 02:01:20 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 07:00:00+00:00
Score base (sin calib): 0.731 | Calibrada: 0.587 | Usada(CAL): 0.587
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
logret_1           3.22
ret_1              3.21
ret_2              2.84
ret_3              2.81
ret_4              2.29
close_sma20_atr    2.22
true_range         2.03
ret_24             1.84
Últimas 200 → min:0.315 max:0.671 mean:0.488
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 02:01:28 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.587 | Prob BAJA: 0.413
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 07:00:00+00:00 | Close: 106,776.99 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1072 | DOWN=-0.1209
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.587
   • Kelly raw: 0.121 | Kelly sugerido (25%): 0.030
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4AM–5AM ET | cierra 2025-10-17 05:00:00 EDT (UTC 09:00, CR 03:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 02:01:31 :: RUN wallet_tracker.update_wallet()
2025-10-17 02:01:31 :: wallet_tracker: OK
2025-10-17 03:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 03:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,249
⏱️ Última vela: 2025-10-17 09:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 05:00 AM – 06:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 06:00:00-04:00
    = UTC:       2025-10-17 10:00:00+00:00
    = Costa Rica:2025-10-17 04:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 03:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,049 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 03:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 03:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 08:00:00+00:00
Score base (sin calib): 0.863 | Calibrada: 0.641 | Usada(CAL): 0.641
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_2              4.00
ret_3              3.70
ret_4              3.63
ret_1_lag1         3.21
close_sma20_atr    2.95
ret_6              2.58
ret_1              2.40
logret_1           2.40
Últimas 200 → min:0.315 max:0.671 mean:0.488
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 03:01:15 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.641 | Prob BAJA: 0.359
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 08:00:00+00:00 | Close: 105,584.79 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2103 | DOWN=-0.2372
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.641
   • Kelly raw: 0.237 | Kelly sugerido (25%): 0.059
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5AM–6AM ET | cierra 2025-10-17 06:00:00 EDT (UTC 10:00, CR 04:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 03:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 03:01:18 :: wallet_tracker: OK
2025-10-17 04:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 04:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,250
⏱️ Última vela: 2025-10-17 10:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 06:00 AM – 07:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 07:00:00-04:00
    = UTC:       2025-10-17 11:00:00+00:00
    = Costa Rica:2025-10-17 05:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 04:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,050 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 04:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 04:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 09:00:00+00:00
Score base (sin calib): 0.723 | Calibrada: 0.583 | Usada(CAL): 0.583
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3              3.91
ret_4              3.76
ret_6              3.21
close_sma20_atr    3.03
ret_8              2.62
ret_2              2.54
slope_sma20        2.48
ret_1_lag1         2.40
Últimas 200 → min:0.315 max:0.671 mean:0.488
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 04:01:18 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.583 | Prob BAJA: 0.417
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 09:00:00+00:00 | Close: 105,006.00 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1007 | DOWN=-0.1135
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.583
   • Kelly raw: 0.114 | Kelly sugerido (25%): 0.028
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6AM–7AM ET | cierra 2025-10-17 07:00:00 EDT (UTC 11:00, CR 05:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 04:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-17 04:01:21 :: wallet_tracker: OK
2025-10-17 05:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 05:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,251
⏱️ Última vela: 2025-10-17 11:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 07:00 AM – 08:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 08:00:00-04:00
    = UTC:       2025-10-17 12:00:00+00:00
    = Costa Rica:2025-10-17 06:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 05:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,051 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 05:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 05:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 10:00:00+00:00
Score base (sin calib): 0.738 | Calibrada: 0.590 | Usada(CAL): 0.590
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4              3.84
ret_6              3.67
close_sma20_atr    3.12
ret_8              2.85
ret_3              2.62
ret_24             2.46
slope_sma20        2.28
rsi_14             2.18
Últimas 200 → min:0.315 max:0.671 mean:0.488
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 05:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.590 | Prob BAJA: 0.410
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 10:00:00+00:00 | Close: 104,526.43 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1130 | DOWN=-0.1275
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.590
   • Kelly raw: 0.127 | Kelly sugerido (25%): 0.032
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7AM–8AM ET | cierra 2025-10-17 08:00:00 EDT (UTC 12:00, CR 06:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 05:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 05:01:19 :: wallet_tracker: OK
2025-10-17 06:01:01 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 06:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,252
⏱️ Última vela: 2025-10-17 12:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 08:00 AM – 09:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 09:00:00-04:00
    = UTC:       2025-10-17 13:00:00+00:00
    = Costa Rica:2025-10-17 07:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 06:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,052 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 06:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 06:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 11:00:00+00:00
Score base (sin calib): 0.615 | Calibrada: 0.537 | Usada(CAL): 0.537
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              3.00
ret_8              2.71
close_sma20_atr    2.58
ret_24             2.39
close_lag1         2.19
slope_sma20        2.12
macd               1.91
rsi_14             1.87
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 06:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.537 | Prob BAJA: 0.463
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 11:00:00+00:00 | Close: 104,933.81 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0137 | DOWN=-0.0154
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8AM–9AM ET | cierra 2025-10-17 09:00:00 EDT (UTC 13:00, CR 07:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 06:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-17 06:01:19 :: wallet_tracker: OK
2025-10-17 07:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 07:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,253
⏱️ Última vela: 2025-10-17 13:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 09:00 AM – 10:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 10:00:00-04:00
    = UTC:       2025-10-17 14:00:00+00:00
    = Costa Rica:2025-10-17 08:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 07:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,053 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 07:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 07:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 12:00:00+00:00
Score base (sin calib): 0.473 | Calibrada: 0.475 | Usada(CAL): 0.475
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_8         2.26
close_lag1    2.11
ret_6         2.07
ret_24        2.07
macd          1.88
ret_2         1.80
ema_20        1.71
sma_20        1.67
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 07:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.475 | Prob BAJA: 0.525
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 12:00:00+00:00 | Close: 105,737.17 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1034 | DOWN=0.1166
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9AM–10AM ET | cierra 2025-10-17 10:00:00 EDT (UTC 14:00, CR 08:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 07:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-17 07:01:19 :: wallet_tracker: OK
2025-10-17 08:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 08:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,254
⏱️ Última vela: 2025-10-17 14:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 10:00 AM – 11:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-17 11:00:00-04:00
    = UTC:       2025-10-17 15:00:00+00:00
    = Costa Rica:2025-10-17 09:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 08:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,054 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 08:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 08:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 13:00:00+00:00
Score base (sin calib): 0.574 | Calibrada: 0.519 | Usada(CAL): 0.519
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_8              2.22
ret_24             2.21
close_lag1         1.95
macd               1.87
close_sma20_atr    1.82
ema_20             1.75
sma_20             1.70
ret_1_lag1         1.67
Últimas 200 → min:0.315 max:0.671 mean:0.487
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 08:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.519 | Prob BAJA: 0.481
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 13:00:00+00:00 | Close: 105,374.14 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0206 | DOWN=0.0232
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10AM–11AM ET | cierra 2025-10-17 11:00:00 EDT (UTC 15:00, CR 09:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 08:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 08:01:19 :: wallet_tracker: OK
2025-10-17 09:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 09:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,255
⏱️ Última vela: 2025-10-17 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 12:00:00-04:00
    = UTC:       2025-10-17 16:00:00+00:00
    = Costa Rica:2025-10-17 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 09:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,055 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 09:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 09:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 14:00:00+00:00
Score base (sin calib): 0.442 | Calibrada: 0.462 | Usada(CAL): 0.462
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_lag1     2.01
macd           1.81
ret_8          1.78
ema_20         1.77
ret_24         1.76
sma_20         1.72
macd_signal    1.71
ema_50         1.52
Últimas 200 → min:0.315 max:0.671 mean:0.486
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 09:01:16 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.462 | Prob BAJA: 0.538
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 14:00:00+00:00 | Close: 105,676.01 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1290 | DOWN=0.1454
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.538
   • Kelly raw: 0.129 | Kelly sugerido (25%): 0.032
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-17 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 09:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 09:01:19 :: wallet_tracker: OK
2025-10-17 10:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 10:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,256
⏱️ Última vela: 2025-10-17 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 13:00:00-04:00
    = UTC:       2025-10-17 17:00:00+00:00
    = Costa Rica:2025-10-17 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 10:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,056 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 10:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 10:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 15:00:00+00:00
Score base (sin calib): 0.677 | Calibrada: 0.564 | Usada(CAL): 0.564
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_lag1         1.95
ret_24             1.95
ema_20             1.81
macd               1.80
sma_20             1.75
close_sma20_atr    1.75
macd_signal        1.75
ema_50             1.55
Últimas 200 → min:0.315 max:0.671 mean:0.486
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 10:01:18 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.564 | Prob BAJA: 0.436
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 15:00:00+00:00 | Close: 105,157.62 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0637 | DOWN=-0.0718
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.564
   • Kelly raw: 0.072 | Kelly sugerido (25%): 0.018
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-17 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 10:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-17 10:01:22 :: wallet_tracker: OK
2025-10-17 11:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 11:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,257
⏱️ Última vela: 2025-10-17 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 14:00:00-04:00
    = UTC:       2025-10-17 18:00:00+00:00
    = Costa Rica:2025-10-17 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 11:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,057 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 11:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 11:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 16:00:00+00:00
Score base (sin calib): 0.232 | Calibrada: 0.373 | Usada(CAL): 0.373
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1         3.88
logret_1      3.83
true_range    2.60
ret_6         2.12
ret_2         2.05
close_lag1    2.04
ret_3         2.03
ema_20        1.80
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 11:01:21 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.373 | Prob BAJA: 0.627
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 16:00:00+00:00 | Close: 107,074.55 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2965 | DOWN=0.3344
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.627
   • Kelly raw: 0.297 | Kelly sugerido (25%): 0.074
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-17 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 11:01:28 :: RUN wallet_tracker.update_wallet()
2025-10-17 11:01:29 :: wallet_tracker: OK
2025-10-17 12:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 12:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,258
⏱️ Última vela: 2025-10-17 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 15:00:00-04:00
    = UTC:       2025-10-17 19:00:00+00:00
    = Costa Rica:2025-10-17 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 12:01:10 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,058 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 12:01:17 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 12:01:22 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 17:00:00+00:00
Score base (sin calib): 0.244 | Calibrada: 0.378 | Usada(CAL): 0.378
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1         3.88
ret_2              1.83
ema_20             1.80
sma_20             1.77
close_lag1         1.69
macd_signal        1.67
ema_50             1.57
sma_ratio_20_50    1.52
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 12:01:27 :: RUN src.decision.decide_and_recommend  ====
C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py:128: FutureWarning: Calling float on a single element Series is deprecated and will raise a TypeError in the future. Use float(ser.iloc[0]) instead
  close = float(last.get("close", float("nan")))
Prob SUBA (CAL): 0.378 | Prob BAJA: 0.622
────────────────────────────────────────────────────────
⏱️ Vela: 2025-10-17 17:00:00+00:00 | Close: 106,405.01 USDT
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2874 | DOWN=0.3241
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.622
   • Kelly raw: 0.287 | Kelly sugerido (25%): 0.072
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-17 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 12:01:32 :: RUN wallet_tracker.update_wallet()
2025-10-17 12:01:33 :: wallet_tracker: OK

==== 2025-10-17 12:54:58 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 18:00:00+00:00 | Ahora UTC: 2025-10-17 18:54:59.646970+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 19:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 12:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 12:54:59.646970-06:00
      - Próximo cierre (CR):     2025-10-17 13:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 12:54:59 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,058 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 12:55:04 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 12:55:09 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 17:00:00+00:00
Score base (sin calib): 0.244 | Calibrada: 0.378 | Usada(CAL): 0.378
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1         3.88
ret_2              1.83
ema_20             1.80
sma_20             1.77
close_lag1         1.69
macd_signal        1.67
ema_50             1.57
sma_ratio_20_50    1.52
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 12:55:12 :: RUN src.decision.decide_and_recommend  ====
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 233, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 189, in main
    df_all = pd.read_csv(LOG_CSV, parse_dates=["datetime","ts_settle"], dayfirst=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1026, in read_csv
    return _read(filepath_or_buffer, kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 620, in _read
    parser = TextFileReader(filepath_or_buffer, **kwds)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1620, in __init__
    self._engine = self._make_engine(f, self.engine)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\io\parsers\readers.py", line 1898, in _make_engine
    return mapping[engine](f, **self.options)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\io\parsers\c_parser_wrapper.py", line 161, in __init__
    self._validate_parse_dates_presence(self.names)  # type: ignore[has-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\io\parsers\base_parser.py", line 243, in _validate_parse_dates_presence
    raise ValueError(
ValueError: Missing column provided to 'parse_dates': 'ts_settle'
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----

==== 2025-10-17 12:58:20 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 18:00:00+00:00 | Ahora UTC: 2025-10-17 18:58:21.000231+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 19:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 12:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 12:58:21.000231-06:00
      - Próximo cierre (CR):     2025-10-17 13:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 12:58:21 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,058 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 12:58:25 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 12:58:29 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 17:00:00+00:00
Score base (sin calib): 0.244 | Calibrada: 0.378 | Usada(CAL): 0.378
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1         3.88
ret_2              1.83
ema_20             1.80
sma_20             1.77
close_lag1         1.69
macd_signal        1.67
ema_50             1.57
sma_ratio_20_50    1.52
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 12:58:32 :: RUN src.decision.decide_and_recommend  ====
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 221, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 187, in main
    df_all.loc[mask_same, :] = pd.Series(row)[df_all.columns]
    ~~~~~~~~~~^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\core\indexing.py", line 912, in __setitem__
    iloc._setitem_with_indexer(indexer, value, self.name)
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\core\indexing.py", line 1943, in _setitem_with_indexer
    self._setitem_with_indexer_split_path(indexer, value, name)
  File "C:\Users\leanv\Crypto_predictivo\.venv\Lib\site-packages\pandas\core\indexing.py", line 2028, in _setitem_with_indexer_split_path
    raise ValueError(
ValueError: Must have equal len keys and value when setting with an iterable
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----
2025-10-17 13:13:28 :: otro proceso en curso; salto este ciclo.
2025-10-17 13:14:43 :: otro proceso en curso; salto este ciclo.
2025-10-17 13:35:49 :: otro proceso en curso; salto este ciclo.
2025-10-17 14:01:02 :: otro proceso en curso; salto este ciclo.

==== 2025-10-17 14:31:58 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,260
⏱️ Última vela: 2025-10-17 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 17:00:00-04:00
    = UTC:       2025-10-17 21:00:00+00:00
    = Costa Rica:2025-10-17 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 14:32:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,060 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 14:32:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 14:32:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 19:00:00+00:00
Score base (sin calib): 0.344 | Calibrada: 0.419 | Usada(CAL): 0.419
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_z20            3.73
ema_20             1.81
sma_20             1.80
close_lag1         1.79
ema_50             1.60
macd_signal        1.53
sma_ratio_20_50    1.51
sma_50             1.46
Últimas 200 → min:0.315 max:0.669 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 14:32:25 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.419 | Prob BAJA: 0.581
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 19:00:00+00:00 | Close: 106,454.72 USDT
🪙 Apuesta:            2025-10-17 20:00:00+00:00 → liquida 2025-10-17 21:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2090 | DOWN=0.2357
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.581 | Kelly raw: 0.209 | Kelly 25%: 0.052
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-17 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 14:32:27 :: RUN wallet_tracker.update_wallet()
2025-10-17 14:32:27 :: wallet_tracker: OK

==== 2025-10-17 15:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,261
⏱️ Última vela: 2025-10-17 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 18:00:00-04:00
    = UTC:       2025-10-17 22:00:00+00:00
    = Costa Rica:2025-10-17 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 15:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,061 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 15:01:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 15:01:17 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 20:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.326 | Usada(CAL): 0.326
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.80
ema_20             1.80
close_lag1         1.79
vol_z20            1.68
ema_50             1.61
body_pct           1.52
sma_ratio_20_50    1.49
sma_50             1.47
Últimas 200 → min:0.315 max:0.669 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 15:01:20 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.326 | Prob BAJA: 0.674
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 20:00:00+00:00 | Close: 107,059.11 USDT
🪙 Apuesta:            2025-10-17 21:00:00+00:00 → liquida 2025-10-17 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3843 | DOWN=0.4334
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.674 | Kelly raw: 0.384 | Kelly 25%: 0.096
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-17 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 15:01:22 :: RUN wallet_tracker.update_wallet()
2025-10-17 15:01:23 :: wallet_tracker: OK

==== 2025-10-17 15:06:03 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 21:00:00+00:00 | Ahora UTC: 2025-10-17 21:06:04.588482+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 15:06:04.588482-06:00
      - Próximo cierre (CR):     2025-10-17 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 15:06:04 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,061 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 15:06:08 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 15:06:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 20:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.326 | Usada(CAL): 0.326
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.80
ema_20             1.80
close_lag1         1.79
vol_z20            1.68
ema_50             1.61
body_pct           1.52
sma_ratio_20_50    1.49
sma_50             1.47
Últimas 200 → min:0.315 max:0.669 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 15:06:13 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.326 | Prob BAJA: 0.674
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 20:00:00+00:00 | Close: 107,059.11 USDT
🪙 Apuesta:            2025-10-17 21:00:00+00:00 → liquida 2025-10-17 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3843 | DOWN=0.4334
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.674 | Kelly raw: 0.384 | Kelly 25%: 0.096
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-17 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 15:06:16 :: RUN wallet_tracker.update_wallet()
2025-10-17 15:06:16 :: wallet_tracker: ERROR → ValueError("Missing column provided to 'parse_dates': 'bet_close_utc, bet_open_utc, candle_used_utc'")

==== 2025-10-17 15:06:53 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 21:00:00+00:00 | Ahora UTC: 2025-10-17 21:06:54.167594+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 15:06:54.167594-06:00
      - Próximo cierre (CR):     2025-10-17 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 15:06:54 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,061 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 15:06:57 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 15:07:01 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 20:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.326 | Usada(CAL): 0.326
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.80
ema_20             1.80
close_lag1         1.79
vol_z20            1.68
ema_50             1.61
body_pct           1.52
sma_ratio_20_50    1.49
sma_50             1.47
Últimas 200 → min:0.315 max:0.669 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 15:07:03 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.326 | Prob BAJA: 0.674
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 20:00:00+00:00 | Close: 107,059.11 USDT
🪙 Apuesta:            2025-10-17 21:00:00+00:00 → liquida 2025-10-17 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3843 | DOWN=0.4334
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.674 | Kelly raw: 0.384 | Kelly 25%: 0.096
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-17 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 15:07:06 :: RUN wallet_tracker.update_wallet()
2025-10-17 15:07:06 :: wallet_tracker: ERROR → ValueError("Missing column provided to 'parse_dates': 'bet_close_utc, bet_open_utc, candle_used_utc'")

==== 2025-10-17 15:09:06 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 21:00:00+00:00 | Ahora UTC: 2025-10-17 21:09:06.756531+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 15:09:06.756531-06:00
      - Próximo cierre (CR):     2025-10-17 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 15:09:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,061 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 15:09:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 15:09:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 20:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.326 | Usada(CAL): 0.326
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.80
ema_20             1.80
close_lag1         1.79
vol_z20            1.68
ema_50             1.61
body_pct           1.52
sma_ratio_20_50    1.49
sma_50             1.47
Últimas 200 → min:0.315 max:0.669 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 15:09:15 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.326 | Prob BAJA: 0.674
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 20:00:00+00:00 | Close: 107,059.11 USDT
🪙 Apuesta:            2025-10-17 21:00:00+00:00 → liquida 2025-10-17 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3843 | DOWN=0.4334
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.674 | Kelly raw: 0.384 | Kelly 25%: 0.096
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-17 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 15:09:17 :: RUN wallet_tracker.update_wallet()
2025-10-17 15:09:17 :: wallet_tracker: ERROR → ValueError("Faltan columnas requeridas en decisions_log.csv: ['bet_open_utc']. Columnas disponibles: datetime, ts_settle, price_entry, close, p_up, p_down, p_up_base, src, thr_up, thr_down, min_ev, min_kelly, be_up, be_down, EV_up, EV_down, decision, kelly_raw, kelly_25pct, model")

==== 2025-10-17 15:09:56 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 21:00:00+00:00 | Ahora UTC: 2025-10-17 21:09:57.071546+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 15:09:57.071546-06:00
      - Próximo cierre (CR):     2025-10-17 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 15:09:57 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,061 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 15:10:00 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 15:10:03 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 20:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.326 | Usada(CAL): 0.326
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.80
ema_20             1.80
close_lag1         1.79
vol_z20            1.68
ema_50             1.61
body_pct           1.52
sma_ratio_20_50    1.49
sma_50             1.47
Últimas 200 → min:0.315 max:0.669 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 15:10:06 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.326 | Prob BAJA: 0.674
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 20:00:00+00:00 | Close: 107,059.11 USDT
🪙 Apuesta:            2025-10-17 21:00:00+00:00 → liquida 2025-10-17 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3843 | DOWN=0.4334
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.674 | Kelly raw: 0.384 | Kelly 25%: 0.096
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-17 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 15:10:08 :: RUN wallet_tracker.update_wallet()
2025-10-17 15:10:08 :: wallet_tracker: ERROR → ValueError("Faltan columnas requeridas en decisions_log.csv: ['bet_open_utc']. Columnas disponibles: datetime, ts_settle, price_entry, close, p_up, p_down, p_up_base, src, thr_up, thr_down, min_ev, min_kelly, be_up, be_down, EV_up, EV_down, decision, kelly_raw, kelly_25pct, model")

==== 2025-10-17 15:11:45 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 21:00:00+00:00 | Ahora UTC: 2025-10-17 21:11:46.149130+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 15:11:46.149130-06:00
      - Próximo cierre (CR):     2025-10-17 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 15:11:46 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,061 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 15:11:49 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 15:11:52 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 20:00:00+00:00
Score base (sin calib): 0.115 | Calibrada: 0.326 | Usada(CAL): 0.326
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.80
ema_20             1.80
close_lag1         1.79
vol_z20            1.68
ema_50             1.61
body_pct           1.52
sma_ratio_20_50    1.49
sma_50             1.47
Últimas 200 → min:0.315 max:0.669 mean:0.485
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 15:11:54 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.326 | Prob BAJA: 0.674
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 20:00:00+00:00 | Close: 107,059.11 USDT
🪙 Apuesta:            2025-10-17 21:00:00+00:00 → liquida 2025-10-17 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3843 | DOWN=0.4334
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.674 | Kelly raw: 0.384 | Kelly 25%: 0.096
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-17 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 15:11:56 :: RUN wallet_tracker.update_wallet()
2025-10-17 15:11:57 :: wallet_tracker: OK
2025-10-17 16:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-17 16:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,262
⏱️ Última vela: 2025-10-17 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 19:00:00-04:00
    = UTC:       2025-10-17 23:00:00+00:00
    = Costa Rica:2025-10-17 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 16:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,062 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 16:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 16:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 21:00:00+00:00
Score base (sin calib): 0.250 | Calibrada: 0.380 | Usada(CAL): 0.380
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.82
ema_20             1.79
close_lag1         1.67
ema_50             1.62
ret_6              1.56
macd_hist          1.51
sma_50             1.49
sma_ratio_20_50    1.49
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 16:01:19 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.380 | Prob BAJA: 0.620
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 21:00:00+00:00 | Close: 107,056.02 USDT
🪙 Apuesta:            2025-10-17 22:00:00+00:00 → liquida 2025-10-17 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2827 | DOWN=0.3188
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.620 | Kelly raw: 0.283 | Kelly 25%: 0.071
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-17 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 16:01:22 :: RUN wallet_tracker.update_wallet()
2025-10-17 16:01:22 :: wallet_tracker: OK

==== 2025-10-17 16:13:40 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 22:00:00+00:00 | Ahora UTC: 2025-10-17 22:13:41.105422+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 16:13:41.105422-06:00
      - Próximo cierre (CR):     2025-10-17 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 16:13:41 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,062 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 16:13:44 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 16:13:47 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 21:00:00+00:00
Score base (sin calib): 0.250 | Calibrada: 0.380 | Usada(CAL): 0.380
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.82
ema_20             1.79
close_lag1         1.67
ema_50             1.62
ret_6              1.56
macd_hist          1.51
sma_50             1.49
sma_ratio_20_50    1.49
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 16:13:49 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.380 | Prob BAJA: 0.620
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 21:00:00+00:00 | Close: 107,056.02 USDT
🪙 Apuesta:            2025-10-17 22:00:00+00:00 → liquida 2025-10-17 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2827 | DOWN=0.3188
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.620 | Kelly raw: 0.283 | Kelly 25%: 0.071
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-17 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 16:13:51 :: RUN wallet_tracker.update_wallet()
2025-10-17 16:13:51 :: wallet_tracker: OK

==== 2025-10-17 16:14:21 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 22:00:00+00:00 | Ahora UTC: 2025-10-17 22:14:22.502185+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 16:14:22.502185-06:00
      - Próximo cierre (CR):     2025-10-17 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 16:14:22 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,062 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 16:14:25 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 16:14:28 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 21:00:00+00:00
Score base (sin calib): 0.250 | Calibrada: 0.380 | Usada(CAL): 0.380
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.82
ema_20             1.79
close_lag1         1.67
ema_50             1.62
ret_6              1.56
macd_hist          1.51
sma_50             1.49
sma_ratio_20_50    1.49
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 16:14:30 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.380 | Prob BAJA: 0.620
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 21:00:00+00:00 | Close: 107,056.02 USDT
🪙 Apuesta:            2025-10-17 22:00:00+00:00 → liquida 2025-10-17 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2827 | DOWN=0.3188
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.620 | Kelly raw: 0.283 | Kelly 25%: 0.071
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-17 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 16:14:32 :: RUN wallet_tracker.update_wallet()
2025-10-17 16:14:32 :: wallet_tracker: OK

==== 2025-10-17 16:16:26 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 22:00:00+00:00 | Ahora UTC: 2025-10-17 22:16:27.426196+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 16:16:27.426196-06:00
      - Próximo cierre (CR):     2025-10-17 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 16:16:27 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,062 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 16:16:30 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 16:16:33 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 21:00:00+00:00
Score base (sin calib): 0.250 | Calibrada: 0.380 | Usada(CAL): 0.380
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.82
ema_20             1.79
close_lag1         1.67
ema_50             1.62
ret_6              1.56
macd_hist          1.51
sma_50             1.49
sma_ratio_20_50    1.49
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 16:16:35 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.380 | Prob BAJA: 0.620
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 21:00:00+00:00 | Close: 107,056.02 USDT
🪙 Apuesta:            2025-10-17 22:00:00+00:00 → liquida 2025-10-17 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2827 | DOWN=0.3188
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.620 | Kelly raw: 0.283 | Kelly 25%: 0.071
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-17 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 16:16:37 :: RUN wallet_tracker.update_wallet()
2025-10-17 16:16:38 :: wallet_tracker: OK

==== 2025-10-17 16:23:50 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-17 22:00:00+00:00 | Ahora UTC: 2025-10-17 22:23:51.230840+00:00
  • Siguiente cierre esperado (UTC): 2025-10-17 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 16:23:51.230840-06:00
      - Próximo cierre (CR):     2025-10-17 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 16:23:51 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,062 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 16:23:54 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 16:23:57 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 21:00:00+00:00
Score base (sin calib): 0.250 | Calibrada: 0.380 | Usada(CAL): 0.380
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.82
ema_20             1.79
close_lag1         1.67
ema_50             1.62
ret_6              1.56
macd_hist          1.51
sma_50             1.49
sma_ratio_20_50    1.49
Últimas 200 → min:0.315 max:0.669 mean:0.484
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 16:23:59 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.380 | Prob BAJA: 0.620
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 21:00:00+00:00 | Close: 107,056.02 USDT
🪙 Apuesta:            2025-10-17 22:00:00+00:00 → liquida 2025-10-17 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2827 | DOWN=0.3188
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.620 | Kelly raw: 0.283 | Kelly 25%: 0.071
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-17 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 16:24:01 :: RUN wallet_tracker.update_wallet()
2025-10-17 16:24:01 :: wallet_tracker: OK

==== 2025-10-17 17:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,263
⏱️ Última vela: 2025-10-17 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 20:00:00-04:00
    = UTC:       2025-10-18 00:00:00+00:00
    = Costa Rica:2025-10-17 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 17:01:09 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,063 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 17:01:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 17:01:19 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 22:00:00+00:00
Score base (sin calib): 0.300 | Calibrada: 0.401 | Usada(CAL): 0.401
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.83
ema_20             1.78
close_lag1         1.67
macd_hist          1.67
ema_50             1.63
sma_50             1.50
sma_ratio_20_50    1.47
range_over_atr     1.30
Últimas 200 → min:0.315 max:0.669 mean:0.483
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 17:01:23 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.401 | Prob BAJA: 0.599
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 22:00:00+00:00 | Close: 107,321.74 USDT
🪙 Apuesta:            2025-10-17 23:00:00+00:00 → liquida 2025-10-18 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2439 | DOWN=0.2750
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.599 | Kelly raw: 0.244 | Kelly 25%: 0.061
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-17 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 17:01:27 :: RUN wallet_tracker.update_wallet()
2025-10-17 17:01:27 :: wallet_tracker: OK

==== 2025-10-17 18:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,264
⏱️ Última vela: 2025-10-18 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 21:00:00-04:00
    = UTC:       2025-10-18 01:00:00+00:00
    = Costa Rica:2025-10-17 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 18:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,064 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 18:01:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 18:01:19 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 23:00:00+00:00
Score base (sin calib): 0.190 | Calibrada: 0.356 | Usada(CAL): 0.356
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.84
ema_20             1.78
ema_50             1.64
close_lag1         1.62
macd_hist          1.59
sma_50             1.52
sma_ratio_20_50    1.48
cos_hour           1.38
Últimas 200 → min:0.315 max:0.669 mean:0.483
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 18:01:23 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.356 | Prob BAJA: 0.644
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 23:00:00+00:00 | Close: 106,965.12 USDT
🪙 Apuesta:            2025-10-18 00:00:00+00:00 → liquida 2025-10-18 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3286 | DOWN=0.3706
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.644 | Kelly raw: 0.329 | Kelly 25%: 0.082
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-17 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 18:01:27 :: RUN wallet_tracker.update_wallet()
2025-10-17 18:01:27 :: wallet_tracker: OK

==== 2025-10-17 18:11:35 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 00:00:00+00:00 | Ahora UTC: 2025-10-18 00:11:36.514648+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 18:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 18:11:36.514648-06:00
      - Próximo cierre (CR):     2025-10-17 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 18:11:36 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,064 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 18:11:40 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 18:11:43 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 23:00:00+00:00
Score base (sin calib): 0.190 | Calibrada: 0.356 | Usada(CAL): 0.356
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.84
ema_20             1.78
ema_50             1.64
close_lag1         1.62
macd_hist          1.59
sma_50             1.52
sma_ratio_20_50    1.48
cos_hour           1.38
Últimas 200 → min:0.315 max:0.669 mean:0.483
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 18:11:45 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.356 | Prob BAJA: 0.644
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 23:00:00+00:00 | Close: 106,965.12 USDT
🪙 Apuesta:            2025-10-18 00:00:00+00:00 → liquida 2025-10-18 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3286 | DOWN=0.3706
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.644 | Kelly raw: 0.329 | Kelly 25%: 0.082
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-17 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 18:11:48 :: RUN wallet_tracker.update_wallet()
2025-10-17 18:11:48 :: wallet_tracker: ERROR → ValueError("Missing column provided to 'parse_dates': 'ts_entry'")

==== 2025-10-17 18:13:12 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 00:00:00+00:00 | Ahora UTC: 2025-10-18 00:13:13.503587+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 18:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 18:13:13.503587-06:00
      - Próximo cierre (CR):     2025-10-17 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 18:13:13 :: RUN src.feature.make_features_1h  ====

==== 2025-10-17 18:13:21 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 00:00:00+00:00 | Ahora UTC: 2025-10-18 00:13:21.971827+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 18:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 18:13:21.971827-06:00
      - Próximo cierre (CR):     2025-10-17 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 18:13:22 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,064 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 18:13:25 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 18:13:28 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 23:00:00+00:00
Score base (sin calib): 0.190 | Calibrada: 0.356 | Usada(CAL): 0.356
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.84
ema_20             1.78
ema_50             1.64
close_lag1         1.62
macd_hist          1.59
sma_50             1.52
sma_ratio_20_50    1.48
cos_hour           1.38
Últimas 200 → min:0.315 max:0.669 mean:0.483
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 18:13:31 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.356 | Prob BAJA: 0.644
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 23:00:00+00:00 | Close: 106,965.12 USDT
🪙 Apuesta:            2025-10-18 00:00:00+00:00 → liquida 2025-10-18 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3286 | DOWN=0.3706
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.644 | Kelly raw: 0.329 | Kelly 25%: 0.082
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-17 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 18:13:33 :: RUN wallet_tracker.update_wallet()
2025-10-17 18:13:33 :: wallet_tracker: ERROR → ValueError("❌ Faltan columnas en decisions_log.csv: se requieren {'ts_entry', 'signal', 'ts_settle', 'price_entry'}, pero hay {'min_ev', 'be_up', 'thr_up', 'decision', 'model', 'EV_down', 'kelly_raw', 'p_down', 'p_up_base', 'kelly_25pct', 'src', 'p_up', 'EV_up', 'be_down', 'thr_down', 'ts_settle', 'price_entry', 'datetime', 'min_kelly', 'close'}")

==== 2025-10-17 18:17:39 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 00:00:00+00:00 | Ahora UTC: 2025-10-18 00:17:40.453501+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 18:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 18:17:40.453501-06:00
      - Próximo cierre (CR):     2025-10-17 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 18:17:40 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,064 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 18:17:44 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 18:17:48 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 23:00:00+00:00
Score base (sin calib): 0.190 | Calibrada: 0.356 | Usada(CAL): 0.356
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.84
ema_20             1.78
ema_50             1.64
close_lag1         1.62
macd_hist          1.59
sma_50             1.52
sma_ratio_20_50    1.48
cos_hour           1.38
Últimas 200 → min:0.315 max:0.669 mean:0.483
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 18:17:51 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.356 | Prob BAJA: 0.644
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 23:00:00+00:00 | Close: 106,965.12 USDT
🪙 Apuesta:            2025-10-18 00:00:00+00:00 → liquida 2025-10-18 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3286 | DOWN=0.3706
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.644 | Kelly raw: 0.329 | Kelly 25%: 0.082
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-17 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 18:17:53 :: RUN wallet_tracker.update_wallet()
2025-10-17 18:17:53 :: wallet_tracker: OK

==== 2025-10-17 18:18:27 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 00:00:00+00:00 | Ahora UTC: 2025-10-18 00:18:28.656173+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 01:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 18:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 18:18:28.656173-06:00
      - Próximo cierre (CR):     2025-10-17 19:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 18:18:28 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,064 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 18:18:33 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 18:18:36 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-17 23:00:00+00:00
Score base (sin calib): 0.190 | Calibrada: 0.356 | Usada(CAL): 0.356
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.84
ema_20             1.78
ema_50             1.64
close_lag1         1.62
macd_hist          1.59
sma_50             1.52
sma_ratio_20_50    1.48
cos_hour           1.38
Últimas 200 → min:0.315 max:0.669 mean:0.483
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 18:18:38 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.356 | Prob BAJA: 0.644
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-17 23:00:00+00:00 | Close: 106,965.12 USDT
🪙 Apuesta:            2025-10-18 00:00:00+00:00 → liquida 2025-10-18 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3286 | DOWN=0.3706
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.644 | Kelly raw: 0.329 | Kelly 25%: 0.082
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-17 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 18:18:41 :: RUN wallet_tracker.update_wallet()
2025-10-17 18:18:41 :: wallet_tracker: OK

==== 2025-10-17 19:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,265
⏱️ Última vela: 2025-10-18 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 22:00:00-04:00
    = UTC:       2025-10-18 02:00:00+00:00
    = Costa Rica:2025-10-17 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 19:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,065 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 19:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 19:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 00:00:00+00:00
Score base (sin calib): 0.473 | Calibrada: 0.475 | Usada(CAL): 0.475
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.86
ema_20             1.78
close_lag1         1.68
ema_50             1.65
sma_50             1.53
sma_ratio_20_50    1.51
cos_hour           1.42
sin_dow            1.39
Últimas 200 → min:0.315 max:0.669 mean:0.482
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 19:01:18 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.475 | Prob BAJA: 0.525
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 00:00:00+00:00 | Close: 106,440.21 USDT
🪙 Apuesta:            2025-10-18 01:00:00+00:00 → liquida 2025-10-18 02:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1038 | DOWN=0.1170
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-17 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 19:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-17 19:01:21 :: wallet_tracker: OK

==== 2025-10-17 19:21:42 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 01:00:00+00:00 | Ahora UTC: 2025-10-18 01:21:43.578664+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 02:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 19:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 19:21:43.578664-06:00
      - Próximo cierre (CR):     2025-10-17 20:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 19:21:43 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,065 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 19:21:48 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 19:21:51 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 00:00:00+00:00
Score base (sin calib): 0.473 | Calibrada: 0.475 | Usada(CAL): 0.475
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.86
ema_20             1.78
close_lag1         1.68
ema_50             1.65
sma_50             1.53
sma_ratio_20_50    1.51
cos_hour           1.42
sin_dow            1.39
Últimas 200 → min:0.315 max:0.669 mean:0.482
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 19:21:53 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.475 | Prob BAJA: 0.525
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 00:00:00+00:00 | Close: 106,440.21 USDT
🪙 Apuesta:            2025-10-18 01:00:00+00:00 → liquida 2025-10-18 02:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1038 | DOWN=0.1170
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-17 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 19:21:56 :: RUN wallet_tracker.update_wallet()
2025-10-17 19:21:56 :: wallet_tracker: OK

==== 2025-10-17 20:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,266
⏱️ Última vela: 2025-10-18 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-17 23:00:00-04:00
    = UTC:       2025-10-18 03:00:00+00:00
    = Costa Rica:2025-10-17 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 20:01:05 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,066 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 20:01:08 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 20:01:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 01:00:00+00:00
Score base (sin calib): 0.304 | Calibrada: 0.402 | Usada(CAL): 0.402
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.87
ema_20             1.78
close_lag1         1.77
ema_50             1.66
sma_50             1.55
sma_ratio_20_50    1.52
sin_dow            1.39
cos_hour           1.37
Últimas 200 → min:0.315 max:0.669 mean:0.482
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 20:01:13 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.402 | Prob BAJA: 0.598
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 01:00:00+00:00 | Close: 106,860.84 USDT
🪙 Apuesta:            2025-10-18 02:00:00+00:00 → liquida 2025-10-18 03:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2409 | DOWN=0.2717
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.598 | Kelly raw: 0.241 | Kelly 25%: 0.060
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-17 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 20:01:15 :: RUN wallet_tracker.update_wallet()
2025-10-17 20:01:15 :: wallet_tracker: OK

==== 2025-10-17 20:07:03 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 02:00:00+00:00 | Ahora UTC: 2025-10-18 02:07:04.060174+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 03:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-17 20:00:00-06:00
      - Ahora (Costa Rica):      2025-10-17 20:07:04.060174-06:00
      - Próximo cierre (CR):     2025-10-17 21:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 20:07:04 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,066 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 20:07:06 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 20:07:09 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 01:00:00+00:00
Score base (sin calib): 0.304 | Calibrada: 0.402 | Usada(CAL): 0.402
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.87
ema_20             1.78
close_lag1         1.77
ema_50             1.66
sma_50             1.55
sma_ratio_20_50    1.52
sin_dow            1.39
cos_hour           1.37
Últimas 200 → min:0.315 max:0.669 mean:0.482
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 20:07:11 :: RUN src.decision.decide_and_recommend  ====
👉 RECOMENDACIÓN: BET_DOWN | Prob: 0.598 | Kelly: 0.060
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 20:07:12 :: RUN wallet_tracker.update_wallet()
2025-10-17 20:07:13 :: wallet_tracker: OK
2025-10-17 21:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-17 21:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,267
⏱️ Última vela: 2025-10-18 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-17 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-18 00:00:00-04:00
    = UTC:       2025-10-18 04:00:00+00:00
    = Costa Rica:2025-10-17 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 21:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,067 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 21:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 21:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 02:00:00+00:00
Score base (sin calib): 0.213 | Calibrada: 0.365 | Usada(CAL): 0.365
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.88
ema_20             1.77
close_lag1         1.69
ema_50             1.66
sma_50             1.56
sma_ratio_20_50    1.51
sin_dow            1.39
range_over_atr     1.31
Últimas 200 → min:0.315 max:0.669 mean:0.481
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 21:01:15 :: RUN src.decision.decide_and_recommend  ====
👉 RECOMENDACIÓN: BET_DOWN | Prob: 0.635 | Kelly: 0.078
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 21:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 21:01:18 :: wallet_tracker: OK
2025-10-17 22:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-17 22:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,268
⏱️ Última vela: 2025-10-18 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-18 01:00:00-04:00
    = UTC:       2025-10-18 05:00:00+00:00
    = Costa Rica:2025-10-17 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 22:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,068 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 22:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 22:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 03:00:00+00:00
Score base (sin calib): 0.301 | Calibrada: 0.401 | Usada(CAL): 0.401
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.88
ema_20             1.77
ema_50             1.67
close_lag1         1.64
sma_50             1.58
sma_ratio_20_50    1.44
sin_dow            1.39
range_over_atr     1.28
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 22:01:15 :: RUN src.decision.decide_and_recommend  ====
👉 RECOMENDACIÓN: BET_DOWN | Prob: 0.599 | Kelly: 0.061
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 22:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 22:01:18 :: wallet_tracker: OK
2025-10-17 23:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-17 23:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,269
⏱️ Última vela: 2025-10-18 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-18 02:00:00-04:00
    = UTC:       2025-10-18 06:00:00+00:00
    = Costa Rica:2025-10-18 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-17 23:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,069 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-17 23:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-17 23:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 04:00:00+00:00
Score base (sin calib): 0.588 | Calibrada: 0.525 | Usada(CAL): 0.525
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20             1.86
ema_20             1.77
close_lag1         1.73
ema_50             1.68
sma_50             1.59
sin_dow            1.39
sma_ratio_20_50    1.33
sin_hour           1.24
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-17 23:01:15 :: RUN src.decision.decide_and_recommend  ====
👉 RECOMENDACIÓN: NO_BET | Prob: 0.525 | Kelly: 0.000
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-17 23:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-17 23:01:18 :: wallet_tracker: OK
2025-10-18 00:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-18 00:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,270
⏱️ Última vela: 2025-10-18 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-18 03:00:00-04:00
    = UTC:       2025-10-18 07:00:00+00:00
    = Costa Rica:2025-10-18 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 00:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,070 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 00:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 00:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 05:00:00+00:00
Score base (sin calib): 0.601 | Calibrada: 0.531 | Usada(CAL): 0.531
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.84
ema_20            1.77
close_lag1        1.69
ema_50            1.69
sma_50            1.61
sin_dow           1.39
sin_hour          1.38
range_over_atr    1.28
Últimas 200 → min:0.315 max:0.669 mean:0.481
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 00:01:16 :: RUN src.decision.decide_and_recommend  ====
👉 RECOMENDACIÓN: NO_BET | Prob: 0.531 | Kelly: 0.000
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 00:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-18 00:01:19 :: wallet_tracker: OK
2025-10-18 01:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-18 01:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,271
⏱️ Última vela: 2025-10-18 07:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 03:00 AM – 04:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-18 04:00:00-04:00
    = UTC:       2025-10-18 08:00:00+00:00
    = Costa Rica:2025-10-18 02:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 01:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,071 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 01:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 01:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 06:00:00+00:00
Score base (sin calib): 0.248 | Calibrada: 0.379 | Usada(CAL): 0.379
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.82
ema_20            1.77
close_lag1        1.74
ema_50            1.69
sma_50            1.62
sin_hour          1.42
sin_dow           1.39
range_over_atr    1.19
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 01:01:16 :: RUN src.decision.decide_and_recommend  ====
👉 RECOMENDACIÓN: BET_DOWN | Prob: 0.621 | Kelly: 0.071
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 01:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-18 01:01:18 :: wallet_tracker: OK
2025-10-18 02:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-18 02:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,272
⏱️ Última vela: 2025-10-18 08:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 04:00 AM – 05:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-18 05:00:00-04:00
    = UTC:       2025-10-18 09:00:00+00:00
    = Costa Rica:2025-10-18 03:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 02:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,072 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 02:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 02:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 07:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.80
ema_20            1.76
ema_50            1.70
close_lag1        1.69
sma_50            1.64
sin_dow           1.39
sin_hour          1.37
range_over_atr    1.22
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 02:01:18 :: RUN src.decision.decide_and_recommend  ====
👉 RECOMENDACIÓN: BET_DOWN | Prob: 0.653 | Kelly: 0.087
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 02:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-18 02:01:21 :: wallet_tracker: OK

==== 2025-10-18 02:19:39 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 08:00:00+00:00 | Ahora UTC: 2025-10-18 08:19:40.167693+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 09:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-18 02:00:00-06:00
      - Ahora (Costa Rica):      2025-10-18 02:19:40.167693-06:00
      - Próximo cierre (CR):     2025-10-18 03:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 02:19:40 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,072 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 02:19:43 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 02:19:45 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 07:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.80
ema_20            1.76
ema_50            1.70
close_lag1        1.69
sma_50            1.64
sin_dow           1.39
sin_hour          1.37
range_over_atr    1.22
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 02:19:47 :: RUN src.decision.decide_and_recommend  ====
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 119, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 46, in main
    feats["datetime"] = feats["datetime"].dt.tz_localize("UTC")
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\accessor.py", line 112, in f
    return self._delegate_method(name, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\accessors.py", line 132, in _delegate_method
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\indexes\datetimes.py", line 293, in tz_localize
    arr = self._data.tz_localize(tz, ambiguous, nonexistent)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\arrays\_mixins.py", line 81, in method
    return meth(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\pandas\core\arrays\datetimes.py", line 1083, in tz_localize
    raise TypeError("Already tz-aware, use tz_convert to convert.")
TypeError: Already tz-aware, use tz_convert to convert.
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----

==== 2025-10-18 02:22:06 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 08:00:00+00:00 | Ahora UTC: 2025-10-18 08:22:06.754712+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 09:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-18 02:00:00-06:00
      - Ahora (Costa Rica):      2025-10-18 02:22:06.754712-06:00
      - Próximo cierre (CR):     2025-10-18 03:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 02:22:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,072 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 02:22:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 02:22:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 07:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.80
ema_20            1.76
ema_50            1.70
close_lag1        1.69
sma_50            1.64
sin_dow           1.39
sin_hour          1.37
range_over_atr    1.22
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 02:22:14 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.347 | Prob BAJA: 0.653
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 07:00:00+00:00 | Close: 106,877.29 USDT
🪙 Apuesta:            2025-10-18 08:00:00+00:00 → liquida 2025-10-18 08:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3462 | DOWN=0.3904
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.653 | Kelly raw: 0.346 | Kelly 25%: 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4AM–5AM ET | cierra 2025-10-18 05:00:00 EDT (UTC 09:00, CR 03:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 02:22:16 :: RUN wallet_tracker.update_wallet()
2025-10-18 02:22:17 :: wallet_tracker: OK

==== 2025-10-18 02:25:17 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 08:00:00+00:00 | Ahora UTC: 2025-10-18 08:25:17.891825+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 09:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-18 02:00:00-06:00
      - Ahora (Costa Rica):      2025-10-18 02:25:17.891825-06:00
      - Próximo cierre (CR):     2025-10-18 03:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 02:25:17 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,072 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 02:25:21 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 02:25:23 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 07:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.80
ema_20            1.76
ema_50            1.70
close_lag1        1.69
sma_50            1.64
sin_dow           1.39
sin_hour          1.37
range_over_atr    1.22
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 02:25:25 :: RUN src.decision.decide_and_recommend  ====
Prob SUBA (CAL): 0.347 | Prob BAJA: 0.653
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 07:00:00+00:00 | Close: 106,877.29 USDT
🪙 Apuesta:            2025-10-18 08:00:00+00:00 → liquida 2025-10-18 09:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3462 | DOWN=0.3904
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.653 | Kelly raw: 0.346 | Kelly 25%: 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4AM–5AM ET | cierra 2025-10-18 05:00:00 EDT (UTC 09:00, CR 03:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 02:25:28 :: RUN wallet_tracker.update_wallet()
2025-10-18 02:25:28 :: wallet_tracker: OK

==== 2025-10-18 02:38:51 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 08:00:00+00:00 | Ahora UTC: 2025-10-18 08:38:52.504628+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 09:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-18 02:00:00-06:00
      - Ahora (Costa Rica):      2025-10-18 02:38:52.504628-06:00
      - Próximo cierre (CR):     2025-10-18 03:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 02:38:52 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,072 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 02:38:55 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 02:38:57 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 07:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.80
ema_20            1.76
ema_50            1.70
close_lag1        1.69
sma_50            1.64
sin_dow           1.39
sin_hour          1.37
range_over_atr    1.22
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 02:38:59 :: RUN src.decision.decide_and_recommend  ====
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 99, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 23, in main
    proba = model.predict_proba(X.iloc[[-1]])[0][1]
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\sklearn\calibration.py", line 513, in predict_proba
    proba = calibrated_classifier.predict_proba(X)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\sklearn\calibration.py", line 743, in predict_proba
    predictions, _ = _get_response_values(
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\sklearn\utils\_response.py", line 214, in _get_response_values
    y_pred = prediction_method(X)
             ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\xgboost\sklearn.py", line 1798, in predict_proba
    class_probs = super().predict(
                  ^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\xgboost\core.py", line 729, in inner_f
    return func(**kwargs)
           ^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\xgboost\sklearn.py", line 1327, in predict
    predts = self.get_booster().inplace_predict(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\xgboost\core.py", line 729, in inner_f
    return func(**kwargs)
           ^^^^^^^^^^^^^^
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\xgboost\core.py", line 2667, in inplace_predict
    self._validate_features(fns)
  File "C:\Users\leanv\AppData\Local\Programs\Python\Python312\Lib\site-packages\xgboost\core.py", line 3243, in _validate_features
    raise ValueError(msg.format(self.feature_names, feature_names))
ValueError: feature_names mismatch: ['ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr'] ['target_up', 'target_ret', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr', 'open', 'high', 'low', 'volume']
training data did not have the following fields: target_up, open, high, low, volume, target_ret
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----

==== 2025-10-18 02:42:34 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 08:00:00+00:00 | Ahora UTC: 2025-10-18 08:42:34.623780+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 09:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-18 02:00:00-06:00
      - Ahora (Costa Rica):      2025-10-18 02:42:34.623780-06:00
      - Próximo cierre (CR):     2025-10-18 03:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 02:42:34 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,072 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 02:42:37 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 02:42:39 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 07:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.80
ema_20            1.76
ema_50            1.70
close_lag1        1.69
sma_50            1.64
sin_dow           1.39
sin_hour          1.37
range_over_atr    1.22
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 02:42:41 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.347 | Prob BAJA: 0.653
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 07:00:00+00:00 | Close: 106,877.29 USDT
🪙 Apuesta:            2025-10-18 08:00:00+00:00 → liquida 2025-10-18 09:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3462 | DOWN=0.3904
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.653 | Kelly raw: 0.346 | Kelly 25%: 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
Traceback (most recent call last):
  File "<frozen runpy>", line 198, in _run_module_as_main
  File "<frozen runpy>", line 88, in _run_code
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 112, in <module>
    main()
  File "C:\Users\leanv\Crypto_predictivo\src\decision\decide_and_recommend.py", line 77, in main
    print(f"🕒 Polymarket (ET): {_fmt_hour(start_et)}–{_fmt_hour(end_et)} ET | "
                                 ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\leanv\Crypto_predictivo\model\utils.py", line 56, in _fmt_hour
    return dt.strftime("%-I%p").lower().replace("am", "AM").replace("pm", "PM")
           ^^^^^^^^^^^^^^^^^^^^
ValueError: Invalid format string
---- EXIT CODE 1 (src.decision.decide_and_recommend) ----

==== 2025-10-18 02:44:06 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-18 08:00:00+00:00 | Ahora UTC: 2025-10-18 08:44:06.812865+00:00
  • Siguiente cierre esperado (UTC): 2025-10-18 09:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-18 02:00:00-06:00
      - Ahora (Costa Rica):      2025-10-18 02:44:06.812865-06:00
      - Próximo cierre (CR):     2025-10-18 03:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 02:44:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,072 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 02:44:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 02:44:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 07:00:00+00:00
Score base (sin calib): 0.167 | Calibrada: 0.347 | Usada(CAL): 0.347
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20            1.80
ema_20            1.76
ema_50            1.70
close_lag1        1.69
sma_50            1.64
sin_dow           1.39
sin_hour          1.37
range_over_atr    1.22
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 02:44:14 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.347 | Prob BAJA: 0.653
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 07:00:00+00:00 | Close: 106,877.29 USDT
🪙 Apuesta:            2025-10-18 08:00:00+00:00 → liquida 2025-10-18 09:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3462 | DOWN=0.3904
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.653 | Kelly raw: 0.346 | Kelly 25%: 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4AM–5AM ET | cierra 2025-10-18 05:00:00 EDT (UTC 09:00, CR 03:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 02:44:16 :: RUN wallet_tracker.update_wallet()
2025-10-18 02:44:16 :: wallet_tracker: OK
2025-10-18 03:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-18 03:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,273
⏱️ Última vela: 2025-10-18 09:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 05:00 AM – 06:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-18 06:00:00-04:00
    = UTC:       2025-10-18 10:00:00+00:00
    = Costa Rica:2025-10-18 04:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 03:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,073 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 03:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 03:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 08:00:00+00:00
Score base (sin calib): 0.157 | Calibrada: 0.343 | Usada(CAL): 0.343
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_20        1.78
ema_20        1.76
ema_50        1.70
close_lag1    1.67
sma_50        1.65
sin_dow       1.39
sin_hour      1.22
trend_flag    1.15
Últimas 200 → min:0.315 max:0.669 mean:0.480
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 03:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.343 | Prob BAJA: 0.657
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 08:00:00+00:00 | Close: 106,684.00 USDT
🪙 Apuesta:            2025-10-18 09:00:00+00:00 → liquida 2025-10-18 10:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3538 | DOWN=0.3989
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.657 | Kelly raw: 0.354 | Kelly 25%: 0.088
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5AM–6AM ET | cierra 2025-10-18 06:00:00 EDT (UTC 10:00, CR 04:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 03:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-18 03:01:19 :: wallet_tracker: OK

==== 2025-10-18 14:51:25 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,284
⏱️ Última vela: 2025-10-18 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-18 17:00:00-04:00
    = UTC:       2025-10-18 21:00:00+00:00
    = Costa Rica:2025-10-18 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 14:51:36 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,084 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 14:51:39 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 14:51:42 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 19:00:00+00:00
Score base (sin calib): 0.230 | Calibrada: 0.372 | Usada(CAL): 0.372
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.78
ema_50        1.73
ema_20        1.71
sma_20        1.70
close_lag1    1.64
sin_dow       1.39
sin_hour      1.37
sma_200       1.34
Últimas 200 → min:0.308 max:0.669 mean:0.477
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 14:51:50 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.372 | Prob BAJA: 0.628
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 19:00:00+00:00 | Close: 107,080.14 USDT
🪙 Apuesta:            2025-10-18 20:00:00+00:00 → liquida 2025-10-18 21:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2986 | DOWN=0.3368
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.628 | Kelly raw: 0.299 | Kelly 25%: 0.075
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-18 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 14:51:52 :: RUN wallet_tracker.update_wallet()
2025-10-18 14:51:52 :: wallet_tracker: OK
2025-10-18 15:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-18 15:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,285
⏱️ Última vela: 2025-10-18 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-18 18:00:00-04:00
    = UTC:       2025-10-18 22:00:00+00:00
    = Costa Rica:2025-10-18 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 15:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,085 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 15:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 15:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 20:00:00+00:00
Score base (sin calib): 0.201 | Calibrada: 0.360 | Usada(CAL): 0.360
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.78
ema_50        1.73
ema_20        1.70
sma_20        1.69
close_lag1    1.60
sin_dow       1.39
sma_200       1.36
atr14         1.28
Últimas 200 → min:0.308 max:0.669 mean:0.477
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 15:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.360 | Prob BAJA: 0.640
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 20:00:00+00:00 | Close: 107,110.01 USDT
🪙 Apuesta:            2025-10-18 21:00:00+00:00 → liquida 2025-10-18 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3207 | DOWN=0.3617
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.640 | Kelly raw: 0.321 | Kelly 25%: 0.080
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-18 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 15:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-18 15:01:17 :: wallet_tracker: OK

==== 2025-10-18 17:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,287
⏱️ Última vela: 2025-10-18 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-18 20:00:00-04:00
    = UTC:       2025-10-19 00:00:00+00:00
    = Costa Rica:2025-10-18 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 17:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,087 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 17:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 17:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 22:00:00+00:00
Score base (sin calib): 0.149 | Calibrada: 0.340 | Usada(CAL): 0.340
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.78
ema_50        1.73
ema_20        1.69
sma_20        1.68
close_lag1    1.61
sma_200       1.39
sin_dow       1.39
atr14         1.29
Últimas 200 → min:0.308 max:0.669 mean:0.476
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 17:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.340 | Prob BAJA: 0.660
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 22:00:00+00:00 | Close: 107,125.87 USDT
🪙 Apuesta:            2025-10-18 23:00:00+00:00 → liquida 2025-10-19 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3593 | DOWN=0.4051
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.660 | Kelly raw: 0.359 | Kelly 25%: 0.090
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-18 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 17:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-18 17:01:19 :: wallet_tracker: OK

==== 2025-10-18 18:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,288
⏱️ Última vela: 2025-10-19 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-18 21:00:00-04:00
    = UTC:       2025-10-19 01:00:00+00:00
    = Costa Rica:2025-10-18 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 18:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,088 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 18:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 18:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-18 23:00:00+00:00
Score base (sin calib): 0.268 | Calibrada: 0.388 | Usada(CAL): 0.388
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.78
ema_50        1.73
ema_20        1.68
sma_20        1.67
close_lag1    1.58
sma_200       1.40
sin_dow       1.39
cos_hour      1.38
Últimas 200 → min:0.308 max:0.669 mean:0.475
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 18:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.388 | Prob BAJA: 0.612
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-18 23:00:00+00:00 | Close: 107,104.39 USDT
🪙 Apuesta:            2025-10-19 00:00:00+00:00 → liquida 2025-10-19 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2689 | DOWN=0.3032
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.612 | Kelly raw: 0.269 | Kelly 25%: 0.067
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-18 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 18:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-18 18:01:18 :: wallet_tracker: OK

==== 2025-10-18 19:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,289
⏱️ Última vela: 2025-10-19 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-18 22:00:00-04:00
    = UTC:       2025-10-19 02:00:00+00:00
    = Costa Rica:2025-10-18 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 19:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,089 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 19:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 19:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 00:00:00+00:00
Score base (sin calib): 0.155 | Calibrada: 0.342 | Usada(CAL): 0.342
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.79
ema_50        1.73
ema_20        1.68
sma_20        1.67
close_lag1    1.58
cos_hour      1.42
sma_200       1.42
atr14         1.40
Últimas 200 → min:0.308 max:0.669 mean:0.474
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 19:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.342 | Prob BAJA: 0.658
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 00:00:00+00:00 | Close: 107,185.08 USDT
🪙 Apuesta:            2025-10-19 01:00:00+00:00 → liquida 2025-10-19 02:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3549 | DOWN=0.4002
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.658 | Kelly raw: 0.355 | Kelly 25%: 0.089
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-18 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 19:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-18 19:01:19 :: wallet_tracker: OK

==== 2025-10-18 20:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,290
⏱️ Última vela: 2025-10-19 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-18 23:00:00-04:00
    = UTC:       2025-10-19 03:00:00+00:00
    = Costa Rica:2025-10-18 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 20:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,090 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 20:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 20:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 01:00:00+00:00
Score base (sin calib): 0.449 | Calibrada: 0.465 | Usada(CAL): 0.465
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.78
ema_50        1.73
ema_20        1.68
sma_20        1.66
close_lag1    1.57
atr14         1.45
sma_200       1.43
cos_hour      1.37
Últimas 200 → min:0.308 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 20:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.465 | Prob BAJA: 0.535
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 01:00:00+00:00 | Close: 106,890.60 USDT
🪙 Apuesta:            2025-10-19 02:00:00+00:00 → liquida 2025-10-19 03:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1233 | DOWN=0.1391
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.535 | Kelly raw: 0.123 | Kelly 25%: 0.031
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-18 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 20:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-18 20:01:19 :: wallet_tracker: OK

==== 2025-10-18 21:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,291
⏱️ Última vela: 2025-10-19 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-18 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-19 00:00:00-04:00
    = UTC:       2025-10-19 04:00:00+00:00
    = Costa Rica:2025-10-18 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 21:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,091 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 21:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 21:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 02:00:00+00:00
Score base (sin calib): 0.425 | Calibrada: 0.454 | Usada(CAL): 0.454
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50            1.79
ema_50            1.73
ema_20            1.67
sma_20            1.66
close_lag1        1.62
atr14             1.52
sma_200           1.44
range_over_atr    1.23
Últimas 200 → min:0.308 max:0.669 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 21:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.454 | Prob BAJA: 0.546
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 02:00:00+00:00 | Close: 106,970.86 USDT
🪙 Apuesta:            2025-10-19 03:00:00+00:00 → liquida 2025-10-19 04:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1427 | DOWN=0.1609
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.546 | Kelly raw: 0.143 | Kelly 25%: 0.036
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-19 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 21:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-18 21:01:20 :: wallet_tracker: OK

==== 2025-10-18 22:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,292
⏱️ Última vela: 2025-10-19 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-19 01:00:00-04:00
    = UTC:       2025-10-19 05:00:00+00:00
    = Costa Rica:2025-10-18 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 22:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,092 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 22:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 22:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 03:00:00+00:00
Score base (sin calib): 0.462 | Calibrada: 0.470 | Usada(CAL): 0.470
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50            1.79
ema_50            1.73
ema_20            1.67
sma_20            1.65
close_lag1        1.60
atr14             1.57
sma_200           1.45
range_over_atr    1.30
Últimas 200 → min:0.308 max:0.669 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 22:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.470 | Prob BAJA: 0.530
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 03:00:00+00:00 | Close: 106,837.35 USDT
🪙 Apuesta:            2025-10-19 04:00:00+00:00 → liquida 2025-10-19 05:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1130 | DOWN=0.1275
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.530 | Kelly raw: 0.113 | Kelly 25%: 0.028
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-19 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 22:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-18 22:01:20 :: wallet_tracker: OK

==== 2025-10-18 23:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,293
⏱️ Última vela: 2025-10-19 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-19 02:00:00-04:00
    = UTC:       2025-10-19 06:00:00+00:00
    = Costa Rica:2025-10-19 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-18 23:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,093 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-18 23:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-18 23:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 04:00:00+00:00
Score base (sin calib): 0.356 | Calibrada: 0.425 | Usada(CAL): 0.425
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.79
ema_50        1.73
ema_20        1.66
sma_20        1.64
close_lag1    1.62
atr14         1.55
sma_200       1.46
sin_hour      1.24
Últimas 200 → min:0.308 max:0.669 mean:0.471
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-18 23:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.425 | Prob BAJA: 0.575
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 04:00:00+00:00 | Close: 107,242.00 USDT
🪙 Apuesta:            2025-10-19 05:00:00+00:00 → liquida 2025-10-19 06:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1989 | DOWN=0.2243
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.575 | Kelly raw: 0.199 | Kelly 25%: 0.050
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-19 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-18 23:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-18 23:01:20 :: wallet_tracker: OK

==== 2025-10-19 00:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,294
⏱️ Última vela: 2025-10-19 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-19 03:00:00-04:00
    = UTC:       2025-10-19 07:00:00+00:00
    = Costa Rica:2025-10-19 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 00:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,094 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 00:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 00:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 05:00:00+00:00
Score base (sin calib): 0.211 | Calibrada: 0.364 | Usada(CAL): 0.364
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.79
ema_50        1.73
ema_20        1.66
sma_20        1.64
atr14         1.59
close_lag1    1.55
sma_200       1.47
sin_hour      1.38
Últimas 200 → min:0.308 max:0.669 mean:0.470
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 00:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.364 | Prob BAJA: 0.636
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 05:00:00+00:00 | Close: 107,060.00 USDT
🪙 Apuesta:            2025-10-19 06:00:00+00:00 → liquida 2025-10-19 07:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3133 | DOWN=0.3533
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.636 | Kelly raw: 0.313 | Kelly 25%: 0.078
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2AM–3AM ET | cierra 2025-10-19 03:00:00 EDT (UTC 07:00, CR 01:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 00:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-19 00:01:21 :: wallet_tracker: OK

==== 2025-10-19 13:01:04 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,307
⏱️ Última vela: 2025-10-19 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-19 16:00:00-04:00
    = UTC:       2025-10-19 20:00:00+00:00
    = Costa Rica:2025-10-19 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 13:01:12 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,107 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 13:01:15 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 13:01:18 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 18:00:00+00:00
Score base (sin calib): 0.098 | Calibrada: 0.320 | Usada(CAL): 0.320
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50      1.67
ema_50      1.63
rsi_14      1.54
sma_200     1.51
sma_20      1.50
bb_pos      1.48
ema_20      1.46
sin_hour    1.42
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 13:01:25 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.320 | Prob BAJA: 0.680
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 18:00:00+00:00 | Close: 109,383.01 USDT
🪙 Apuesta:            2025-10-19 19:00:00+00:00 → liquida 2025-10-19 20:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3966 | DOWN=0.4472
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.680 | Kelly raw: 0.397 | Kelly 25%: 0.099
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-19 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 13:01:27 :: RUN wallet_tracker.update_wallet()
2025-10-19 13:01:27 :: wallet_tracker: OK

==== 2025-10-19 14:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,308
⏱️ Última vela: 2025-10-19 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-19 17:00:00-04:00
    = UTC:       2025-10-19 21:00:00+00:00
    = Costa Rica:2025-10-19 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 14:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,108 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 14:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 14:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 19:00:00+00:00
Score base (sin calib): 0.166 | Calibrada: 0.346 | Usada(CAL): 0.346
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50      1.66
ema_50      1.62
sma_200     1.51
sma_20      1.47
ema_20      1.44
rsi_14      1.37
sin_hour    1.37
bb_pos      1.17
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 14:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.346 | Prob BAJA: 0.654
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 19:00:00+00:00 | Close: 109,255.96 USDT
🪙 Apuesta:            2025-10-19 20:00:00+00:00 → liquida 2025-10-19 21:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3470 | DOWN=0.3913
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.654 | Kelly raw: 0.347 | Kelly 25%: 0.087
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-19 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 14:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-19 14:01:19 :: wallet_tracker: OK

==== 2025-10-19 15:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,309
⏱️ Última vela: 2025-10-19 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-19 18:00:00-04:00
    = UTC:       2025-10-19 22:00:00+00:00
    = Costa Rica:2025-10-19 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 15:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,109 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 15:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 15:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 20:00:00+00:00
Score base (sin calib): 0.371 | Calibrada: 0.431 | Usada(CAL): 0.431
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50            1.64
ema_50            1.61
sma_200           1.51
sma_20            1.46
ema_20            1.42
sin_hour          1.22
close_lag1        1.17
range_over_atr    1.16
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 15:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.431 | Prob BAJA: 0.569
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 20:00:00+00:00 | Close: 108,847.33 USDT
🪙 Apuesta:            2025-10-19 21:00:00+00:00 → liquida 2025-10-19 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1869 | DOWN=0.2108
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.569 | Kelly raw: 0.187 | Kelly 25%: 0.047
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-19 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 15:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-19 15:01:20 :: wallet_tracker: OK

==== 2025-10-19 16:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,310
⏱️ Última vela: 2025-10-19 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-19 19:00:00-04:00
    = UTC:       2025-10-19 23:00:00+00:00
    = Costa Rica:2025-10-19 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 16:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,110 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 16:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 16:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 21:00:00+00:00
Score base (sin calib): 0.313 | Calibrada: 0.406 | Usada(CAL): 0.406
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50            1.63
ema_50            1.60
sma_200           1.52
sma_20            1.44
ema_20            1.41
close_lag1        1.23
range_over_atr    1.19
true_range        1.16
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 16:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.406 | Prob BAJA: 0.594
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 21:00:00+00:00 | Close: 108,826.29 USDT
🪙 Apuesta:            2025-10-19 22:00:00+00:00 → liquida 2025-10-19 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2333 | DOWN=0.2630
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.594 | Kelly raw: 0.233 | Kelly 25%: 0.058
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-19 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 16:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-19 16:01:20 :: wallet_tracker: OK

==== 2025-10-19 17:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,311
⏱️ Última vela: 2025-10-19 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-19 20:00:00-04:00
    = UTC:       2025-10-20 00:00:00+00:00
    = Costa Rica:2025-10-19 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 17:01:09 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,111 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 17:01:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 17:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-19 22:00:00+00:00
Score base (sin calib): 0.397 | Calibrada: 0.442 | Usada(CAL): 0.442
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.62
ema_50        1.59
sma_200       1.52
sma_20        1.42
ema_20        1.39
cos_hour      1.24
close_lag1    1.23
sin_dow       1.10
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 17:01:19 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.442 | Prob BAJA: 0.558
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-19 22:00:00+00:00 | Close: 108,757.55 USDT
🪙 Apuesta:            2025-10-19 23:00:00+00:00 → liquida 2025-10-20 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1659 | DOWN=0.1871
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.558 | Kelly raw: 0.166 | Kelly 25%: 0.041
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-19 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 17:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-19 17:01:21 :: wallet_tracker: OK

==== 2025-10-19 20:01:03 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,314
⏱️ Última vela: 2025-10-20 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-19 23:00:00-04:00
    = UTC:       2025-10-20 03:00:00+00:00
    = Costa Rica:2025-10-19 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 20:01:09 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,114 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 20:01:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 20:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 01:00:00+00:00
Score base (sin calib): 0.842 | Calibrada: 0.633 | Usada(CAL): 0.633
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1    1.88
sma_50        1.60
ema_50        1.57
sma_200       1.53
cos_dow       1.43
ema_20        1.38
sma_20        1.38
cos_hour      1.37
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 20:01:20 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.633 | Prob BAJA: 0.367
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 01:00:00+00:00 | Close: 108,053.58 USDT
🪙 Apuesta:            2025-10-20 02:00:00+00:00 → liquida 2025-10-20 03:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1943 | DOWN=-0.2191
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.633 | Kelly raw: 0.219 | Kelly 25%: 0.055
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-19 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 20:01:22 :: RUN wallet_tracker.update_wallet()
2025-10-19 20:01:22 :: wallet_tracker: OK

==== 2025-10-19 21:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,315
⏱️ Última vela: 2025-10-20 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-19 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-20 00:00:00-04:00
    = UTC:       2025-10-20 04:00:00+00:00
    = Costa Rica:2025-10-19 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 21:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,115 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 21:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 21:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 02:00:00+00:00
Score base (sin calib): 0.889 | Calibrada: 0.652 | Usada(CAL): 0.652
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.59
ema_50        1.56
sma_200       1.53
cos_dow       1.43
ema_20        1.38
sma_20        1.37
close_lag1    1.36
cos_hour      1.22
Últimas 200 → min:0.298 max:0.669 mean:0.463
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 21:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.652 | Prob BAJA: 0.348
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 02:00:00+00:00 | Close: 107,984.27 USDT
🪙 Apuesta:            2025-10-20 03:00:00+00:00 → liquida 2025-10-20 04:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2302 | DOWN=-0.2596
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.652 | Kelly raw: 0.260 | Kelly 25%: 0.065
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-20 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 21:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-19 21:01:18 :: wallet_tracker: OK

==== 2025-10-19 22:01:07 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,316
⏱️ Última vela: 2025-10-20 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-20 01:00:00-04:00
    = UTC:       2025-10-20 05:00:00+00:00
    = Costa Rica:2025-10-19 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 22:01:19 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,116 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 22:01:23 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 22:01:25 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 03:00:00+00:00
Score base (sin calib): 0.688 | Calibrada: 0.569 | Usada(CAL): 0.569
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_50        1.58
ema_50        1.55
sma_200       1.53
ret_1         1.48
logret_1      1.47
cos_dow       1.43
ema_20        1.37
close_lag1    1.36
Últimas 200 → min:0.298 max:0.669 mean:0.463
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 22:01:28 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.569 | Prob BAJA: 0.431
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 03:00:00+00:00 | Close: 108,744.31 USDT
🪙 Apuesta:            2025-10-20 04:00:00+00:00 → liquida 2025-10-20 05:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0727 | DOWN=-0.0820
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.569 | Kelly raw: 0.082 | Kelly 25%: 0.020
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-20 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 22:01:31 :: RUN wallet_tracker.update_wallet()
2025-10-19 22:01:31 :: wallet_tracker: OK

==== 2025-10-19 23:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,317
⏱️ Última vela: 2025-10-20 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-20 02:00:00-04:00
    = UTC:       2025-10-20 06:00:00+00:00
    = Costa Rica:2025-10-20 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-19 23:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,117 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-19 23:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-19 23:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 04:00:00+00:00
Score base (sin calib): 0.329 | Calibrada: 0.413 | Usada(CAL): 0.413
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_2              3.16
ret_1              2.88
logret_1           2.85
ret_3              2.51
ret_4              2.20
true_range         1.88
bb_pos             1.75
close_sma20_atr    1.58
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-19 23:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.413 | Prob BAJA: 0.587
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 04:00:00+00:00 | Close: 110,252.68 USDT
🪙 Apuesta:            2025-10-20 05:00:00+00:00 → liquida 2025-10-20 06:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2207 | DOWN=0.2489
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.587 | Kelly raw: 0.221 | Kelly 25%: 0.055
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-20 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-19 23:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-19 23:01:19 :: wallet_tracker: OK

==== 2025-10-20 00:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,318
⏱️ Última vela: 2025-10-20 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-20 03:00:00-04:00
    = UTC:       2025-10-20 07:00:00+00:00
    = Costa Rica:2025-10-20 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 00:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,118 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 00:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 00:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 05:00:00+00:00
Score base (sin calib): 0.398 | Calibrada: 0.443 | Usada(CAL): 0.443
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1         2.88
ret_3              2.68
ret_4              2.27
ret_2              2.21
bb_pos             1.55
sma_50             1.55
close_sma20_atr    1.55
sma_200            1.53
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 00:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.443 | Prob BAJA: 0.557
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 05:00:00+00:00 | Close: 110,345.47 USDT
🪙 Apuesta:            2025-10-20 06:00:00+00:00 → liquida 2025-10-20 07:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1647 | DOWN=0.1857
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.557 | Kelly raw: 0.165 | Kelly 25%: 0.041
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2AM–3AM ET | cierra 2025-10-20 03:00:00 EDT (UTC 07:00, CR 01:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 00:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-20 00:01:20 :: wallet_tracker: OK

==== 2025-10-20 09:01:04 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,327
⏱️ Última vela: 2025-10-20 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 12:00:00-04:00
    = UTC:       2025-10-20 16:00:00+00:00
    = Costa Rica:2025-10-20 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 09:01:12 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,127 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 09:01:16 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 09:01:18 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 14:00:00+00:00
Score base (sin calib): 0.082 | Calibrada: 0.314 | Usada(CAL): 0.314
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
lower_wick_pct    1.77
lower_wick        1.65
sma_200           1.51
cos_dow           1.43
sma_50            1.39
rsi_14            1.36
ema_50            1.32
macd              1.24
Últimas 200 → min:0.298 max:0.669 mean:0.459
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 09:01:25 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.314 | Prob BAJA: 0.686
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 14:00:00+00:00 | Close: 111,210.86 USDT
🪙 Apuesta:            2025-10-20 15:00:00+00:00 → liquida 2025-10-20 16:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.4080 | DOWN=0.4601
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.686 | Kelly raw: 0.408 | Kelly 25%: 0.102
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-20 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 09:01:28 :: RUN wallet_tracker.update_wallet()
2025-10-20 09:01:28 :: wallet_tracker: OK

==== 2025-10-20 10:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,328
⏱️ Última vela: 2025-10-20 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 13:00:00-04:00
    = UTC:       2025-10-20 17:00:00+00:00
    = Costa Rica:2025-10-20 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 10:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,128 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 10:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 10:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 15:00:00+00:00
Score base (sin calib): 0.216 | Calibrada: 0.366 | Usada(CAL): 0.366
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.51
cos_dow            1.43
rsi_14             1.37
sma_50             1.37
ema_50             1.30
macd               1.23
macd_signal        1.22
close_sma20_atr    1.16
Últimas 200 → min:0.298 max:0.669 mean:0.459
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 10:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.366 | Prob BAJA: 0.634
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 15:00:00+00:00 | Close: 111,224.24 USDT
🪙 Apuesta:            2025-10-20 16:00:00+00:00 → liquida 2025-10-20 17:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3090 | DOWN=0.3484
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.634 | Kelly raw: 0.309 | Kelly 25%: 0.077
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-20 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 10:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-20 10:01:17 :: wallet_tracker: OK

==== 2025-10-20 11:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,329
⏱️ Última vela: 2025-10-20 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 14:00:00-04:00
    = UTC:       2025-10-20 18:00:00+00:00
    = Costa Rica:2025-10-20 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 11:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,129 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 11:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 11:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 16:00:00+00:00
Score base (sin calib): 0.665 | Calibrada: 0.558 | Usada(CAL): 0.558
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200          1.50
cos_dow          1.43
sma_50           1.36
ema_50           1.29
sin_hour         1.24
macd_signal      1.22
body_over_atr    1.18
macd             1.15
Últimas 200 → min:0.298 max:0.669 mean:0.459
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 11:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.558 | Prob BAJA: 0.442
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 16:00:00+00:00 | Close: 110,713.01 USDT
🪙 Apuesta:            2025-10-20 17:00:00+00:00 → liquida 2025-10-20 18:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0537 | DOWN=-0.0606
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.558 | Kelly raw: 0.061 | Kelly 25%: 0.015
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-20 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 11:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-20 11:01:18 :: wallet_tracker: OK

==== 2025-10-20 12:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,330
⏱️ Última vela: 2025-10-20 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 15:00:00-04:00
    = UTC:       2025-10-20 19:00:00+00:00
    = Costa Rica:2025-10-20 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 12:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,130 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 12:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 12:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 17:00:00+00:00
Score base (sin calib): 0.679 | Calibrada: 0.565 | Usada(CAL): 0.565
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.43
sin_hour           1.38
sma_50             1.34
ema_50             1.28
macd_signal        1.20
sma_ratio_20_50    1.13
vol_regime         1.09
Últimas 200 → min:0.298 max:0.669 mean:0.460
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 12:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.565 | Prob BAJA: 0.435
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 17:00:00+00:00 | Close: 110,758.42 USDT
🪙 Apuesta:            2025-10-20 18:00:00+00:00 → liquida 2025-10-20 19:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0651 | DOWN=-0.0735
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.565 | Kelly raw: 0.073 | Kelly 25%: 0.018
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-20 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 12:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-20 12:01:17 :: wallet_tracker: OK

==== 2025-10-20 13:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,331
⏱️ Última vela: 2025-10-20 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 16:00:00-04:00
    = UTC:       2025-10-20 20:00:00+00:00
    = Costa Rica:2025-10-20 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 13:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,131 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 13:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 13:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 18:00:00+00:00
Score base (sin calib): 0.703 | Calibrada: 0.575 | Usada(CAL): 0.575
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.43
sin_hour           1.42
sma_50             1.33
ema_50             1.27
macd_signal        1.16
sma_ratio_20_50    1.13
vol_regime         1.08
Últimas 200 → min:0.298 max:0.669 mean:0.460
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 13:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.575 | Prob BAJA: 0.425
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 18:00:00+00:00 | Close: 110,321.28 USDT
🪙 Apuesta:            2025-10-20 19:00:00+00:00 → liquida 2025-10-20 20:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0846 | DOWN=-0.0954
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.575 | Kelly raw: 0.095 | Kelly 25%: 0.024
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-20 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 13:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-20 13:01:19 :: wallet_tracker: OK

==== 2025-10-20 14:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,332
⏱️ Última vela: 2025-10-20 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 17:00:00-04:00
    = UTC:       2025-10-20 21:00:00+00:00
    = Costa Rica:2025-10-20 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 14:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,132 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 14:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 14:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 19:00:00+00:00
Score base (sin calib): 0.355 | Calibrada: 0.424 | Usada(CAL): 0.424
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.43
sin_hour           1.37
sma_50             1.31
ema_50             1.25
sma_ratio_20_50    1.14
macd_signal        1.12
ret_1              1.10
Últimas 200 → min:0.298 max:0.669 mean:0.460
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 14:01:14 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.424 | Prob BAJA: 0.576
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 19:00:00+00:00 | Close: 110,897.23 USDT
🪙 Apuesta:            2025-10-20 20:00:00+00:00 → liquida 2025-10-20 21:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1997 | DOWN=0.2252
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.576 | Kelly raw: 0.200 | Kelly 25%: 0.050
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-20 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 14:01:16 :: RUN wallet_tracker.update_wallet()
2025-10-20 14:01:16 :: wallet_tracker: OK

==== 2025-10-20 15:01:01 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,333
⏱️ Última vela: 2025-10-20 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 18:00:00-04:00
    = UTC:       2025-10-20 22:00:00+00:00
    = Costa Rica:2025-10-20 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 15:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,133 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 15:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 15:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 20:00:00+00:00
Score base (sin calib): 0.641 | Calibrada: 0.548 | Usada(CAL): 0.548
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.43
sma_50             1.29
ema_50             1.24
sin_hour           1.22
sma_ratio_20_50    1.17
ret_1_lag1         1.10
macd_signal        1.08
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 15:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.548 | Prob BAJA: 0.452
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 20:00:00+00:00 | Close: 110,668.79 USDT
🪙 Apuesta:            2025-10-20 21:00:00+00:00 → liquida 2025-10-20 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0342 | DOWN=-0.0386
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.548 | Kelly raw: 0.039 | Kelly 25%: 0.010
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-20 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 15:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-20 15:01:19 :: wallet_tracker: OK

==== 2025-10-20 16:01:02 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,334
⏱️ Última vela: 2025-10-20 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 19:00:00-04:00
    = UTC:       2025-10-20 23:00:00+00:00
    = Costa Rica:2025-10-20 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 16:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,134 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 16:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 16:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 21:00:00+00:00
Score base (sin calib): 0.459 | Calibrada: 0.469 | Usada(CAL): 0.469
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_50             1.28
ema_50             1.23
sma_ratio_20_50    1.22
slope_sma20        1.17
range_over_atr     1.07
vol_regime         1.07
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 16:01:14 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.469 | Prob BAJA: 0.531
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 21:00:00+00:00 | Close: 111,039.90 USDT
🪙 Apuesta:            2025-10-20 22:00:00+00:00 → liquida 2025-10-20 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1154 | DOWN=0.1301
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.531 | Kelly raw: 0.115 | Kelly 25%: 0.029
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-20 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 16:01:16 :: RUN wallet_tracker.update_wallet()
2025-10-20 16:01:16 :: wallet_tracker: OK

==== 2025-10-20 16:10:43 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 22:00:00+00:00 | Ahora UTC: 2025-10-20 22:10:43.723551+00:00
  • Siguiente cierre esperado (UTC): 2025-10-20 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 16:10:43.723551-06:00
      - Próximo cierre (CR):     2025-10-20 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 16:10:43 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,134 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 16:10:46 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 16:10:49 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 21:00:00+00:00
Score base (sin calib): 0.459 | Calibrada: 0.469 | Usada(CAL): 0.469
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_50             1.28
ema_50             1.23
sma_ratio_20_50    1.22
slope_sma20        1.17
range_over_atr     1.07
vol_regime         1.07
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 16:10:51 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.469 | Prob BAJA: 0.531
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 21:00:00+00:00 | Close: 111,039.90 USDT
🪙 Apuesta:            2025-10-20 22:00:00+00:00 → liquida 2025-10-20 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1154 | DOWN=0.1301
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.531 | Kelly raw: 0.115 | Kelly 25%: 0.029
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-20 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 16:10:53 :: RUN wallet_tracker.update_wallet()
2025-10-20 16:10:53 :: wallet_tracker: OK

==== 2025-10-20 16:14:49 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 22:00:00+00:00 | Ahora UTC: 2025-10-20 22:14:49.955695+00:00
  • Siguiente cierre esperado (UTC): 2025-10-20 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 16:14:49.955695-06:00
      - Próximo cierre (CR):     2025-10-20 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 16:14:50 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,134 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 16:14:53 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 16:14:55 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 21:00:00+00:00
Score base (sin calib): 0.459 | Calibrada: 0.469 | Usada(CAL): 0.469
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_50             1.28
ema_50             1.23
sma_ratio_20_50    1.22
slope_sma20        1.17
range_over_atr     1.07
vol_regime         1.07
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 16:14:57 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.469 | Prob BAJA: 0.531
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 21:00:00+00:00 | Close: 111,039.90 USDT
🪙 Apuesta:            2025-10-20 22:00:00+00:00 → liquida 2025-10-20 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1154 | DOWN=0.1301
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.531 | Kelly raw: 0.115 | Kelly 25%: 0.029
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-20 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 16:14:59 :: RUN wallet_tracker.update_wallet()
2025-10-20 16:15:00 :: wallet_tracker: ERROR → OutOfBoundsDatetime('Parsing "1640995200000.0" to datetime overflows, at position 0')

==== 2025-10-20 16:20:04 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 22:00:00+00:00 | Ahora UTC: 2025-10-20 22:20:04.842603+00:00
  • Siguiente cierre esperado (UTC): 2025-10-20 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 16:20:04.842603-06:00
      - Próximo cierre (CR):     2025-10-20 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 16:20:04 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,134 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 16:20:08 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 16:20:10 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 21:00:00+00:00
Score base (sin calib): 0.459 | Calibrada: 0.469 | Usada(CAL): 0.469
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_50             1.28
ema_50             1.23
sma_ratio_20_50    1.22
slope_sma20        1.17
range_over_atr     1.07
vol_regime         1.07
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 16:20:12 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.469 | Prob BAJA: 0.531
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 21:00:00+00:00 | Close: 111,039.90 USDT
🪙 Apuesta:            2025-10-20 22:00:00+00:00 → liquida 2025-10-20 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1154 | DOWN=0.1301
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.531 | Kelly raw: 0.115 | Kelly 25%: 0.029
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-20 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 16:20:14 :: RUN wallet_tracker.update_wallet()
2025-10-20 16:20:14 :: wallet_tracker: OK

==== 2025-10-20 16:20:36 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 22:00:00+00:00 | Ahora UTC: 2025-10-20 22:20:37.398965+00:00
  • Siguiente cierre esperado (UTC): 2025-10-20 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 16:20:37.398965-06:00
      - Próximo cierre (CR):     2025-10-20 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 16:20:37 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,134 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 16:20:40 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 16:20:43 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 21:00:00+00:00
Score base (sin calib): 0.459 | Calibrada: 0.469 | Usada(CAL): 0.469
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_50             1.28
ema_50             1.23
sma_ratio_20_50    1.22
slope_sma20        1.17
range_over_atr     1.07
vol_regime         1.07
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 16:20:45 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.469 | Prob BAJA: 0.531
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 21:00:00+00:00 | Close: 111,039.90 USDT
🪙 Apuesta:            2025-10-20 22:00:00+00:00 → liquida 2025-10-20 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1154 | DOWN=0.1301
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.531 | Kelly raw: 0.115 | Kelly 25%: 0.029
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-20 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 16:20:47 :: RUN wallet_tracker.update_wallet()
2025-10-20 16:20:47 :: wallet_tracker: OK

==== 2025-10-20 16:25:57 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 22:00:00+00:00 | Ahora UTC: 2025-10-20 22:25:58.430800+00:00
  • Siguiente cierre esperado (UTC): 2025-10-20 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 16:25:58.430800-06:00
      - Próximo cierre (CR):     2025-10-20 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 16:25:58 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,134 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 16:26:01 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 16:26:03 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 21:00:00+00:00
Score base (sin calib): 0.459 | Calibrada: 0.469 | Usada(CAL): 0.469
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_50             1.28
ema_50             1.23
sma_ratio_20_50    1.22
slope_sma20        1.17
range_over_atr     1.07
vol_regime         1.07
Últimas 200 → min:0.298 max:0.669 mean:0.461
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 16:26:05 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.469 | Prob BAJA: 0.531
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 21:00:00+00:00 | Close: 111,039.90 USDT
🪙 Apuesta:            2025-10-20 22:00:00+00:00 → liquida 2025-10-20 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1154 | DOWN=0.1301
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.531 | Kelly raw: 0.115 | Kelly 25%: 0.029
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-20 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 16:26:07 :: RUN wallet_tracker.update_wallet()
2025-10-20 16:26:07 :: wallet_tracker: OK

==== 2025-10-20 17:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,335
⏱️ Última vela: 2025-10-20 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 20:00:00-04:00
    = UTC:       2025-10-21 00:00:00+00:00
    = Costa Rica:2025-10-20 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 17:01:09 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,135 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 17:01:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 17:01:19 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 22:00:00+00:00
Score base (sin calib): 0.752 | Calibrada: 0.596 | Usada(CAL): 0.596
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_ratio_20_50    1.26
sma_50             1.26
cos_hour           1.24
ema_50             1.21
range_over_atr     1.09
range              1.08
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 17:01:23 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.596 | Prob BAJA: 0.404
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 22:00:00+00:00 | Close: 110,548.50 USDT
🪙 Apuesta:            2025-10-20 23:00:00+00:00 → liquida 2025-10-21 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1241 | DOWN=-0.1400
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.596 | Kelly raw: 0.140 | Kelly 25%: 0.035
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-20 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 17:01:26 :: RUN wallet_tracker.update_wallet()
2025-10-20 17:01:26 :: wallet_tracker: OK

==== 2025-10-20 17:17:54 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 23:00:00+00:00 | Ahora UTC: 2025-10-20 23:17:55.680506+00:00
  • Siguiente cierre esperado (UTC): 2025-10-21 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 17:17:55.680506-06:00
      - Próximo cierre (CR):     2025-10-20 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 17:17:55 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,135 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 17:18:00 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 17:18:04 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 22:00:00+00:00
Score base (sin calib): 0.752 | Calibrada: 0.596 | Usada(CAL): 0.596
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_ratio_20_50    1.26
sma_50             1.26
cos_hour           1.24
ema_50             1.21
range_over_atr     1.09
range              1.08
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 17:18:07 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.596 | Prob BAJA: 0.404
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 22:00:00+00:00 | Close: 110,548.50 USDT
🪙 Apuesta:            2025-10-20 23:00:00+00:00 → liquida 2025-10-21 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1241 | DOWN=-0.1400
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.596 | Kelly raw: 0.140 | Kelly 25%: 0.035
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-20 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 17:18:10 :: RUN wallet_tracker.update_wallet()
2025-10-20 17:18:10 :: wallet_tracker: ERROR → OutOfBoundsDatetime('Parsing "1640995200000.0" to datetime overflows, at position 0')

==== 2025-10-20 17:21:59 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 23:00:00+00:00 | Ahora UTC: 2025-10-20 23:22:00.291422+00:00
  • Siguiente cierre esperado (UTC): 2025-10-21 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 17:22:00.291422-06:00
      - Próximo cierre (CR):     2025-10-20 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 17:22:00 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,135 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 17:22:03 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 17:22:06 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 22:00:00+00:00
Score base (sin calib): 0.752 | Calibrada: 0.596 | Usada(CAL): 0.596
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_ratio_20_50    1.26
sma_50             1.26
cos_hour           1.24
ema_50             1.21
range_over_atr     1.09
range              1.08
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 17:22:08 :: RUN src.decision.decide_and_recommend  ====

==== 2025-10-20 17:22:27 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 23:00:00+00:00 | Ahora UTC: 2025-10-20 23:22:28.409452+00:00
  • Siguiente cierre esperado (UTC): 2025-10-21 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 17:22:28.409452-06:00
      - Próximo cierre (CR):     2025-10-20 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 17:22:28 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,135 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 17:22:32 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 17:22:35 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 22:00:00+00:00
Score base (sin calib): 0.752 | Calibrada: 0.596 | Usada(CAL): 0.596
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_ratio_20_50    1.26
sma_50             1.26
cos_hour           1.24
ema_50             1.21
range_over_atr     1.09
range              1.08
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 17:22:38 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.596 | Prob BAJA: 0.404
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 22:00:00+00:00 | Close: 110,548.50 USDT
🪙 Apuesta:            2025-10-20 23:00:00+00:00 → liquida 2025-10-21 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1241 | DOWN=-0.1400
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.596 | Kelly raw: 0.140 | Kelly 25%: 0.035
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-20 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 17:22:41 :: RUN wallet_tracker.update_wallet()
2025-10-20 17:22:41 :: wallet_tracker: OK

==== 2025-10-20 17:31:46 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-20 23:00:00+00:00 | Ahora UTC: 2025-10-20 23:31:47.578460+00:00
  • Siguiente cierre esperado (UTC): 2025-10-21 00:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-20 17:00:00-06:00
      - Ahora (Costa Rica):      2025-10-20 17:31:47.578460-06:00
      - Próximo cierre (CR):     2025-10-20 18:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 17:31:47 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,135 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 17:31:51 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 17:31:54 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 22:00:00+00:00
Score base (sin calib): 0.752 | Calibrada: 0.596 | Usada(CAL): 0.596
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
sma_ratio_20_50    1.26
sma_50             1.26
cos_hour           1.24
ema_50             1.21
range_over_atr     1.09
range              1.08
Últimas 200 → min:0.298 max:0.669 mean:0.462
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 17:31:57 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.596 | Prob BAJA: 0.404
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 22:00:00+00:00 | Close: 110,548.50 USDT
🪙 Apuesta:            2025-10-20 23:00:00+00:00 → liquida 2025-10-21 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1241 | DOWN=-0.1400
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.596 | Kelly raw: 0.140 | Kelly 25%: 0.035
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-20 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 17:32:00 :: RUN wallet_tracker.update_wallet()
2025-10-20 17:32:00 :: wallet_tracker: OK
2025-10-20 18:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-20 18:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,336
⏱️ Última vela: 2025-10-21 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 21:00:00-04:00
    = UTC:       2025-10-21 01:00:00+00:00
    = Costa Rica:2025-10-20 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 18:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,136 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 18:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 18:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-20 23:00:00+00:00
Score base (sin calib): 0.458 | Calibrada: 0.469 | Usada(CAL): 0.469
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.50
cos_dow            1.42
cos_hour           1.38
sma_ratio_20_50    1.28
sma_50             1.25
ema_50             1.20
range_over_atr     1.09
range              1.08
Últimas 200 → min:0.298 max:0.669 mean:0.463
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 18:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.469 | Prob BAJA: 0.531
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-20 23:00:00+00:00 | Close: 110,743.65 USDT
🪙 Apuesta:            2025-10-21 00:00:00+00:00 → liquida 2025-10-21 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1157 | DOWN=0.1304
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.531 | Kelly raw: 0.116 | Kelly 25%: 0.029
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-20 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 18:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-20 18:01:21 :: wallet_tracker: OK
2025-10-20 19:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-20 19:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,337
⏱️ Última vela: 2025-10-21 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 22:00:00-04:00
    = UTC:       2025-10-21 02:00:00+00:00
    = Costa Rica:2025-10-20 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 19:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,137 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 19:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 19:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 00:00:00+00:00
Score base (sin calib): 0.735 | Calibrada: 0.589 | Usada(CAL): 0.589
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.51
cos_hour           1.42
sma_ratio_20_50    1.24
sma_50             1.23
ema_50             1.19
range_over_atr     1.12
sin_dow            1.11
range              1.10
Últimas 200 → min:0.298 max:0.669 mean:0.464
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 19:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.589 | Prob BAJA: 0.411
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 00:00:00+00:00 | Close: 110,495.01 USDT
🪙 Apuesta:            2025-10-21 01:00:00+00:00 → liquida 2025-10-21 02:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1105 | DOWN=-0.1246
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.589 | Kelly raw: 0.125 | Kelly 25%: 0.031
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-20 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 19:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-20 19:01:21 :: wallet_tracker: OK
2025-10-20 20:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-20 20:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,338
⏱️ Última vela: 2025-10-21 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-20 23:00:00-04:00
    = UTC:       2025-10-21 03:00:00+00:00
    = Costa Rica:2025-10-20 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 20:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,138 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 20:01:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 20:01:17 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 01:00:00+00:00
Score base (sin calib): 0.737 | Calibrada: 0.589 | Usada(CAL): 0.589
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.51
cos_hour           1.37
sma_50             1.22
sma_ratio_20_50    1.20
ema_50             1.19
bb_pos             1.17
atr14              1.17
true_range         1.16
Últimas 200 → min:0.298 max:0.669 mean:0.464
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 20:01:19 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.589 | Prob BAJA: 0.411
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 01:00:00+00:00 | Close: 110,453.60 USDT
🪙 Apuesta:            2025-10-21 02:00:00+00:00 → liquida 2025-10-21 03:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1119 | DOWN=-0.1262
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.589 | Kelly raw: 0.126 | Kelly 25%: 0.032
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-20 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 20:01:22 :: RUN wallet_tracker.update_wallet()
2025-10-20 20:01:22 :: wallet_tracker: OK
2025-10-20 21:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-20 21:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,339
⏱️ Última vela: 2025-10-21 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-20 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 00:00:00-04:00
    = UTC:       2025-10-21 04:00:00+00:00
    = Costa Rica:2025-10-20 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 21:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,139 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 21:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 21:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 02:00:00+00:00
Score base (sin calib): 0.823 | Calibrada: 0.625 | Usada(CAL): 0.625
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
bb_pos             2.06
sma_200            1.51
close_sma20_atr    1.29
cos_hour           1.22
sma_50             1.21
ema_50             1.18
sma_ratio_20_50    1.12
atr14              1.12
Últimas 200 → min:0.298 max:0.669 mean:0.466
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 21:01:19 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.625 | Prob BAJA: 0.375
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 02:00:00+00:00 | Close: 109,863.18 USDT
🪙 Apuesta:            2025-10-21 03:00:00+00:00 → liquida 2025-10-21 04:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1797 | DOWN=-0.2026
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.625 | Kelly raw: 0.203 | Kelly 25%: 0.051
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-21 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 21:01:22 :: RUN wallet_tracker.update_wallet()
2025-10-20 21:01:22 :: wallet_tracker: OK
2025-10-20 22:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-20 22:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,340
⏱️ Última vela: 2025-10-21 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 01:00:00-04:00
    = UTC:       2025-10-21 05:00:00+00:00
    = Costa Rica:2025-10-20 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 22:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,140 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 22:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 22:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 03:00:00+00:00
Score base (sin calib): 0.900 | Calibrada: 0.656 | Usada(CAL): 0.656
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
bb_pos             2.06
close_sma20_atr    1.68
sma_200            1.52
ret_2              1.22
macd_hist          1.21
sma_50             1.19
atr14              1.18
ema_50             1.18
Últimas 200 → min:0.298 max:0.669 mean:0.467
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 22:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.656 | Prob BAJA: 0.344
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 03:00:00+00:00 | Close: 109,540.43 USDT
🪙 Apuesta:            2025-10-21 04:00:00+00:00 → liquida 2025-10-21 05:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2382 | DOWN=-0.2687
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.656 | Kelly raw: 0.269 | Kelly 25%: 0.067
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-21 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 22:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-20 22:01:21 :: wallet_tracker: OK
2025-10-20 23:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-20 23:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,341
⏱️ Última vela: 2025-10-21 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 02:00:00-04:00
    = UTC:       2025-10-21 06:00:00+00:00
    = Costa Rica:2025-10-21 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-20 23:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,141 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-20 23:01:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-20 23:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 04:00:00+00:00
Score base (sin calib): 0.887 | Calibrada: 0.651 | Usada(CAL): 0.651
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    2.25
bb_pos             2.12
ret_3              1.55
sma_200            1.52
macd_hist          1.46
ret_4              1.38
sin_hour           1.24
sma_50             1.18
Últimas 200 → min:0.298 max:0.669 mean:0.469
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-20 23:01:13 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.651 | Prob BAJA: 0.349
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 04:00:00+00:00 | Close: 109,022.92 USDT
🪙 Apuesta:            2025-10-21 05:00:00+00:00 → liquida 2025-10-21 06:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2288 | DOWN=-0.2580
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.651 | Kelly raw: 0.258 | Kelly 25%: 0.064
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-21 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-20 23:01:15 :: RUN wallet_tracker.update_wallet()
2025-10-20 23:01:15 :: wallet_tracker: OK

==== 2025-10-21 00:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,342
⏱️ Última vela: 2025-10-21 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 03:00:00-04:00
    = UTC:       2025-10-21 07:00:00+00:00
    = Costa Rica:2025-10-21 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 00:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,142 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 00:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 00:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 05:00:00+00:00
Score base (sin calib): 0.718 | Calibrada: 0.581 | Usada(CAL): 0.581
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    2.93
ret_4              2.39
bb_pos             2.34
ret_2              2.20
ret_3              2.12
ret_6              2.11
ret_1              2.09
logret_1           2.09
Últimas 200 → min:0.298 max:0.669 mean:0.470
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 00:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.581 | Prob BAJA: 0.419
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 05:00:00+00:00 | Close: 107,911.76 USDT
🪙 Apuesta:            2025-10-21 06:00:00+00:00 → liquida 2025-10-21 07:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0967 | DOWN=-0.1090
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.581 | Kelly raw: 0.109 | Kelly 25%: 0.027
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2AM–3AM ET | cierra 2025-10-21 03:00:00 EDT (UTC 07:00, CR 01:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 00:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-21 00:01:18 :: wallet_tracker: OK

==== 2025-10-21 01:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,343
⏱️ Última vela: 2025-10-21 07:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 03:00 AM – 04:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 04:00:00-04:00
    = UTC:       2025-10-21 08:00:00+00:00
    = Costa Rica:2025-10-21 02:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 01:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,143 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 01:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 01:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 06:00:00+00:00
Score base (sin calib): 0.840 | Calibrada: 0.632 | Usada(CAL): 0.632
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    3.18
macd_hist          2.23
ret_6              2.17
ret_4              2.16
ret_3              2.14
ret_1_lag1         2.09
bb_pos             1.99
ret_2              1.97
Últimas 200 → min:0.298 max:0.669 mean:0.471
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 01:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.632 | Prob BAJA: 0.368
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 06:00:00+00:00 | Close: 107,566.33 USDT
🪙 Apuesta:            2025-10-21 07:00:00+00:00 → liquida 2025-10-21 08:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1927 | DOWN=-0.2173
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.632 | Kelly raw: 0.217 | Kelly 25%: 0.054
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3AM–4AM ET | cierra 2025-10-21 04:00:00 EDT (UTC 08:00, CR 02:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 01:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-21 01:01:18 :: wallet_tracker: OK

==== 2025-10-21 02:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,344
⏱️ Última vela: 2025-10-21 08:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 04:00 AM – 05:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 05:00:00-04:00
    = UTC:       2025-10-21 09:00:00+00:00
    = Costa Rica:2025-10-21 03:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 02:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,144 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 02:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 02:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 07:00:00+00:00
Score base (sin calib): 0.835 | Calibrada: 0.630 | Usada(CAL): 0.630
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    2.54
macd_hist          2.21
ret_6              1.91
ret_8              1.80
ret_4              1.57
sma_200            1.54
bb_pos             1.50
rsi_14             1.50
Últimas 200 → min:0.298 max:0.669 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 02:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.630 | Prob BAJA: 0.370
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 07:00:00+00:00 | Close: 107,861.83 USDT
🪙 Apuesta:            2025-10-21 08:00:00+00:00 → liquida 2025-10-21 09:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1889 | DOWN=-0.2130
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.630 | Kelly raw: 0.213 | Kelly 25%: 0.053
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4AM–5AM ET | cierra 2025-10-21 05:00:00 EDT (UTC 09:00, CR 03:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 02:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-21 02:01:19 :: wallet_tracker: OK

==== 2025-10-21 03:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,345
⏱️ Última vela: 2025-10-21 09:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 05:00 AM – 06:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 06:00:00-04:00
    = UTC:       2025-10-21 10:00:00+00:00
    = Costa Rica:2025-10-21 04:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 03:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,145 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 03:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 03:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 08:00:00+00:00
Score base (sin calib): 0.758 | Calibrada: 0.598 | Usada(CAL): 0.598
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    2.27
macd_hist          2.02
sma_200            1.55
ret_8              1.53
ret_6              1.34
close_lag1         1.32
rsi_14             1.31
sin_hour           1.22
Últimas 200 → min:0.298 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 03:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.598 | Prob BAJA: 0.402
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 08:00:00+00:00 | Close: 108,042.71 USDT
🪙 Apuesta:            2025-10-21 09:00:00+00:00 → liquida 2025-10-21 10:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1287 | DOWN=-0.1451
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.598 | Kelly raw: 0.145 | Kelly 25%: 0.036
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5AM–6AM ET | cierra 2025-10-21 06:00:00 EDT (UTC 10:00, CR 04:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 03:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-21 03:01:19 :: wallet_tracker: OK

==== 2025-10-21 04:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,346
⏱️ Última vela: 2025-10-21 10:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 06:00 AM – 07:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 07:00:00-04:00
    = UTC:       2025-10-21 11:00:00+00:00
    = Costa Rica:2025-10-21 05:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 04:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,146 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 04:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 04:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 09:00:00+00:00
Score base (sin calib): 0.799 | Calibrada: 0.615 | Usada(CAL): 0.615
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    2.57
macd_hist          1.91
ret_8              1.72
sma_200            1.56
rsi_14             1.49
ret_6              1.36
close_lag1         1.29
bb_pos             1.26
Últimas 200 → min:0.298 max:0.669 mean:0.475
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 04:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.615 | Prob BAJA: 0.385
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 09:00:00+00:00 | Close: 107,690.35 USDT
🪙 Apuesta:            2025-10-21 10:00:00+00:00 → liquida 2025-10-21 11:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1611 | DOWN=-0.1817
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.615 | Kelly raw: 0.182 | Kelly 25%: 0.045
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6AM–7AM ET | cierra 2025-10-21 07:00:00 EDT (UTC 11:00, CR 05:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 04:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-21 04:01:19 :: wallet_tracker: OK

==== 2025-10-21 05:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,347
⏱️ Última vela: 2025-10-21 11:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 07:00 AM – 08:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 08:00:00-04:00
    = UTC:       2025-10-21 12:00:00+00:00
    = Costa Rica:2025-10-21 06:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 05:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,147 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 05:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 05:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 10:00:00+00:00
Score base (sin calib): 0.885 | Calibrada: 0.650 | Usada(CAL): 0.650
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    2.33
macd_hist          1.70
sma_200            1.57
rsi_14             1.41
close_lag1         1.35
ret_8              1.31
cos_hour           1.24
ema_50             1.24
Últimas 200 → min:0.298 max:0.669 mean:0.476
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 05:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.650 | Prob BAJA: 0.350
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 10:00:00+00:00 | Close: 107,753.20 USDT
🪙 Apuesta:            2025-10-21 11:00:00+00:00 → liquida 2025-10-21 12:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2267 | DOWN=-0.2557
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.650 | Kelly raw: 0.256 | Kelly 25%: 0.064
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7AM–8AM ET | cierra 2025-10-21 08:00:00 EDT (UTC 12:00, CR 06:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 05:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-21 05:01:19 :: wallet_tracker: OK

==== 2025-10-21 06:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,348
⏱️ Última vela: 2025-10-21 12:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 08:00 AM – 09:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 09:00:00-04:00
    = UTC:       2025-10-21 13:00:00+00:00
    = Costa Rica:2025-10-21 07:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 06:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,148 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 06:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 06:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 11:00:00+00:00
Score base (sin calib): 0.292 | Calibrada: 0.398 | Usada(CAL): 0.398
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200            1.57
cos_hour           1.38
close_lag1         1.33
ret_1              1.29
logret_1           1.28
close_sma20_atr    1.26
macd_hist          1.26
ema_50             1.24
Últimas 200 → min:0.298 max:0.669 mean:0.474
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 06:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.398 | Prob BAJA: 0.602
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 11:00:00+00:00 | Close: 108,420.10 USDT
🪙 Apuesta:            2025-10-21 12:00:00+00:00 → liquida 2025-10-21 13:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2498 | DOWN=0.2816
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.602 | Kelly raw: 0.250 | Kelly 25%: 0.062
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8AM–9AM ET | cierra 2025-10-21 09:00:00 EDT (UTC 13:00, CR 07:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 06:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-21 06:01:20 :: wallet_tracker: OK
2025-10-21 07:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 07:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,349
⏱️ Última vela: 2025-10-21 13:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 09:00 AM – 10:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 10:00:00-04:00
    = UTC:       2025-10-21 14:00:00+00:00
    = Costa Rica:2025-10-21 08:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 07:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,149 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 07:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 07:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 12:00:00+00:00
Score base (sin calib): 0.290 | Calibrada: 0.397 | Usada(CAL): 0.397
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.58
cos_hour      1.42
ret_1_lag1    1.29
ema_50        1.24
close_lag1    1.22
ema_20        1.17
ret_2         1.16
sma_50        1.14
Últimas 200 → min:0.298 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 07:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.397 | Prob BAJA: 0.603
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 12:00:00+00:00 | Close: 108,580.01 USDT
🪙 Apuesta:            2025-10-21 13:00:00+00:00 → liquida 2025-10-21 14:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2518 | DOWN=0.2840
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.603 | Kelly raw: 0.252 | Kelly 25%: 0.063
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9AM–10AM ET | cierra 2025-10-21 10:00:00 EDT (UTC 14:00, CR 08:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 07:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-21 07:01:17 :: wallet_tracker: OK
2025-10-21 08:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 08:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,350
⏱️ Última vela: 2025-10-21 14:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 10:00 AM – 11:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-21 11:00:00-04:00
    = UTC:       2025-10-21 15:00:00+00:00
    = Costa Rica:2025-10-21 09:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 08:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,150 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 08:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 08:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 13:00:00+00:00
Score base (sin calib): 0.320 | Calibrada: 0.409 | Usada(CAL): 0.409
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.58
cos_hour      1.37
ema_50        1.24
ret_3         1.19
close_lag1    1.19
ema_20        1.17
sma_50        1.14
sin_dow       1.11
Últimas 200 → min:0.298 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 08:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.409 | Prob BAJA: 0.591
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 13:00:00+00:00 | Close: 108,799.83 USDT
🪙 Apuesta:            2025-10-21 14:00:00+00:00 → liquida 2025-10-21 15:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2278 | DOWN=0.2569
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.591 | Kelly raw: 0.228 | Kelly 25%: 0.057
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10AM–11AM ET | cierra 2025-10-21 11:00:00 EDT (UTC 15:00, CR 09:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 08:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-21 08:01:19 :: wallet_tracker: OK
2025-10-21 09:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 09:00:59 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,351
⏱️ Última vela: 2025-10-21 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 12:00:00-04:00
    = UTC:       2025-10-21 16:00:00+00:00
    = Costa Rica:2025-10-21 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 09:01:05 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,151 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 09:01:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 09:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 14:00:00+00:00
Score base (sin calib): 0.239 | Calibrada: 0.376 | Usada(CAL): 0.376
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.59
ema_50        1.24
cos_hour      1.22
ema_20        1.18
close_lag1    1.15
sma_50        1.13
sma_20        1.12
sin_dow       1.11
Últimas 200 → min:0.298 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 09:01:14 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.376 | Prob BAJA: 0.624
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 14:00:00+00:00 | Close: 108,495.82 USDT
🪙 Apuesta:            2025-10-21 15:00:00+00:00 → liquida 2025-10-21 16:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2913 | DOWN=0.3284
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.624 | Kelly raw: 0.291 | Kelly 25%: 0.073
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-21 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 09:01:16 :: RUN wallet_tracker.update_wallet()
2025-10-21 09:01:16 :: wallet_tracker: OK
2025-10-21 10:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 10:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,352
⏱️ Última vela: 2025-10-21 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 13:00:00-04:00
    = UTC:       2025-10-21 17:00:00+00:00
    = Costa Rica:2025-10-21 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 10:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,152 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 10:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 10:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 15:00:00+00:00
Score base (sin calib): 0.278 | Calibrada: 0.391 | Usada(CAL): 0.391
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1         6.66
logret_1      6.54
true_range    6.17
ret_2         4.52
ret_3         3.93
ret_4         3.57
ret_6         3.42
vol_z20       3.03
Últimas 200 → min:0.298 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 10:01:19 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.391 | Prob BAJA: 0.609
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 15:00:00+00:00 | Close: 112,155.11 USDT
🪙 Apuesta:            2025-10-21 16:00:00+00:00 → liquida 2025-10-21 17:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2613 | DOWN=0.2947
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.609 | Kelly raw: 0.261 | Kelly 25%: 0.065
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-21 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 10:01:22 :: RUN wallet_tracker.update_wallet()
2025-10-21 10:01:22 :: wallet_tracker: OK
2025-10-21 11:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 11:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,353
⏱️ Última vela: 2025-10-21 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 14:00:00-04:00
    = UTC:       2025-10-21 18:00:00+00:00
    = Costa Rica:2025-10-21 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 11:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,153 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 11:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 11:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 16:00:00+00:00
Score base (sin calib): 0.084 | Calibrada: 0.314 | Usada(CAL): 0.314
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_1_lag1         6.66
ret_2              6.40
ret_3              4.96
ret_4              4.54
ret_6              4.26
ret_8              3.48
close_sma20_atr    2.66
macd_hist          2.27
Últimas 200 → min:0.298 max:0.669 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 11:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.314 | Prob BAJA: 0.686
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 16:00:00+00:00 | Close: 113,441.42 USDT
🪙 Apuesta:            2025-10-21 17:00:00+00:00 → liquida 2025-10-21 18:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.4067 | DOWN=0.4586
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.686 | Kelly raw: 0.407 | Kelly 25%: 0.102
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-21 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 11:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-21 11:01:21 :: wallet_tracker: OK
2025-10-21 12:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 12:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,354
⏱️ Última vela: 2025-10-21 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 15:00:00-04:00
    = UTC:       2025-10-21 19:00:00+00:00
    = Costa Rica:2025-10-21 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 12:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,154 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 12:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 12:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 17:00:00+00:00
Score base (sin calib): 0.476 | Calibrada: 0.477 | Usada(CAL): 0.477
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_3         4.32
ret_4         3.51
ret_8         3.15
ret_6         3.09
macd_hist     2.64
ret_1_lag1    2.25
vol_z20       2.20
vol_24        1.99
Últimas 200 → min:0.298 max:0.669 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 12:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.477 | Prob BAJA: 0.523
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 17:00:00+00:00 | Close: 112,611.32 USDT
🪙 Apuesta:            2025-10-21 18:00:00+00:00 → liquida 2025-10-21 19:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1008 | DOWN=0.1137
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-21 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 12:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-21 12:01:21 :: wallet_tracker: OK
2025-10-21 13:01:03 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 13:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,355
⏱️ Última vela: 2025-10-21 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 16:00:00-04:00
    = UTC:       2025-10-21 20:00:00+00:00
    = Costa Rica:2025-10-21 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 13:01:12 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,155 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 13:01:16 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 13:01:19 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 18:00:00+00:00
Score base (sin calib): 0.380 | Calibrada: 0.435 | Usada(CAL): 0.435
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_4        3.21
ret_8        2.70
macd_hist    2.53
ret_6        2.52
vol_24       1.99
vol_z20      1.80
ret_2        1.75
sma_200      1.59
Últimas 200 → min:0.298 max:0.669 mean:0.471
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 13:01:28 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.435 | Prob BAJA: 0.565
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 18:00:00+00:00 | Close: 112,015.23 USDT
🪙 Apuesta:            2025-10-21 19:00:00+00:00 → liquida 2025-10-21 20:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1792 | DOWN=0.2021
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.565 | Kelly raw: 0.179 | Kelly 25%: 0.045
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-21 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 13:01:30 :: RUN wallet_tracker.update_wallet()
2025-10-21 13:01:30 :: wallet_tracker: OK
2025-10-21 14:01:01 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 14:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,356
⏱️ Última vela: 2025-10-21 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 17:00:00-04:00
    = UTC:       2025-10-21 21:00:00+00:00
    = Costa Rica:2025-10-21 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 14:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,156 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 14:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 14:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 19:00:00+00:00
Score base (sin calib): 0.277 | Calibrada: 0.391 | Usada(CAL): 0.391
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              2.33
macd_hist          2.33
ret_8              2.25
vol_24             1.96
close_sma20_atr    1.66
sma_200            1.59
ret_3              1.43
sin_hour           1.37
Últimas 200 → min:0.298 max:0.669 mean:0.470
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 14:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.391 | Prob BAJA: 0.609
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 19:00:00+00:00 | Close: 112,010.50 USDT
🪙 Apuesta:            2025-10-21 20:00:00+00:00 → liquida 2025-10-21 21:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2618 | DOWN=0.2952
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.609 | Kelly raw: 0.262 | Kelly 25%: 0.065
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-21 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 14:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-21 14:01:19 :: wallet_tracker: OK
2025-10-21 15:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 15:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,357
⏱️ Última vela: 2025-10-21 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 18:00:00-04:00
    = UTC:       2025-10-21 22:00:00+00:00
    = Costa Rica:2025-10-21 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 15:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,157 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 15:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 15:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 20:00:00+00:00
Score base (sin calib): 0.326 | Calibrada: 0.412 | Usada(CAL): 0.412
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              2.30
macd_hist          1.96
vol_24             1.95
ret_8              1.94
sma_200            1.59
ret_4              1.52
close_sma20_atr    1.39
sin_hour           1.22
Últimas 200 → min:0.298 max:0.669 mean:0.470
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 15:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.412 | Prob BAJA: 0.588
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 20:00:00+00:00 | Close: 111,680.70 USDT
🪙 Apuesta:            2025-10-21 21:00:00+00:00 → liquida 2025-10-21 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2234 | DOWN=0.2519
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.588 | Kelly raw: 0.223 | Kelly 25%: 0.056
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-21 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 15:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-21 15:01:20 :: wallet_tracker: OK

==== 2025-10-21 15:58:41 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-21 21:00:00+00:00 | Ahora UTC: 2025-10-21 21:58:42.913914+00:00
  • Siguiente cierre esperado (UTC): 2025-10-21 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-21 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-21 15:58:42.913914-06:00
      - Próximo cierre (CR):     2025-10-21 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 15:58:43 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,157 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 15:58:46 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 15:58:49 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 20:00:00+00:00
Score base (sin calib): 0.326 | Calibrada: 0.412 | Usada(CAL): 0.412
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6              2.30
macd_hist          1.96
vol_24             1.95
ret_8              1.94
sma_200            1.59
ret_4              1.52
close_sma20_atr    1.39
sin_hour           1.22
Últimas 200 → min:0.298 max:0.669 mean:0.470
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 15:58:55 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.412 | Prob BAJA: 0.588
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 20:00:00+00:00 | Close: 111,680.70 USDT
🪙 Apuesta:            2025-10-21 21:00:00+00:00 → liquida 2025-10-21 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2234 | DOWN=0.2519
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.588 | Kelly raw: 0.223 | Kelly 25%: 0.056
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-21 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 15:58:57 :: RUN wallet_tracker.update_wallet()
2025-10-21 15:58:57 :: wallet_tracker: OK

==== 2025-10-21 16:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,358
⏱️ Última vela: 2025-10-21 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 19:00:00-04:00
    = UTC:       2025-10-21 23:00:00+00:00
    = Costa Rica:2025-10-21 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 16:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,158 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 16:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 16:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 21:00:00+00:00
Score base (sin calib): 0.722 | Calibrada: 0.583 | Usada(CAL): 0.583
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24       2.02
logret_1     1.69
ret_1        1.69
ret_4        1.65
ret_2        1.61
sma_200      1.59
macd_hist    1.32
ret_3        1.31
Últimas 200 → min:0.298 max:0.669 mean:0.471
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 16:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.583 | Prob BAJA: 0.417
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 21:00:00+00:00 | Close: 110,707.45 USDT
🪙 Apuesta:            2025-10-21 22:00:00+00:00 → liquida 2025-10-21 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1004 | DOWN=-0.1132
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.583 | Kelly raw: 0.113 | Kelly 25%: 0.028
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-21 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 16:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-21 16:01:21 :: wallet_tracker: OK

==== 2025-10-21 17:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,359
⏱️ Última vela: 2025-10-21 23:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 07:00 PM – 08:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 20:00:00-04:00
    = UTC:       2025-10-22 00:00:00+00:00
    = Costa Rica:2025-10-21 18:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 17:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,159 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 17:01:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 17:01:17 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 22:00:00+00:00
Score base (sin calib): 0.531 | Calibrada: 0.500 | Usada(CAL): 0.500
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24        1.99
ret_6         1.83
ret_1_lag1    1.69
sma_200       1.59
ret_8         1.41
ret_3         1.26
cos_hour      1.24
ret_2         1.15
Últimas 200 → min:0.298 max:0.669 mean:0.471
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 17:01:21 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.500 | Prob BAJA: 0.500
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 22:00:00+00:00 | Close: 110,745.55 USDT
🪙 Apuesta:            2025-10-21 23:00:00+00:00 → liquida 2025-10-22 00:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0561 | DOWN=0.0633
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7PM–8PM ET | cierra 2025-10-21 20:00:00 EDT (UTC 00:00, CR 18:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 17:01:24 :: RUN wallet_tracker.update_wallet()
2025-10-21 17:01:24 :: wallet_tracker: OK

==== 2025-10-21 18:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,360
⏱️ Última vela: 2025-10-22 00:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 08:00 PM – 09:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 21:00:00-04:00
    = UTC:       2025-10-22 01:00:00+00:00
    = Costa Rica:2025-10-21 19:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 18:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,160 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 18:01:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 18:01:18 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-21 23:00:00+00:00
Score base (sin calib): 0.753 | Calibrada: 0.596 | Usada(CAL): 0.596
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
logret_1      3.04
ret_1         3.03
ret_3         2.67
ret_4         2.60
ret_6         2.46
vol_24        2.25
ret_2         2.12
true_range    2.03
Últimas 200 → min:0.298 max:0.669 mean:0.471
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 18:01:22 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.596 | Prob BAJA: 0.404
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-21 23:00:00+00:00 | Close: 109,004.69 USDT
🪙 Apuesta:            2025-10-22 00:00:00+00:00 → liquida 2025-10-22 01:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1252 | DOWN=-0.1412
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.596 | Kelly raw: 0.141 | Kelly 25%: 0.035
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8PM–9PM ET | cierra 2025-10-21 21:00:00 EDT (UTC 01:00, CR 19:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 18:01:26 :: RUN wallet_tracker.update_wallet()
2025-10-21 18:01:26 :: wallet_tracker: OK
2025-10-21 19:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 19:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,361
⏱️ Última vela: 2025-10-22 01:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 09:00 PM – 10:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 22:00:00-04:00
    = UTC:       2025-10-22 02:00:00+00:00
    = Costa Rica:2025-10-21 20:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 19:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,161 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 19:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 19:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 00:00:00+00:00
Score base (sin calib): 0.770 | Calibrada: 0.603 | Usada(CAL): 0.603
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_2         3.08
ret_1_lag1    3.03
ret_8         3.01
ret_4         2.95
ret_6         2.56
ret_3         2.46
vol_24        2.27
sma_200       1.60
Últimas 200 → min:0.298 max:0.669 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 19:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.603 | Prob BAJA: 0.397
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 00:00:00+00:00 | Close: 108,243.70 USDT
🪙 Apuesta:            2025-10-22 01:00:00+00:00 → liquida 2025-10-22 02:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1381 | DOWN=-0.1558
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.603 | Kelly raw: 0.156 | Kelly 25%: 0.039
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9PM–10PM ET | cierra 2025-10-21 22:00:00 EDT (UTC 02:00, CR 20:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 19:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-21 19:01:17 :: wallet_tracker: OK
2025-10-21 20:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 20:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,362
⏱️ Última vela: 2025-10-22 02:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 10:00 PM – 11:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-21 23:00:00-04:00
    = UTC:       2025-10-22 03:00:00+00:00
    = Costa Rica:2025-10-21 21:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 20:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,162 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 20:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 20:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 01:00:00+00:00
Score base (sin calib): 0.687 | Calibrada: 0.568 | Usada(CAL): 0.568
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6        2.66
ret_3        2.66
ret_8        2.63
ret_4        2.27
vol_24       2.26
sma_200      1.61
macd_hist    1.41
sin_dow      1.39
Últimas 200 → min:0.298 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 20:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.568 | Prob BAJA: 0.432
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 01:00:00+00:00 | Close: 108,058.73 USDT
🪙 Apuesta:            2025-10-22 02:00:00+00:00 → liquida 2025-10-22 03:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0721 | DOWN=-0.0814
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.568 | Kelly raw: 0.081 | Kelly 25%: 0.020
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10PM–11PM ET | cierra 2025-10-21 23:00:00 EDT (UTC 03:00, CR 21:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 20:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-21 20:01:18 :: wallet_tracker: OK
2025-10-21 21:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-21 21:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,363
⏱️ Última vela: 2025-10-22 03:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-21 11:00 PM – 12:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 00:00:00-04:00
    = UTC:       2025-10-22 04:00:00+00:00
    = Costa Rica:2025-10-21 22:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 21:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,163 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 21:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 21:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 02:00:00+00:00
Score base (sin calib): 0.837 | Calibrada: 0.631 | Usada(CAL): 0.631
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_6         2.24
vol_24        2.23
ret_8         2.12
ret_4         2.05
sma_200       1.61
macd_hist     1.59
sin_dow       1.39
close_lag1    1.25
Últimas 200 → min:0.298 max:0.669 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 21:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.631 | Prob BAJA: 0.369
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 02:00:00+00:00 | Close: 108,334.90 USDT
🪙 Apuesta:            2025-10-22 03:00:00+00:00 → liquida 2025-10-22 04:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1903 | DOWN=-0.2145
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.631 | Kelly raw: 0.215 | Kelly 25%: 0.054
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11PM–12AM ET | cierra 2025-10-22 00:00:00 EDT (UTC 04:00, CR 22:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 21:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-21 21:01:18 :: wallet_tracker: OK

==== 2025-10-21 22:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,364
⏱️ Última vela: 2025-10-22 04:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 12:00 AM – 01:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 01:00:00-04:00
    = UTC:       2025-10-22 05:00:00+00:00
    = Costa Rica:2025-10-21 23:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 22:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,164 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 22:01:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 22:01:18 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 03:00:00+00:00
Score base (sin calib): 0.871 | Calibrada: 0.645 | Usada(CAL): 0.645
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24        2.21
ret_8         2.20
ret_6         1.70
macd_hist     1.68
sma_200       1.62
sin_dow       1.39
close_lag1    1.20
ema_50        1.12
Últimas 200 → min:0.298 max:0.669 mean:0.475
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 22:01:22 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.645 | Prob BAJA: 0.355
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 03:00:00+00:00 | Close: 108,166.80 USDT
🪙 Apuesta:            2025-10-22 04:00:00+00:00 → liquida 2025-10-22 05:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.2163 | DOWN=-0.2439
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.645 | Kelly raw: 0.244 | Kelly 25%: 0.061
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12AM–1AM ET | cierra 2025-10-22 01:00:00 EDT (UTC 05:00, CR 23:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 22:01:26 :: RUN wallet_tracker.update_wallet()
2025-10-21 22:01:26 :: wallet_tracker: OK

==== 2025-10-21 23:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,365
⏱️ Última vela: 2025-10-22 05:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 01:00 AM – 02:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 02:00:00-04:00
    = UTC:       2025-10-22 06:00:00+00:00
    = Costa Rica:2025-10-22 00:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-21 23:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,165 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-21 23:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-21 23:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 04:00:00+00:00
Score base (sin calib): 0.737 | Calibrada: 0.590 | Usada(CAL): 0.590
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24        2.17
ret_8         2.00
ret_6         1.72
macd_hist     1.64
sma_200       1.63
sin_dow       1.39
sin_hour      1.24
close_lag1    1.22
Últimas 200 → min:0.298 max:0.669 mean:0.475
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-21 23:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.590 | Prob BAJA: 0.410
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 04:00:00+00:00 | Close: 108,166.33 USDT
🪙 Apuesta:            2025-10-22 05:00:00+00:00 → liquida 2025-10-22 06:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.1124 | DOWN=-0.1267
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.590 | Kelly raw: 0.127 | Kelly 25%: 0.032
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1AM–2AM ET | cierra 2025-10-22 02:00:00 EDT (UTC 06:00, CR 00:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-21 23:01:17 :: RUN wallet_tracker.update_wallet()
2025-10-21 23:01:17 :: wallet_tracker: OK
2025-10-22 00:01:03 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 00:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,366
⏱️ Última vela: 2025-10-22 06:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 02:00 AM – 03:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 03:00:00-04:00
    = UTC:       2025-10-22 07:00:00+00:00
    = Costa Rica:2025-10-22 01:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 00:01:11 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,166 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 00:01:15 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 00:01:18 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 05:00:00+00:00
Score base (sin calib): 0.619 | Calibrada: 0.539 | Usada(CAL): 0.539
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24        2.06
sma_200       1.63
macd_hist     1.41
sin_dow       1.39
sin_hour      1.38
ret_8         1.22
close_lag1    1.22
ema_50        1.13
Últimas 200 → min:0.298 max:0.669 mean:0.476
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 00:01:26 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.539 | Prob BAJA: 0.461
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 05:00:00+00:00 | Close: 108,540.00 USDT
🪙 Apuesta:            2025-10-22 06:00:00+00:00 → liquida 2025-10-22 07:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0162 | DOWN=-0.0183
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2AM–3AM ET | cierra 2025-10-22 03:00:00 EDT (UTC 07:00, CR 01:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 00:01:29 :: RUN wallet_tracker.update_wallet()
2025-10-22 00:01:29 :: wallet_tracker: OK
2025-10-22 01:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 01:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,367
⏱️ Última vela: 2025-10-22 07:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 03:00 AM – 04:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 04:00:00-04:00
    = UTC:       2025-10-22 08:00:00+00:00
    = Costa Rica:2025-10-22 02:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 01:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,167 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 01:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 01:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 06:00:00+00:00
Score base (sin calib): 0.630 | Calibrada: 0.543 | Usada(CAL): 0.543
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24             2.05
sma_200            1.64
close_sma20_atr    1.58
ret_8              1.48
sin_hour           1.42
sin_dow            1.39
macd_hist          1.32
close_lag1         1.15
Últimas 200 → min:0.298 max:0.669 mean:0.476
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 01:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.543 | Prob BAJA: 0.457
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 06:00:00+00:00 | Close: 108,123.18 USDT
🪙 Apuesta:            2025-10-22 07:00:00+00:00 → liquida 2025-10-22 08:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0253 | DOWN=-0.0285
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.543 | Kelly raw: 0.029 | Kelly 25%: 0.007
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3AM–4AM ET | cierra 2025-10-22 04:00:00 EDT (UTC 08:00, CR 02:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 07:00:00+00:00 → 2025-10-22 08:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 01:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-22 01:01:19 :: wallet_tracker: OK
2025-10-22 02:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 02:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,368
⏱️ Última vela: 2025-10-22 08:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 04:00 AM – 05:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 05:00:00-04:00
    = UTC:       2025-10-22 09:00:00+00:00
    = Costa Rica:2025-10-22 03:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 02:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,168 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 02:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 02:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 07:00:00+00:00
Score base (sin calib): 0.518 | Calibrada: 0.495 | Usada(CAL): 0.495
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24             2.03
close_sma20_atr    1.86
sma_200            1.64
sin_dow            1.39
sin_hour           1.37
macd_hist          1.22
close_lag1         1.22
ema_50             1.15
Últimas 200 → min:0.298 max:0.669 mean:0.475
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 02:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.495 | Prob BAJA: 0.505
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 07:00:00+00:00 | Close: 107,996.20 USDT
🪙 Apuesta:            2025-10-22 08:00:00+00:00 → liquida 2025-10-22 09:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0669 | DOWN=0.0754
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4AM–5AM ET | cierra 2025-10-22 05:00:00 EDT (UTC 09:00, CR 03:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 02:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-22 02:01:19 :: wallet_tracker: OK
2025-10-22 03:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 03:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,369
⏱️ Última vela: 2025-10-22 09:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 05:00 AM – 06:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 06:00:00-04:00
    = UTC:       2025-10-22 10:00:00+00:00
    = Costa Rica:2025-10-22 04:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 03:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,169 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 03:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 03:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 08:00:00+00:00
Score base (sin calib): 0.465 | Calibrada: 0.472 | Usada(CAL): 0.472
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24             2.02
sma_200            1.65
close_sma20_atr    1.63
sin_dow            1.39
close_lag1         1.23
sin_hour           1.22
ema_50             1.15
ema_20             1.11
Últimas 200 → min:0.298 max:0.669 mean:0.475
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 03:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.472 | Prob BAJA: 0.528
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 08:00:00+00:00 | Close: 108,266.67 USDT
🪙 Apuesta:            2025-10-22 09:00:00+00:00 → liquida 2025-10-22 10:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1102 | DOWN=0.1242
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.528 | Kelly raw: 0.110 | Kelly 25%: 0.028
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5AM–6AM ET | cierra 2025-10-22 06:00:00 EDT (UTC 10:00, CR 04:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 09:00:00+00:00 → 2025-10-22 10:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 03:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-22 03:01:21 :: wallet_tracker: OK
2025-10-22 04:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 04:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,370
⏱️ Última vela: 2025-10-22 10:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 06:00 AM – 07:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 07:00:00-04:00
    = UTC:       2025-10-22 11:00:00+00:00
    = Costa Rica:2025-10-22 05:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 04:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,170 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 04:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 04:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 09:00:00+00:00
Score base (sin calib): 0.255 | Calibrada: 0.382 | Usada(CAL): 0.382
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24             1.99
sma_200            1.65
close_sma20_atr    1.60
sin_dow            1.39
close_lag1         1.18
ema_50             1.16
ema_20             1.12
true_range         1.11
Últimas 200 → min:0.298 max:0.669 mean:0.474
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 04:01:16 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.382 | Prob BAJA: 0.618
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 09:00:00+00:00 | Close: 108,272.43 USDT
🪙 Apuesta:            2025-10-22 10:00:00+00:00 → liquida 2025-10-22 11:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2790 | DOWN=0.3147
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.618 | Kelly raw: 0.279 | Kelly 25%: 0.070
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6AM–7AM ET | cierra 2025-10-22 07:00:00 EDT (UTC 11:00, CR 05:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 10:00:00+00:00 → 2025-10-22 11:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 04:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-22 04:01:19 :: wallet_tracker: OK
2025-10-22 05:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 05:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,371
⏱️ Última vela: 2025-10-22 11:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 07:00 AM – 08:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 08:00:00-04:00
    = UTC:       2025-10-22 12:00:00+00:00
    = Costa Rica:2025-10-22 06:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 05:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,171 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 05:01:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 05:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 10:00:00+00:00
Score base (sin calib): 0.570 | Calibrada: 0.518 | Usada(CAL): 0.518
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24             1.99
close_sma20_atr    1.91
sma_200            1.65
sin_dow            1.39
cos_hour           1.24
close_lag1         1.18
ema_50             1.16
ema_20             1.13
Últimas 200 → min:0.298 max:0.666 mean:0.473
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 05:01:14 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.518 | Prob BAJA: 0.482
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 10:00:00+00:00 | Close: 107,963.13 USDT
🪙 Apuesta:            2025-10-22 11:00:00+00:00 → liquida 2025-10-22 12:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0233 | DOWN=0.0263
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 7AM–8AM ET | cierra 2025-10-22 08:00:00 EDT (UTC 12:00, CR 06:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 05:01:16 :: RUN wallet_tracker.update_wallet()
2025-10-22 05:01:16 :: wallet_tracker: OK
2025-10-22 06:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 06:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,372
⏱️ Última vela: 2025-10-22 12:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 08:00 AM – 09:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 09:00:00-04:00
    = UTC:       2025-10-22 13:00:00+00:00
    = Costa Rica:2025-10-22 07:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 06:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,172 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 06:01:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 06:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 11:00:00+00:00
Score base (sin calib): 0.573 | Calibrada: 0.519 | Usada(CAL): 0.519
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
close_sma20_atr    2.21
vol_24             1.94
sma_200            1.66
slope_sma20        1.61
sin_dow            1.39
cos_hour           1.38
close_lag1         1.22
ema_50             1.17
Últimas 200 → min:0.298 max:0.666 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 06:01:14 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.519 | Prob BAJA: 0.481
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 11:00:00+00:00 | Close: 107,680.50 USDT
🪙 Apuesta:            2025-10-22 12:00:00+00:00 → liquida 2025-10-22 13:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0212 | DOWN=0.0239
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 8AM–9AM ET | cierra 2025-10-22 09:00:00 EDT (UTC 13:00, CR 07:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 06:01:16 :: RUN wallet_tracker.update_wallet()
2025-10-22 06:01:16 :: wallet_tracker: OK
2025-10-22 07:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 07:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,373
⏱️ Última vela: 2025-10-22 13:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 09:00 AM – 10:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 10:00:00-04:00
    = UTC:       2025-10-22 14:00:00+00:00
    = Costa Rica:2025-10-22 08:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 07:01:06 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,173 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 07:01:09 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 07:01:12 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 12:00:00+00:00
Score base (sin calib): 0.618 | Calibrada: 0.538 | Usada(CAL): 0.538
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
slope_sma20        2.11
vol_24             1.93
close_sma20_atr    1.93
sma_200            1.66
cos_hour           1.42
sin_dow            1.39
close_lag1         1.26
ema_50             1.18
Últimas 200 → min:0.298 max:0.657 mean:0.472
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 07:01:14 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.538 | Prob BAJA: 0.462
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 12:00:00+00:00 | Close: 107,590.55 USDT
🪙 Apuesta:            2025-10-22 13:00:00+00:00 → liquida 2025-10-22 14:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0155 | DOWN=-0.0175
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 9AM–10AM ET | cierra 2025-10-22 10:00:00 EDT (UTC 14:00, CR 08:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 07:01:16 :: RUN wallet_tracker.update_wallet()
2025-10-22 07:01:16 :: wallet_tracker: OK
2025-10-22 08:01:03 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 08:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,374
⏱️ Última vela: 2025-10-22 14:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 10:00 AM – 11:00 AM ET
  • Cierre de esta ventana (ET):  2025-10-22 11:00:00-04:00
    = UTC:       2025-10-22 15:00:00+00:00
    = Costa Rica:2025-10-22 09:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 08:01:11 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,174 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 08:01:14 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 08:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 13:00:00+00:00
Score base (sin calib): 0.339 | Calibrada: 0.417 | Usada(CAL): 0.417
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24             1.94
sma_200            1.66
slope_sma20        1.62
atr14              1.45
sin_dow            1.39
close_sma20_atr    1.39
cos_hour           1.37
close_lag1         1.27
Últimas 200 → min:0.298 max:0.657 mean:0.470
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 08:01:24 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.417 | Prob BAJA: 0.583
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 13:00:00+00:00 | Close: 108,060.48 USDT
🪙 Apuesta:            2025-10-22 14:00:00+00:00 → liquida 2025-10-22 15:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2127 | DOWN=0.2399
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.583 | Kelly raw: 0.213 | Kelly 25%: 0.053
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10AM–11AM ET | cierra 2025-10-22 11:00:00 EDT (UTC 15:00, CR 09:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 14:00:00+00:00 → 2025-10-22 15:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 08:01:26 :: RUN wallet_tracker.update_wallet()
2025-10-22 08:01:26 :: wallet_tracker: OK

==== 2025-10-22 08:23:38 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-22 14:00:00+00:00 | Ahora UTC: 2025-10-22 14:23:39.131455+00:00
  • Siguiente cierre esperado (UTC): 2025-10-22 15:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-22 08:00:00-06:00
      - Ahora (Costa Rica):      2025-10-22 08:23:39.131455-06:00
      - Próximo cierre (CR):     2025-10-22 09:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 08:23:39 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,174 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 08:23:41 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 08:23:43 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 13:00:00+00:00
Score base (sin calib): 0.339 | Calibrada: 0.417 | Usada(CAL): 0.417
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24             1.94
sma_200            1.66
slope_sma20        1.62
atr14              1.45
sin_dow            1.39
close_sma20_atr    1.39
cos_hour           1.37
close_lag1         1.27
Últimas 200 → min:0.298 max:0.657 mean:0.470
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 08:23:49 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.417 | Prob BAJA: 0.583
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 13:00:00+00:00 | Close: 108,060.48 USDT
🪙 Apuesta:            2025-10-22 14:00:00+00:00 → liquida 2025-10-22 15:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2127 | DOWN=0.2399
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.583 | Kelly raw: 0.213 | Kelly 25%: 0.053
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 10AM–11AM ET | cierra 2025-10-22 11:00:00 EDT (UTC 15:00, CR 09:00)
────────────────────────────────────────────────────────
⚠️ Ya existe una apuesta para 2025-10-22 14:00:00+00:00 → 2025-10-22 15:00:00+00:00, no se duplicará.
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 08:23:51 :: RUN wallet_tracker.update_wallet()
2025-10-22 08:23:51 :: wallet_tracker: OK
2025-10-22 09:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 09:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,375
⏱️ Última vela: 2025-10-22 15:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 11:00 AM – 12:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 12:00:00-04:00
    = UTC:       2025-10-22 16:00:00+00:00
    = Costa Rica:2025-10-22 10:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 09:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,175 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 09:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 09:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 14:00:00+00:00
Score base (sin calib): 0.212 | Calibrada: 0.365 | Usada(CAL): 0.365
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_24        1.95
vol_z20       1.68
sma_200       1.66
atr14         1.48
ret_2         1.40
sin_dow       1.39
cos_hour      1.22
close_lag1    1.19
Últimas 200 → min:0.298 max:0.657 mean:0.469
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 09:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.365 | Prob BAJA: 0.635
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 14:00:00+00:00 | Close: 108,651.82 USDT
🪙 Apuesta:            2025-10-22 15:00:00+00:00 → liquida 2025-10-22 16:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3120 | DOWN=0.3518
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.635 | Kelly raw: 0.312 | Kelly 25%: 0.078
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 11AM–12PM ET | cierra 2025-10-22 12:00:00 EDT (UTC 16:00, CR 10:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 15:00:00+00:00 → 2025-10-22 16:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 09:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-22 09:01:19 :: wallet_tracker: OK
2025-10-22 10:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 10:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,376
⏱️ Última vela: 2025-10-22 16:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 12:00 PM – 01:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 13:00:00-04:00
    = UTC:       2025-10-22 17:00:00+00:00
    = Costa Rica:2025-10-22 11:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 10:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,176 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 10:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 10:01:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 15:00:00+00:00
Score base (sin calib): 0.093 | Calibrada: 0.318 | Usada(CAL): 0.318
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_z20    2.31
sma_200    1.66
atr14      1.44
ret_3      1.40
sin_dow    1.39
ema_50     1.18
ema_20     1.16
ret_4      1.15
Últimas 200 → min:0.298 max:0.656 mean:0.467
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 10:01:18 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.318 | Prob BAJA: 0.682
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 15:00:00+00:00 | Close: 108,895.01 USDT
🪙 Apuesta:            2025-10-22 16:00:00+00:00 → liquida 2025-10-22 17:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.4001 | DOWN=0.4512
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.682 | Kelly raw: 0.400 | Kelly 25%: 0.100
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 12PM–1PM ET | cierra 2025-10-22 13:00:00 EDT (UTC 17:00, CR 11:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 16:00:00+00:00 → 2025-10-22 17:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 10:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-22 10:01:21 :: wallet_tracker: OK
2025-10-22 11:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 11:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,377
⏱️ Última vela: 2025-10-22 17:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 01:00 PM – 02:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 14:00:00-04:00
    = UTC:       2025-10-22 18:00:00+00:00
    = Costa Rica:2025-10-22 12:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 11:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,177 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 11:01:10 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 11:01:13 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 16:00:00+00:00
Score base (sin calib): 0.398 | Calibrada: 0.442 | Usada(CAL): 0.442
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
ret_24      1.69
sma_200     1.66
sin_dow     1.39
atr14       1.38
sin_hour    1.24
ema_50      1.18
sma_20      1.17
ema_20      1.16
Últimas 200 → min:0.298 max:0.656 mean:0.467
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 11:01:15 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.442 | Prob BAJA: 0.558
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 16:00:00+00:00 | Close: 108,393.54 USDT
🪙 Apuesta:            2025-10-22 17:00:00+00:00 → liquida 2025-10-22 18:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1652 | DOWN=0.1863
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.558 | Kelly raw: 0.165 | Kelly 25%: 0.041
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 1PM–2PM ET | cierra 2025-10-22 14:00:00 EDT (UTC 18:00, CR 12:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 17:00:00+00:00 → 2025-10-22 18:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 11:01:18 :: RUN wallet_tracker.update_wallet()
2025-10-22 11:01:18 :: wallet_tracker: OK
2025-10-22 12:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 12:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,378
⏱️ Última vela: 2025-10-22 18:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 02:00 PM – 03:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 15:00:00-04:00
    = UTC:       2025-10-22 19:00:00+00:00
    = Costa Rica:2025-10-22 13:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 12:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,178 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 12:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 12:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 17:00:00+00:00
Score base (sin calib): 0.484 | Calibrada: 0.480 | Usada(CAL): 0.480
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200     1.66
ret_24      1.48
sin_dow     1.39
sin_hour    1.38
atr14       1.36
sma_20      1.19
ema_50      1.18
ema_20      1.16
Últimas 200 → min:0.298 max:0.656 mean:0.466
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 12:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.480 | Prob BAJA: 0.520
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 17:00:00+00:00 | Close: 108,185.26 USDT
🪙 Apuesta:            2025-10-22 18:00:00+00:00 → liquida 2025-10-22 19:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.0947 | DOWN=0.1068
👉 RECOMENDACIÓN: NO_BET
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 2PM–3PM ET | cierra 2025-10-22 15:00:00 EDT (UTC 19:00, CR 13:00)
────────────────────────────────────────────────────────
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 12:01:19 :: RUN wallet_tracker.update_wallet()
2025-10-22 12:01:19 :: wallet_tracker: OK
2025-10-22 13:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 13:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,379
⏱️ Última vela: 2025-10-22 19:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 03:00 PM – 04:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 16:00:00-04:00
    = UTC:       2025-10-22 20:00:00+00:00
    = Costa Rica:2025-10-22 14:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 13:01:07 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,179 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 13:01:11 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 13:01:14 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 18:00:00+00:00
Score base (sin calib): 0.406 | Calibrada: 0.446 | Usada(CAL): 0.446
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200     1.66
sin_hour    1.42
ret_24      1.40
sin_dow     1.39
atr14       1.24
sma_20      1.21
ema_50      1.19
ema_20      1.17
Últimas 200 → min:0.298 max:0.656 mean:0.465
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 13:01:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.446 | Prob BAJA: 0.554
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 18:00:00+00:00 | Close: 107,823.73 USDT
🪙 Apuesta:            2025-10-22 19:00:00+00:00 → liquida 2025-10-22 20:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.1585 | DOWN=0.1788
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.554 | Kelly raw: 0.159 | Kelly 25%: 0.040
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 3PM–4PM ET | cierra 2025-10-22 16:00:00 EDT (UTC 20:00, CR 14:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 19:00:00+00:00 → 2025-10-22 20:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 13:01:20 :: RUN wallet_tracker.update_wallet()
2025-10-22 13:01:20 :: wallet_tracker: OK
2025-10-22 14:01:02 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 14:01:00 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/Crypto_predictivo/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,380
⏱️ Última vela: 2025-10-22 20:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 04:00 PM – 05:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 17:00:00-04:00
    = UTC:       2025-10-22 21:00:00+00:00
    = Costa Rica:2025-10-22 15:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 14:01:08 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,180 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 14:01:12 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 14:01:16 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\Crypto_predictivo
📄 META: C:\Users\leanv\Crypto_predictivo\model\model_meta.json
📄 FEATS: C:\Users\leanv\Crypto_predictivo\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 19:00:00+00:00
Score base (sin calib): 0.296 | Calibrada: 0.399 | Usada(CAL): 0.399
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.66
sin_dow       1.39
sin_hour      1.37
ret_24        1.32
atr14         1.31
sma_20        1.21
close_lag1    1.21
ema_50        1.19
Últimas 200 → min:0.298 max:0.656 mean:0.464
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 14:01:19 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.399 | Prob BAJA: 0.601
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 19:00:00+00:00 | Close: 108,014.27 USDT
🪙 Apuesta:            2025-10-22 20:00:00+00:00 → liquida 2025-10-22 21:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.2472 | DOWN=0.2787
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.601 | Kelly raw: 0.247 | Kelly 25%: 0.062
📝 Log: C:\Users\leanv\Crypto_predictivo\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 4PM–5PM ET | cierra 2025-10-22 17:00:00 EDT (UTC 21:00, CR 15:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 20:00:00+00:00 → 2025-10-22 21:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 14:01:21 :: RUN wallet_tracker.update_wallet()
2025-10-22 14:01:22 :: wallet_tracker: OK

==== 2025-10-22 21:07:35 :: RUN src.data.pipeline_csv  ====
✅ /app/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,381
⏱️ Última vela: 2025-10-22 21:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 05:00 PM – 06:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 18:00:00-04:00
    = UTC:       2025-10-22 22:00:00+00:00
    = Costa Rica:2025-10-22 16:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 21:07:40 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data/derived/BTCUSDT/features_1h.csv (33,181 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 21:07:44 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 21:07:48 :: RUN src.inference.update_and_predict  ====
📂 ROOT: /app
📄 META: /app/model/model_meta.json
📄 FEATS: /app/data/derived/BTCUSDT/features_1h.csv
🔎 Modelo esperado en: model/models/best_model_xgb.joblib
/usr/local/lib/python3.12/pickle.py:1760: UserWarning: [21:07:49] WARNING: /workspace/src/collective/../data/../common/error_msg.h:83: If you are loading a serialized model (like pickle in Python, RDS in R) or
configuration generated by an older version of XGBoost, please export the model by calling
`Booster.save_model` from that version first, then load it back in current version. See:

    https://xgboost.readthedocs.io/en/stable/tutorials/saving_model.html

for more details about differences between saving model and serializing.

  setstate(state)
⏱️ Última vela: 2025-10-22 20:00:00+00:00
Score base (sin calib): 0.215 | Calibrada: 0.366 | Usada(CAL): 0.366
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.66
atr14         1.39
sin_dow       1.39
ret_24        1.23
sin_hour      1.22
sma_20        1.21
ema_50        1.19
close_lag1    1.17
Últimas 200 → min:0.298 max:0.656 mean:0.463
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 21:07:50 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
/usr/local/lib/python3.12/pickle.py:1760: UserWarning: [21:07:52] WARNING: /workspace/src/collective/../data/../common/error_msg.h:83: If you are loading a serialized model (like pickle in Python, RDS in R) or
configuration generated by an older version of XGBoost, please export the model by calling
`Booster.save_model` from that version first, then load it back in current version. See:

    https://xgboost.readthedocs.io/en/stable/tutorials/saving_model.html

for more details about differences between saving model and serializing.

  setstate(state)
Prob SUBA (CAL): 0.366 | Prob BAJA: 0.634
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 20:00:00+00:00 | Close: 107,937.35 USDT
🪙 Apuesta:            2025-10-22 21:00:00+00:00 → liquida 2025-10-22 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3096 | DOWN=0.3492
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.634 | Kelly raw: 0.310 | Kelly 25%: 0.077
📝 Log: /app/archivosextras/decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-22 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 21:00:00+00:00 → 2025-10-22 22:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 21:07:52 :: RUN wallet_tracker.update_wallet()
2025-10-22 21:07:52 :: wallet_tracker: OK

==== 2025-10-22 15:09:45 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-22 21:00:00+00:00 | Ahora UTC: 2025-10-22 21:09:46.611949+00:00
  • Siguiente cierre esperado (UTC): 2025-10-22 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-22 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-22 15:09:46.611949-06:00
      - Próximo cierre (CR):     2025-10-22 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 15:09:46 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,181 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 15:09:50 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 15:09:54 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\CryptoPredict
📄 META: C:\Users\leanv\CryptoPredict\model\model_meta.json
📄 FEATS: C:\Users\leanv\CryptoPredict\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 20:00:00+00:00
Score base (sin calib): 0.215 | Calibrada: 0.366 | Usada(CAL): 0.366
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.66
atr14         1.39
sin_dow       1.39
ret_24        1.23
sin_hour      1.22
sma_20        1.21
ema_50        1.19
close_lag1    1.17
Últimas 200 → min:0.298 max:0.656 mean:0.463
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 15:10:02 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.366 | Prob BAJA: 0.634
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 20:00:00+00:00 | Close: 107,937.35 USDT
🪙 Apuesta:            2025-10-22 21:00:00+00:00 → liquida 2025-10-22 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3096 | DOWN=0.3492
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.634 | Kelly raw: 0.310 | Kelly 25%: 0.077
📝 Log: C:\Users\leanv\CryptoPredict\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-22 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
⚠️ Ya existe una apuesta para 2025-10-22 21:00:00+00:00 → 2025-10-22 22:00:00+00:00, no se duplicará.
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 15:10:04 :: RUN wallet_tracker.update_wallet()
2025-10-22 15:10:04 :: wallet_tracker: OK

==== 2025-10-22 15:10:45 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-22 21:00:00+00:00 | Ahora UTC: 2025-10-22 21:10:46.319400+00:00
  • Siguiente cierre esperado (UTC): 2025-10-22 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-22 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-22 15:10:46.319400-06:00
      - Próximo cierre (CR):     2025-10-22 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 15:10:46 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,181 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 15:10:49 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 15:10:51 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\CryptoPredict
📄 META: C:\Users\leanv\CryptoPredict\model\model_meta.json
📄 FEATS: C:\Users\leanv\CryptoPredict\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 20:00:00+00:00
Score base (sin calib): 0.215 | Calibrada: 0.366 | Usada(CAL): 0.366
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.66
atr14         1.39
sin_dow       1.39
ret_24        1.23
sin_hour      1.22
sma_20        1.21
ema_50        1.19
close_lag1    1.17
Últimas 200 → min:0.298 max:0.656 mean:0.463
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 15:10:53 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.366 | Prob BAJA: 0.634
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 20:00:00+00:00 | Close: 107,937.35 USDT
🪙 Apuesta:            2025-10-22 21:00:00+00:00 → liquida 2025-10-22 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3096 | DOWN=0.3492
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.634 | Kelly raw: 0.310 | Kelly 25%: 0.077
📝 Log: C:\Users\leanv\CryptoPredict\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-22 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
⚠️ Ya existe una apuesta para 2025-10-22 21:00:00+00:00 → 2025-10-22 22:00:00+00:00, no se duplicará.
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 15:10:56 :: RUN wallet_tracker.update_wallet()
2025-10-22 15:10:56 :: wallet_tracker: OK

==== 2025-10-22 15:11:09 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-22 21:00:00+00:00 | Ahora UTC: 2025-10-22 21:11:10.153167+00:00
  • Siguiente cierre esperado (UTC): 2025-10-22 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-22 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-22 15:11:10.153167-06:00
      - Próximo cierre (CR):     2025-10-22 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 15:11:10 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,181 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 15:11:13 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 15:11:15 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\CryptoPredict
📄 META: C:\Users\leanv\CryptoPredict\model\model_meta.json
📄 FEATS: C:\Users\leanv\CryptoPredict\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 20:00:00+00:00
Score base (sin calib): 0.215 | Calibrada: 0.366 | Usada(CAL): 0.366
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
sma_200       1.66
atr14         1.39
sin_dow       1.39
ret_24        1.23
sin_hour      1.22
sma_20        1.21
ema_50        1.19
close_lag1    1.17
Últimas 200 → min:0.298 max:0.656 mean:0.463
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 15:11:17 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.366 | Prob BAJA: 0.634
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 20:00:00+00:00 | Close: 107,937.35 USDT
🪙 Apuesta:            2025-10-22 21:00:00+00:00 → liquida 2025-10-22 22:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=-0.3096 | DOWN=0.3492
👉 RECOMENDACIÓN: BET_DOWN
   • Prob usada: 0.634 | Kelly raw: 0.310 | Kelly 25%: 0.077
📝 Log: C:\Users\leanv\CryptoPredict\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 5PM–6PM ET | cierra 2025-10-22 18:00:00 EDT (UTC 22:00, CR 16:00)
────────────────────────────────────────────────────────
⚠️ Ya existe una apuesta para 2025-10-22 21:00:00+00:00 → 2025-10-22 22:00:00+00:00, no se duplicará.
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 15:11:19 :: RUN wallet_tracker.update_wallet()
2025-10-22 15:11:19 :: wallet_tracker: OK

==== 2025-10-22 21:15:40 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-22 21:00:00+00:00 | Ahora UTC: 2025-10-22 21:15:42.776793+00:00
  • Siguiente cierre esperado (UTC): 2025-10-22 22:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-22 15:00:00-06:00
      - Ahora (Costa Rica):      2025-10-22 15:15:42.776793-06:00
      - Próximo cierre (CR):     2025-10-22 16:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 21:15:43 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data/derived/BTCUSDT/features_1h.csv (33,181 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 21:15:49 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----
2025-10-22 21:16:59 :: 🔒 lock activo; ciclo saltado.
2025-10-22 15:17:18 :: 🔒 lock activo; ciclo saltado.
2025-10-22 16:01:00 :: 🔒 lock activo; ciclo saltado.
2025-10-22 22:01:00 :: 🔒 lock activo; ciclo saltado.
2025-10-22 16:01:25 :: 🔒 lock activo; ciclo saltado.
2025-10-22 16:03:02 :: 🔒 lock activo; ciclo saltado.
2025-10-22 22:03:58 :: 🔒 lock activo; ciclo saltado.
2025-10-22 16:04:26 :: 🔒 lock activo; ciclo saltado.

==== 2025-10-22 16:04:47 :: RUN src.data.pipeline_csv  ====
✅ C:/Users/leanv/CryptoPredict/data/raw/BTCUSDT/ohlcv_spot_1h.csv actualizado | filas totales: 33,382
⏱️ Última vela: 2025-10-22 22:00:00+00:00
🕒 Polymarket (ET):
  • Ventana actual: 2025-10-22 06:00 PM – 07:00 PM ET
  • Cierre de esta ventana (ET):  2025-10-22 19:00:00-04:00
    = UTC:       2025-10-22 23:00:00+00:00
    = Costa Rica:2025-10-22 17:00:00-06:00
  • Regla práctica: apostá tras el cierre de una vela UTC (minuto :00).
    Esa predicción cubre la ventana ET en curso que cierra 1h después.
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 16:04:54 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,182 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 16:04:57 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 16:04:59 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\CryptoPredict
📄 META: C:\Users\leanv\CryptoPredict\model\model_meta.json
📄 FEATS: C:\Users\leanv\CryptoPredict\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 21:00:00+00:00
Score base (sin calib): 0.659 | Calibrada: 0.556 | Usada(CAL): 0.556
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_z20           3.79
body_over_atr     2.01
bb_pos            1.72
range_over_atr    1.71
sma_200           1.66
sin_dow           1.39
ret_1             1.22
logret_1          1.22
Últimas 200 → min:0.298 max:0.656 mean:0.464
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 16:05:04 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.556 | Prob BAJA: 0.444
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 21:00:00+00:00 | Close: 107,241.99 USDT
🪙 Apuesta:            2025-10-22 22:00:00+00:00 → liquida 2025-10-22 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0492 | DOWN=-0.0555
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.556 | Kelly raw: 0.055 | Kelly 25%: 0.014
📝 Log: C:\Users\leanv\CryptoPredict\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-22 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
✅ Apuesta guardada en log (2025-10-22 22:00:00+00:00 → 2025-10-22 23:00:00+00:00).
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 16:05:07 :: RUN wallet_tracker.update_wallet()
2025-10-22 16:05:07 :: wallet_tracker: OK

==== 2025-10-22 16:21:05 :: RUN src.data.pipeline_csv  ====
No hay velas nuevas para DESCARGAR.
  • Última RAW: 2025-10-22 22:00:00+00:00 | Ahora UTC: 2025-10-22 22:21:05.864230+00:00
  • Siguiente cierre esperado (UTC): 2025-10-22 23:00:00+00:00
  • Ayuda horarios:
      - Última RAW (Costa Rica): 2025-10-22 16:00:00-06:00
      - Ahora (Costa Rica):      2025-10-22 16:21:05.864230-06:00
      - Próximo cierre (CR):     2025-10-22 17:00:00-06:00
  • Regla: la vela con timestamp 18:00 UTC representa 17:00–18:00 y se confirma a las 18:00:00 UTC.
           Apostás para la HORA SIGUIENTE (apenas cierra la vela actual).
---- EXIT CODE 0 (src.data.pipeline_csv) ----

==== 2025-10-22 16:21:05 :: RUN src.feature.make_features_1h  ====
✅ Features actualizados → data\derived\BTCUSDT\features_1h.csv (33,182 filas)
---- EXIT CODE 0 (src.feature.make_features_1h) ----

==== 2025-10-22 16:21:08 :: RUN src.preprocessing.make_Xy_1h  ====
✅ Guardados: preprocessed/BTCUSDT/X_1h.csv y y_color_1h.csv
---- EXIT CODE 0 (src.preprocessing.make_Xy_1h) ----

==== 2025-10-22 16:21:11 :: RUN src.inference.update_and_predict  ====
📂 ROOT: C:\Users\leanv\CryptoPredict
📄 META: C:\Users\leanv\CryptoPredict\model\model_meta.json
📄 FEATS: C:\Users\leanv\CryptoPredict\data\derived\BTCUSDT\features_1h.csv
🔎 Modelo esperado en: model\models\best_model_xgb.joblib
⏱️ Última vela: 2025-10-22 21:00:00+00:00
Score base (sin calib): 0.659 | Calibrada: 0.556 | Usada(CAL): 0.556
✅ Inferencia OK
NaNs en fila usada: 0 | Infs: 0
Top outliers (|z|) de la última fila:
vol_z20           3.79
body_over_atr     2.01
bb_pos            1.72
range_over_atr    1.71
sma_200           1.66
sin_dow           1.39
ret_1             1.22
logret_1          1.22
Últimas 200 → min:0.298 max:0.656 mean:0.464
---- EXIT CODE 0 (src.inference.update_and_predict) ----

==== 2025-10-22 16:21:13 :: RUN src.decision.decide_and_recommend  ====
❓ Columns que tiene feats:
['datetime', 'close', 'ret_1', 'logret_1', 'ret_2', 'ret_3', 'ret_4', 'ret_6', 'ret_8', 'ret_24', 'vol_24', 'vol_72', 'sma_20', 'sma_50', 'sma_200', 'ema_20', 'ema_50', 'sma_ratio_20_50', 'sma_ratio_50_200', 'rsi_14', 'macd', 'macd_signal', 'macd_hist', 'bb_pos', 'vol_z20', 'quote_volume_usd', 'close_lag1', 'ret_1_lag1', 'body', 'range', 'upper_wick', 'lower_wick', 'body_pct', 'upper_wick_pct', 'lower_wick_pct', 'true_range', 'atr14', 'slope_sma20', 'trend_flag', 'vol_regime', 'sin_hour', 'cos_hour', 'sin_dow', 'cos_dow', 'body_over_atr', 'range_over_atr', 'close_sma20_atr']
Prob SUBA (CAL): 0.556 | Prob BAJA: 0.444
────────────────────────────────────────────────────────
🧱 Vela cerrada usada: 2025-10-22 21:00:00+00:00 | Close: 107,241.99 USDT
🪙 Apuesta:            2025-10-22 22:00:00+00:00 → liquida 2025-10-22 23:00:00+00:00
Break-even   → UP=0.530 | DOWN=0.470
Política     → UP≥0.527 | DOWN≥0.527 | min_EV≥0.020 | min_Kelly≥0.020
EV           → UP=0.0492 | DOWN=-0.0555
👉 RECOMENDACIÓN: BET_UP
   • Prob usada: 0.556 | Kelly raw: 0.055 | Kelly 25%: 0.014
📝 Log: C:\Users\leanv\CryptoPredict\archivosextras\decisions_log.csv
────────────────────────────────────────────────────────
────────────────────────────────────────────────────────
🕒 Polymarket (ET): 6PM–7PM ET | cierra 2025-10-22 19:00:00 EDT (UTC 23:00, CR 17:00)
────────────────────────────────────────────────────────
⚠️ Ya existe una apuesta para 2025-10-22 22:00:00+00:00 → 2025-10-22 23:00:00+00:00, no se duplicará.
---- EXIT CODE 0 (src.decision.decide_and_recommend) ----
2025-10-22 16:21:15 :: RUN wallet_tracker.update_wallet()
2025-10-22 16:21:15 :: wallet_tracker: OK
